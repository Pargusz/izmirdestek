(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function jM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fg={exports:{}},ec={};var Iw;function qM(){if(Iw)return ec;Iw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:e,type:i,key:u,ref:a!==void 0?a:null,props:o}}return ec.Fragment=t,ec.jsx=n,ec.jsxs=n,ec}var xw;function HM(){return xw||(xw=1,Fg.exports=qM()),Fg.exports}var $=HM(),jg={exports:{}},bt={};var Dw;function GM(){if(Dw)return bt;Dw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,N={};function F(U,it,ct){this.props=U,this.context=it,this.refs=N,this.updater=ct||R}F.prototype.isReactComponent={},F.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=F.prototype;function H(U,it,ct){this.props=U,this.context=it,this.refs=N,this.updater=ct||R}var tt=H.prototype=new j;tt.constructor=H,D(tt,F.prototype),tt.isPureReactComponent=!0;var rt=Array.isArray;function ut(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function x(U,it,ct){var dt=ct.ref;return{$$typeof:e,type:U,key:it,ref:dt!==void 0?dt:null,props:ct}}function k(U,it){return x(U.type,it,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function z(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ct){return it[ct]})}var M=/\/+/g;function re(U,it){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):it.toString(36)}function Se(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ut,ut):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,it,ct,dt,wt){var Dt=typeof U;(Dt==="undefined"||Dt==="boolean")&&(U=null);var Ht=!1;if(U===null)Ht=!0;else switch(Dt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(U.$$typeof){case e:case t:Ht=!0;break;case y:return Ht=U._init,Z(Ht(U._payload),it,ct,dt,wt)}}if(Ht)return wt=wt(U),Ht=dt===""?"."+re(U,0):dt,rt(wt)?(ct="",Ht!=null&&(ct=Ht.replace(M,"$&/")+"/"),Z(wt,it,ct,"",function(ra){return ra})):wt!=null&&(O(wt)&&(wt=k(wt,ct+(wt.key==null||U&&U.key===wt.key?"":(""+wt.key).replace(M,"$&/")+"/")+Ht)),it.push(wt)),1;Ht=0;var Ge=dt===""?".":dt+":";if(rt(U))for(var pe=0;pe<U.length;pe++)dt=U[pe],Dt=Ge+re(dt,pe),Ht+=Z(dt,it,ct,Dt,wt);else if(pe=A(U),typeof pe=="function")for(U=pe.call(U),pe=0;!(dt=U.next()).done;)dt=dt.value,Dt=Ge+re(dt,pe++),Ht+=Z(dt,it,ct,Dt,wt);else if(Dt==="object"){if(typeof U.then=="function")return Z(Se(U),it,ct,dt,wt);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function at(U,it,ct){if(U==null)return U;var dt=[],wt=0;return Z(U,dt,"","",function(Dt){return it.call(ct,Dt,wt++)}),dt}function pt(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(ct){(U._status===0||U._status===-1)&&(U._status=1,U._result=ct)},function(ct){(U._status===0||U._status===-1)&&(U._status=2,U._result=ct)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var xt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Lt={map:at,forEach:function(U,it,ct){at(U,function(){it.apply(this,arguments)},ct)},count:function(U){var it=0;return at(U,function(){it++}),it},toArray:function(U){return at(U,function(it){return it})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return bt.Activity=_,bt.Children=Lt,bt.Component=F,bt.Fragment=n,bt.Profiler=a,bt.PureComponent=H,bt.StrictMode=i,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},bt.cache=function(U){return function(){return U.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(U,it,ct){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var dt=D({},U.props),wt=U.key;if(it!=null)for(Dt in it.key!==void 0&&(wt=""+it.key),it)!C.call(it,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&it.ref===void 0||(dt[Dt]=it[Dt]);var Dt=arguments.length-2;if(Dt===1)dt.children=ct;else if(1<Dt){for(var Ht=Array(Dt),Ge=0;Ge<Dt;Ge++)Ht[Ge]=arguments[Ge+2];dt.children=Ht}return x(U.type,wt,dt)},bt.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},bt.createElement=function(U,it,ct){var dt,wt={},Dt=null;if(it!=null)for(dt in it.key!==void 0&&(Dt=""+it.key),it)C.call(it,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(wt[dt]=it[dt]);var Ht=arguments.length-2;if(Ht===1)wt.children=ct;else if(1<Ht){for(var Ge=Array(Ht),pe=0;pe<Ht;pe++)Ge[pe]=arguments[pe+2];wt.children=Ge}if(U&&U.defaultProps)for(dt in Ht=U.defaultProps,Ht)wt[dt]===void 0&&(wt[dt]=Ht[dt]);return x(U,Dt,wt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(U){return{$$typeof:h,render:U}},bt.isValidElement=O,bt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:pt}},bt.memo=function(U,it){return{$$typeof:m,type:U,compare:it===void 0?null:it}},bt.startTransition=function(U){var it=I.T,ct={};I.T=ct;try{var dt=U(),wt=I.S;wt!==null&&wt(ct,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(ut,xt)}catch(Dt){xt(Dt)}finally{it!==null&&ct.types!==null&&(it.types=ct.types),I.T=it}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(U){return I.H.use(U)},bt.useActionState=function(U,it,ct){return I.H.useActionState(U,it,ct)},bt.useCallback=function(U,it){return I.H.useCallback(U,it)},bt.useContext=function(U){return I.H.useContext(U)},bt.useDebugValue=function(){},bt.useDeferredValue=function(U,it){return I.H.useDeferredValue(U,it)},bt.useEffect=function(U,it){return I.H.useEffect(U,it)},bt.useEffectEvent=function(U){return I.H.useEffectEvent(U)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(U,it,ct){return I.H.useImperativeHandle(U,it,ct)},bt.useInsertionEffect=function(U,it){return I.H.useInsertionEffect(U,it)},bt.useLayoutEffect=function(U,it){return I.H.useLayoutEffect(U,it)},bt.useMemo=function(U,it){return I.H.useMemo(U,it)},bt.useOptimistic=function(U,it){return I.H.useOptimistic(U,it)},bt.useReducer=function(U,it,ct){return I.H.useReducer(U,it,ct)},bt.useRef=function(U){return I.H.useRef(U)},bt.useState=function(U){return I.H.useState(U)},bt.useSyncExternalStore=function(U,it,ct){return I.H.useSyncExternalStore(U,it,ct)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.3",bt}var Nw;function H_(){return Nw||(Nw=1,jg.exports=GM()),jg.exports}var P=H_();const qg=jM(P);var Hg={exports:{}},nc={},Gg={exports:{}},Yg={};var Mw;function YM(){return Mw||(Mw=1,(function(e){function t(Z,at){var pt=Z.length;Z.push(at);t:for(;0<pt;){var xt=pt-1>>>1,Lt=Z[xt];if(0<a(Lt,at))Z[xt]=at,Z[pt]=Lt,pt=xt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var at=Z[0],pt=Z.pop();if(pt!==at){Z[0]=pt;t:for(var xt=0,Lt=Z.length,U=Lt>>>1;xt<U;){var it=2*(xt+1)-1,ct=Z[it],dt=it+1,wt=Z[dt];if(0>a(ct,pt))dt<Lt&&0>a(wt,ct)?(Z[xt]=wt,Z[dt]=pt,xt=dt):(Z[xt]=ct,Z[it]=pt,xt=it);else if(dt<Lt&&0>a(wt,pt))Z[xt]=wt,Z[dt]=pt,xt=dt;else break t}}return at}function a(Z,at){var pt=Z.sortIndex-at.sortIndex;return pt!==0?pt:Z.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,_=null,E=3,A=!1,R=!1,D=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function tt(Z){for(var at=n(m);at!==null;){if(at.callback===null)i(m);else if(at.startTime<=Z)i(m),at.sortIndex=at.expirationTime,t(d,at);else break;at=n(m)}}function rt(Z){if(D=!1,tt(Z),!R)if(n(d)!==null)R=!0,ut||(ut=!0,z());else{var at=n(m);at!==null&&Se(rt,at.startTime-Z)}}var ut=!1,I=-1,C=5,x=-1;function k(){return N?!0:!(e.unstable_now()-x<C)}function O(){if(N=!1,ut){var Z=e.unstable_now();x=Z;var at=!0;try{t:{R=!1,D&&(D=!1,j(I),I=-1),A=!0;var pt=E;try{e:{for(tt(Z),_=n(d);_!==null&&!(_.expirationTime>Z&&k());){var xt=_.callback;if(typeof xt=="function"){_.callback=null,E=_.priorityLevel;var Lt=xt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof Lt=="function"){_.callback=Lt,tt(Z),at=!0;break e}_===n(d)&&i(d),tt(Z)}else i(d);_=n(d)}if(_!==null)at=!0;else{var U=n(m);U!==null&&Se(rt,U.startTime-Z),at=!1}}break t}finally{_=null,E=pt,A=!1}at=void 0}}finally{at?z():ut=!1}}}var z;if(typeof H=="function")z=function(){H(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,re=M.port2;M.port1.onmessage=O,z=function(){re.postMessage(null)}}else z=function(){F(O,0)};function Se(Z,at){I=F(function(){Z(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var pt=E;E=at;try{return Z()}finally{E=pt}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(Z,at){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pt=E;E=Z;try{return at()}finally{E=pt}},e.unstable_scheduleCallback=function(Z,at,pt){var xt=e.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?xt+pt:xt):pt=xt,Z){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=pt+Lt,Z={id:y++,callback:at,priorityLevel:Z,startTime:pt,expirationTime:Lt,sortIndex:-1},pt>xt?(Z.sortIndex=pt,t(m,Z),n(d)===null&&Z===n(m)&&(D?(j(I),I=-1):D=!0,Se(rt,pt-xt))):(Z.sortIndex=Lt,t(d,Z),R||A||(R=!0,ut||(ut=!0,z()))),Z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Z){var at=E;return function(){var pt=E;E=at;try{return Z.apply(this,arguments)}finally{E=pt}}}})(Yg)),Yg}var Vw;function KM(){return Vw||(Vw=1,Gg.exports=YM()),Gg.exports}var Kg={exports:{}},yn={};var Ow;function $M(){if(Ow)return yn;Ow=1;var e=H_();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,y)},yn.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},yn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},yn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},yn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},yn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},yn.requestFormReset=function(d){i.d.r(d)},yn.unstable_batchedUpdates=function(d,m){return d(m)},yn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Pw;function QM(){if(Pw)return Kg.exports;Pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kg.exports=$M(),Kg.exports}var kw;function WM(){if(kw)return nc;kw=1;var e=KM(),t=H_(),n=QM();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),s;if(g===c)return d(p),r;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,w=p.child;w;){if(w===l){T=!0,l=p,c=g;break}if(w===c){T=!0,c=p,l=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===l){T=!0,l=g,c=p;break}if(w===c){T=!0,c=g,l=p;break}w=w.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function re(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case F:return"Profiler";case N:return"StrictMode";case rt:return"Suspense";case ut:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case H:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case tt:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return r=s.displayName||null,r!==null?r:re(s.type)||"Memo";case C:r=s._payload,s=s._init;try{return re(s(r))}catch{}}return null}var Se=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},xt=[],Lt=-1;function U(s){return{current:s}}function it(s){0>Lt||(s.current=xt[Lt],xt[Lt]=null,Lt--)}function ct(s,r){Lt++,xt[Lt]=s.current,s.current=r}var dt=U(null),wt=U(null),Dt=U(null),Ht=U(null);function Ge(s,r){switch(ct(Dt,r),ct(wt,s),ct(dt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?XS(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=XS(r),s=ZS(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}it(dt),ct(dt,s)}function pe(){it(dt),it(wt),it(Dt)}function ra(s){s.memoizedState!==null&&ct(Ht,s);var r=dt.current,l=ZS(r,s.type);r!==l&&(ct(wt,s),ct(dt,l))}function po(s){wt.current===s&&(it(dt),it(wt)),Ht.current===s&&(it(Ht),Xu._currentValue=pt)}var go,yo;function qi(s){if(go===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);go=r&&r[1]||"",yo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+go+s+yo}var Xl=!1;function aa(s,r){if(!s||Xl)return"";Xl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var K=W}Reflect.construct(s,[],nt)}else{try{nt.call()}catch(W){K=W}s.call(nt.prototype)}}else{try{throw Error()}catch(W){K=W}(nt=s())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var V=T.split(`
`),Y=w.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===Y.length)for(c=V.length-1,p=Y.length-1;1<=c&&0<=p&&V[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==Y[p]){var X=`
`+V[c].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=c&&0<=p);break}}}finally{Xl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?qi(l):""}function Zl(s,r){switch(s.tag){case 26:case 27:case 5:return qi(s.type);case 16:return qi("Lazy");case 13:return s.child!==r&&r!==null?qi("Suspense Fallback"):qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return aa(s.type,!1);case 11:return aa(s.type.render,!1);case 1:return aa(s.type,!0);case 31:return qi("Activity");default:return""}}function Jl(s){try{var r="",l=null;do r+=Zl(s,l),l=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Me=Object.prototype.hasOwnProperty,Ye=e.unstable_scheduleCallback,nr=e.unstable_cancelCallback,qm=e.unstable_shouldYield,yh=e.unstable_requestPaint,wn=e.unstable_now,oa=e.unstable_getCurrentPriorityLevel,tu=e.unstable_ImmediatePriority,eu=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,Hm=e.unstable_LowPriority,_h=e.unstable_IdlePriority,vh=e.log,Eh=e.unstable_setDisableYieldValue,_i=null,rn=null;function ti(s){if(typeof vh=="function"&&Eh(s),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(_i,s)}catch{}}var Ce=Math.clz32?Math.clz32:Sh,Th=Math.log,_o=Math.LN2;function Sh(s){return s>>>=0,s===0?32:31-(Th(s)/_o|0)|0}var Hi=256,la=262144,Ve=4194304;function Gi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yi(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?p=Gi(c):(T&=w,T!==0?p=Gi(T):l||(l=w&~s,l!==0&&(p=Gi(l))))):(w=c&~g,w!==0?p=Gi(w):T!==0?p=Gi(T):l||(l=c&~s,l!==0&&(p=Gi(l)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,l=r&-r,g>=l||g===32&&(l&4194048)!==0)?r:p}function vi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Gm(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(){var s=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),s}function Ki(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ua(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ym(s,r,l,c,p,g){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var X=31-Ce(l),nt=1<<X;w[X]=0,V[X]=-1;var K=Y[X];if(K!==null)for(Y[X]=null,X=0;X<K.length;X++){var W=K[X];W!==null&&(W.lane&=-536870913)}l&=~nt}c!==0&&ca(s,c,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function ca(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Ce(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&261930}function nu(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-Ce(l),p=1<<c;p&r|s[c]&r&&(s[c]|=r),l&=~p}}function iu(s,r){var l=r&-r;return l=(l&42)!==0?1:ha(l),(l&(s.suspendedLanes|r))!==0?0:l}function ha(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ah(){var s=at.p;return s!==0?s:(s=window.event,s===void 0?32:Tw(s.type))}function Ei(s,r){var l=at.p;try{return at.p=s,r()}finally{at.p=l}}var Ti=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ti,Ze="__reactProps$"+Ti,$i="__reactContainer$"+Ti,vo="__reactEvents$"+Ti,Km="__reactListeners$"+Ti,bh="__reactHandles$"+Ti,Ch="__reactResources$"+Ti,Qi="__reactMarker$"+Ti;function Eo(s){delete s[Oe],delete s[Ze],delete s[vo],delete s[Km],delete s[bh]}function Wi(s){var r=s[Oe];if(r)return r;for(var l=s.parentNode;l;){if(r=l[$i]||l[Oe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=rw(s);s!==null;){if(l=s[Oe])return l;s=rw(s)}return r}s=l,l=s.parentNode}return null}function ei(s){if(s=s[Oe]||s[$i]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Fn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Xi(s){var r=s[Ch];return r||(r=s[Ch]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pe(s){s[Qi]=!0}var su=new Set,ru={};function Zi(s,r){Ji(s,r),Ji(s+"Capture",r)}function Ji(s,r){for(ru[s]=r,s=0;s<r.length;s++)su.add(r[s])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},lu={};function Rh(s){return Me.call(lu,s)?!0:Me.call(ou,s)?!1:au.test(s)?lu[s]=!0:(ou[s]=!0,!1)}function To(s,r,l){if(Rh(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function jn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function ke(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}function Je(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uu(s,r,l){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Zt(s){if(!s._valueTracker){var r=sr(s)?"checked":"value";s._valueTracker=uu(s,r,""+s[r])}}function fa(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=sr(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var da=/[\n"\\]/g;function xn(s){return s.replace(da,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function So(s,r,l,c,p,g,T,w){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Je(r)):s.value!==""+Je(r)&&(s.value=""+Je(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?cu(s,T,Je(r)):l!=null?cu(s,T,Je(l)):c!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+Je(w):s.removeAttribute("name")}function Ih(s,r,l,c,p,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Zt(s);return}l=l!=null?""+Je(l):"",r=r!=null?""+Je(r):l,w||r===s.value||(s.value=r),s.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=w?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Zt(s)}function cu(s,r,l){r==="number"&&ts(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function rr(s,r,l,c){if(s=s.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=r.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Je(l),r=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,c&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function xh(s,r,l){if(r!=null&&(r=""+Je(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Je(l):""}function ar(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(Se(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=Je(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c),Zt(s)}function Dn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||Dh.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function fu(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&l[p]!==c&&hu(s,p,c)}else for(var g in r)r.hasOwnProperty(g)&&hu(s,g,r[g])}function wo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Si(){}var du=null;function ni(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,es=null;function ma(s){var r=ei(s);if(r&&(s=r.stateNode)){var l=s[Ze]||null;t:switch(s=r.stateNode,r.type){case"input":if(So(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var p=c[Ze]||null;if(!p)throw Error(i(90));So(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&fa(c)}break t;case"textarea":xh(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&rr(s,!!l.multiple,r,!1)}}}var bo=!1;function ur(s,r,l){if(bo)return s(r,l);bo=!0;try{var c=s(r);return c}finally{if(bo=!1,(lr!==null||es!==null)&&(bf(),lr&&(r=lr,s=es,es=lr=null,ma(r),s)))for(r=0;r<s.length;r++)ma(s[r])}}function wi(s,r){var l=s.stateNode;if(l===null)return null;var c=l[Ze]||null;if(c===null)return null;l=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(ii)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){pa=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{pa=!1}var ns=null,mu=null,ga=null;function pu(){if(ga)return ga;var s,r=mu,l=r.length,c,p="value"in ns?ns.value:ns.textContent,g=p.length;for(s=0;s<l&&r[s]===p[s];s++);var T=l-s;for(c=1;c<=T&&r[l-c]===p[g-c];c++);return ga=p.slice(s,1<c?1-c:void 0)}function ya(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Cs(){return!0}function Ai(){return!1}function an(s){function r(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cs:Ai,this.isPropagationStopped=Ai,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),r}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=an(Rs),cr=_({},Rs,{view:0,detail:0}),gu=an(cr),hr,Co,ss,Ro=_({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ss&&(ss&&s.type==="mousemove"?(hr=s.screenX-ss.screenX,Co=s.screenY-ss.screenY):Co=hr=0,ss=s),hr)},movementY:function(s){return"movementY"in s?s.movementY:Co}}),yu=an(Ro),_a=_({},Ro,{dataTransfer:0}),Mh=an(_a),Vh=_({},cr,{relatedTarget:0}),va=an(Vh),_u=_({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Oh=an(_u),Io=_({},Rs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ph=an(Io),kh=_({},Rs,{data:0}),rs=an(kh),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Bh[s])?!!r[s]:!1}function fr(){return zh}var An=_({},cr,{key:function(s){if(s.key){var r=Lh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ya(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(s){return s.type==="keypress"?ya(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ya(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fh=an(An),jh=_({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Is=an(jh),f=_({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),v=an(f),S=_({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=an(S),q=_({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=an(q),lt=_({},Rs,{newState:0,oldState:0}),Rt=an(lt),Re=[9,13,27,32],$t=ii&&"CompositionEvent"in window,ge=null;ii&&"documentMode"in document&&(ge=document.documentMode);var si=ii&&"TextEvent"in window&&!ge,as=ii&&(!$t||ge&&8<ge&&11>=ge),bi=" ",Ci=!1;function Ea(s,r){switch(s){case"keyup":return Re.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Do=!1;function f2(s,r){switch(s){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(Ci=!0,bi);case"textInput":return s=r.data,s===bi&&Ci?null:s;default:return null}}function d2(s,r){if(Do)return s==="compositionend"||!$t&&Ea(s,r)?(s=pu(),ga=mu=ns=null,Do=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return as&&r.locale!=="ko"?null:r.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lT(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!m2[s.type]:r==="textarea"}function uT(s,r,l,c){lr?es?es.push(c):es=[c]:lr=c,r=Mf(r,"onChange"),0<r.length&&(l=new is("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var vu=null,Eu=null;function p2(s){GS(s,0)}function qh(s){var r=Fn(s);if(fa(r))return s}function cT(s,r){if(s==="change")return r}var hT=!1;if(ii){var $m;if(ii){var Qm="oninput"in document;if(!Qm){var fT=document.createElement("div");fT.setAttribute("oninput","return;"),Qm=typeof fT.oninput=="function"}$m=Qm}else $m=!1;hT=$m&&(!document.documentMode||9<document.documentMode)}function dT(){vu&&(vu.detachEvent("onpropertychange",mT),Eu=vu=null)}function mT(s){if(s.propertyName==="value"&&qh(Eu)){var r=[];uT(r,Eu,s,ni(s)),ur(p2,r)}}function g2(s,r,l){s==="focusin"?(dT(),vu=r,Eu=l,vu.attachEvent("onpropertychange",mT)):s==="focusout"&&dT()}function y2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qh(Eu)}function _2(s,r){if(s==="click")return qh(r)}function v2(s,r){if(s==="input"||s==="change")return qh(r)}function E2(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qn=typeof Object.is=="function"?Object.is:E2;function Tu(s,r){if(qn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Me.call(r,p)||!qn(s[p],r[p]))return!1}return!0}function pT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function gT(s,r){var l=pT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=pT(l)}}function yT(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?yT(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function _T(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ts(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ts(s.document)}return r}function Wm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var T2=ii&&"documentMode"in document&&11>=document.documentMode,No=null,Xm=null,Su=null,Zm=!1;function vT(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zm||No==null||No!==ts(c)||(c=No,"selectionStart"in c&&Wm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Su&&Tu(Su,c)||(Su=c,c=Mf(Xm,"onSelect"),0<c.length&&(r=new is("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=No)))}function Ta(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Mo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Jm={},ET={};ii&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Sa(s){if(Jm[s])return Jm[s];if(!Mo[s])return s;var r=Mo[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in ET)return Jm[s]=r[l];return s}var TT=Sa("animationend"),ST=Sa("animationiteration"),wT=Sa("animationstart"),S2=Sa("transitionrun"),w2=Sa("transitionstart"),A2=Sa("transitioncancel"),AT=Sa("transitionend"),bT=new Map,tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tp.push("scrollEnd");function Ri(s,r){bT.set(s,r),Zi(r,[s])}var Hh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ri=[],Vo=0,ep=0;function Gh(){for(var s=Vo,r=ep=Vo=0;r<s;){var l=ri[r];ri[r++]=null;var c=ri[r];ri[r++]=null;var p=ri[r];ri[r++]=null;var g=ri[r];if(ri[r++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&CT(l,p,g)}}function Yh(s,r,l,c){ri[Vo++]=s,ri[Vo++]=r,ri[Vo++]=l,ri[Vo++]=c,ep|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function np(s,r,l,c){return Yh(s,r,l,c),Kh(s)}function wa(s,r){return Yh(s,null,null,r),Kh(s)}function CT(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=s.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&r!==null&&(p=31-Ce(l),s=g.hiddenUpdates,c=s[p],c===null?s[p]=[r]:c.push(r),r.lane=l|536870912),g):null}function Kh(s){if(50<Hu)throw Hu=0,hg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Oo={};function b2(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,r,l,c){return new b2(s,r,l,c)}function ip(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xs(s,r){var l=s.alternate;return l===null?(l=Hn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function RT(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function $h(s,r,l,c,p,g){var T=0;if(c=s,typeof s=="function")ip(s)&&(T=1);else if(typeof s=="string")T=DM(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case x:return s=Hn(31,l,r,p),s.elementType=x,s.lanes=g,s;case D:return Aa(l.children,p,g,r);case N:T=8,p|=24;break;case F:return s=Hn(12,l,r,p|2),s.elementType=F,s.lanes=g,s;case rt:return s=Hn(13,l,r,p),s.elementType=rt,s.lanes=g,s;case ut:return s=Hn(19,l,r,p),s.elementType=ut,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:T=10;break t;case j:T=9;break t;case tt:T=11;break t;case I:T=14;break t;case C:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Hn(T,l,r,p),r.elementType=s,r.type=c,r.lanes=g,r}function Aa(s,r,l,c){return s=Hn(7,s,c,r),s.lanes=l,s}function sp(s,r,l){return s=Hn(6,s,null,r),s.lanes=l,s}function IT(s){var r=Hn(18,null,null,0);return r.stateNode=s,r}function rp(s,r,l){return r=Hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var xT=new WeakMap;function ai(s,r){if(typeof s=="object"&&s!==null){var l=xT.get(s);return l!==void 0?l:(r={value:s,source:r,stack:Jl(r)},xT.set(s,r),r)}return{value:s,source:r,stack:Jl(r)}}var Po=[],ko=0,Qh=null,wu=0,oi=[],li=0,dr=null,os=1,ls="";function Ds(s,r){Po[ko++]=wu,Po[ko++]=Qh,Qh=s,wu=r}function DT(s,r,l){oi[li++]=os,oi[li++]=ls,oi[li++]=dr,dr=s;var c=os;s=ls;var p=32-Ce(c)-1;c&=~(1<<p),l+=1;var g=32-Ce(r)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,os=1<<32-Ce(r)+p|l<<p|c,ls=g+s}else os=1<<g|l<<p|c,ls=s}function ap(s){s.return!==null&&(Ds(s,1),DT(s,1,0))}function op(s){for(;s===Qh;)Qh=Po[--ko],Po[ko]=null,wu=Po[--ko],Po[ko]=null;for(;s===dr;)dr=oi[--li],oi[li]=null,ls=oi[--li],oi[li]=null,os=oi[--li],oi[li]=null}function NT(s,r){oi[li++]=os,oi[li++]=ls,oi[li++]=dr,os=r.id,ls=r.overflow,dr=s}var on=null,ce=null,jt=!1,mr=null,ui=!1,lp=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Au(ai(r,s)),lp}function MT(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[Oe]=s,r[Ze]=c,l){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(l=0;l<Yu.length;l++)Pt(Yu[l],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Ih(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),ar(r,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||QS(r.textContent,l)?(c.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),c.onScroll!=null&&Pt("scroll",r),c.onScrollEnd!=null&&Pt("scrollend",r),c.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||pr(s,!0)}function VT(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:on=on.return}}function Lo(s){if(s!==on)return!1;if(!jt)return VT(s),jt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Cg(s.type,s.memoizedProps)),l=!l),l&&ce&&pr(s),VT(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=sw(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=sw(s)}else r===27?(r=ce,xr(s.type)?(s=Ng,Ng=null,ce=s):ce=r):ce=on?hi(s.stateNode.nextSibling):null;return!0}function ba(){ce=on=null,jt=!1}function up(){var s=mr;return s!==null&&(On===null?On=s:On.push.apply(On,s),mr=null),s}function Au(s){mr===null?mr=[s]:mr.push(s)}var cp=U(null),Ca=null,Ns=null;function gr(s,r,l){ct(cp,r._currentValue),r._currentValue=l}function Ms(s){s._currentValue=cp.current,it(cp)}function hp(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function fp(s,r,l,c){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=p;for(var V=0;V<r.length;V++)if(w.context===r[V]){g.lanes|=l,w=g.alternate,w!==null&&(w.lanes|=l),hp(g.return,l,s),c||(T=null);break t}g=w.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),hp(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Uo(s,r,l,c){s=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=p.type;qn(p.pendingProps.value,T.value)||(s!==null?s.push(w):s=[w])}}else if(p===Ht.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Xu):s=[Xu])}p=p.return}s!==null&&fp(r,s,l,c),r.flags|=262144}function Wh(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ra(s){Ca=s,Ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return OT(Ca,s)}function Xh(s,r){return Ca===null&&Ra(s),OT(s,r)}function OT(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ns===null){if(s===null)throw Error(i(308));Ns=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ns=Ns.next=r;return l}var C2=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},R2=e.unstable_scheduleCallback,I2=e.unstable_NormalPriority,Le={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new C2,data:new Map,refCount:0}}function bu(s){s.refCount--,s.refCount===0&&R2(I2,function(){s.controller.abort()})}var Cu=null,mp=0,Bo=0,zo=null;function x2(s,r){if(Cu===null){var l=Cu=[];mp=0,Bo=yg(),zo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mp++,r.then(PT,PT),r}function PT(){if(--mp===0&&Cu!==null){zo!==null&&(zo.status="fulfilled");var s=Cu;Cu=null,Bo=0,zo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function D2(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var kT=Z.S;Z.S=function(s,r){vS=wn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&x2(s,r),kT!==null&&kT(s,r)};var Ia=U(null);function pp(){var s=Ia.current;return s!==null?s:ae.pooledCache}function Zh(s,r){r===null?ct(Ia,Ia.current):ct(Ia,r.pool)}function LT(){var s=pp();return s===null?null:{parent:Le._currentValue,pool:s}}var Fo=Error(i(460)),gp=Error(i(474)),Jh=Error(i(542)),tf={then:function(){}};function UT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function BT(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(Si,Si),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,FT(s),s;default:if(typeof r.status=="string")r.then(Si,Si);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,FT(s),s}throw Da=r,Fo}}function xa(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Da=l,Fo):l}}var Da=null;function zT(){if(Da===null)throw Error(i(459));var s=Da;return Da=null,s}function FT(s){if(s===Fo||s===Jh)throw Error(i(483))}var jo=null,Ru=0;function ef(s){var r=Ru;return Ru+=1,jo===null&&(jo=[]),BT(jo,s,r)}function Iu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function nf(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function jT(s){function r(B,L){if(s){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function l(B,L){if(!s)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function c(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function p(B,L){return B=xs(B,L),B.index=0,B.sibling=null,B}function g(B,L,G){return B.index=G,s?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function T(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,G,J){return L===null||L.tag!==6?(L=sp(G,B.mode,J),L.return=B,L):(L=p(L,G),L.return=B,L)}function V(B,L,G,J){var _t=G.type;return _t===D?X(B,L,G.props.children,J,G.key):L!==null&&(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===C&&xa(_t)===L.type)?(L=p(L,G.props),Iu(L,G),L.return=B,L):(L=$h(G.type,G.key,G.props,null,B.mode,J),Iu(L,G),L.return=B,L)}function Y(B,L,G,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=rp(G,B.mode,J),L.return=B,L):(L=p(L,G.children||[]),L.return=B,L)}function X(B,L,G,J,_t){return L===null||L.tag!==7?(L=Aa(G,B.mode,J,_t),L.return=B,L):(L=p(L,G),L.return=B,L)}function nt(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=sp(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return G=$h(L.type,L.key,L.props,null,B.mode,G),Iu(G,L),G.return=B,G;case R:return L=rp(L,B.mode,G),L.return=B,L;case C:return L=xa(L),nt(B,L,G)}if(Se(L)||z(L))return L=Aa(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return nt(B,ef(L),G);if(L.$$typeof===H)return nt(B,Xh(B,L),G);nf(B,L)}return null}function K(B,L,G,J){var _t=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _t!==null?null:w(B,L,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===_t?V(B,L,G,J):null;case R:return G.key===_t?Y(B,L,G,J):null;case C:return G=xa(G),K(B,L,G,J)}if(Se(G)||z(G))return _t!==null?null:X(B,L,G,J,null);if(typeof G.then=="function")return K(B,L,ef(G),J);if(G.$$typeof===H)return K(B,L,Xh(B,G),J);nf(B,G)}return null}function W(B,L,G,J,_t){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(G)||null,w(L,B,""+J,_t);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return B=B.get(J.key===null?G:J.key)||null,V(L,B,J,_t);case R:return B=B.get(J.key===null?G:J.key)||null,Y(L,B,J,_t);case C:return J=xa(J),W(B,L,G,J,_t)}if(Se(J)||z(J))return B=B.get(G)||null,X(L,B,J,_t,null);if(typeof J.then=="function")return W(B,L,G,ef(J),_t);if(J.$$typeof===H)return W(B,L,G,Xh(L,J),_t);nf(L,J)}return null}function gt(B,L,G,J){for(var _t=null,Yt=null,yt=L,Nt=L=0,Bt=null;yt!==null&&Nt<G.length;Nt++){yt.index>Nt?(Bt=yt,yt=null):Bt=yt.sibling;var Kt=K(B,yt,G[Nt],J);if(Kt===null){yt===null&&(yt=Bt);break}s&&yt&&Kt.alternate===null&&r(B,yt),L=g(Kt,L,Nt),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt,yt=Bt}if(Nt===G.length)return l(B,yt),jt&&Ds(B,Nt),_t;if(yt===null){for(;Nt<G.length;Nt++)yt=nt(B,G[Nt],J),yt!==null&&(L=g(yt,L,Nt),Yt===null?_t=yt:Yt.sibling=yt,Yt=yt);return jt&&Ds(B,Nt),_t}for(yt=c(yt);Nt<G.length;Nt++)Bt=W(yt,B,Nt,G[Nt],J),Bt!==null&&(s&&Bt.alternate!==null&&yt.delete(Bt.key===null?Nt:Bt.key),L=g(Bt,L,Nt),Yt===null?_t=Bt:Yt.sibling=Bt,Yt=Bt);return s&&yt.forEach(function(Or){return r(B,Or)}),jt&&Ds(B,Nt),_t}function Et(B,L,G,J){if(G==null)throw Error(i(151));for(var _t=null,Yt=null,yt=L,Nt=L=0,Bt=null,Kt=G.next();yt!==null&&!Kt.done;Nt++,Kt=G.next()){yt.index>Nt?(Bt=yt,yt=null):Bt=yt.sibling;var Or=K(B,yt,Kt.value,J);if(Or===null){yt===null&&(yt=Bt);break}s&&yt&&Or.alternate===null&&r(B,yt),L=g(Or,L,Nt),Yt===null?_t=Or:Yt.sibling=Or,Yt=Or,yt=Bt}if(Kt.done)return l(B,yt),jt&&Ds(B,Nt),_t;if(yt===null){for(;!Kt.done;Nt++,Kt=G.next())Kt=nt(B,Kt.value,J),Kt!==null&&(L=g(Kt,L,Nt),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt);return jt&&Ds(B,Nt),_t}for(yt=c(yt);!Kt.done;Nt++,Kt=G.next())Kt=W(yt,B,Nt,Kt.value,J),Kt!==null&&(s&&Kt.alternate!==null&&yt.delete(Kt.key===null?Nt:Kt.key),L=g(Kt,L,Nt),Yt===null?_t=Kt:Yt.sibling=Kt,Yt=Kt);return s&&yt.forEach(function(FM){return r(B,FM)}),jt&&Ds(B,Nt),_t}function se(B,L,G,J){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:t:{for(var _t=G.key;L!==null;){if(L.key===_t){if(_t=G.type,_t===D){if(L.tag===7){l(B,L.sibling),J=p(L,G.props.children),J.return=B,B=J;break t}}else if(L.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===C&&xa(_t)===L.type){l(B,L.sibling),J=p(L,G.props),Iu(J,G),J.return=B,B=J;break t}l(B,L);break}else r(B,L);L=L.sibling}G.type===D?(J=Aa(G.props.children,B.mode,J,G.key),J.return=B,B=J):(J=$h(G.type,G.key,G.props,null,B.mode,J),Iu(J,G),J.return=B,B=J)}return T(B);case R:t:{for(_t=G.key;L!==null;){if(L.key===_t)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l(B,L.sibling),J=p(L,G.children||[]),J.return=B,B=J;break t}else{l(B,L);break}else r(B,L);L=L.sibling}J=rp(G,B.mode,J),J.return=B,B=J}return T(B);case C:return G=xa(G),se(B,L,G,J)}if(Se(G))return gt(B,L,G,J);if(z(G)){if(_t=z(G),typeof _t!="function")throw Error(i(150));return G=_t.call(G),Et(B,L,G,J)}if(typeof G.then=="function")return se(B,L,ef(G),J);if(G.$$typeof===H)return se(B,L,Xh(B,G),J);nf(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l(B,L.sibling),J=p(L,G),J.return=B,B=J):(l(B,L),J=sp(G,B.mode,J),J.return=B,B=J),T(B)):l(B,L)}return function(B,L,G,J){try{Ru=0;var _t=se(B,L,G,J);return jo=null,_t}catch(yt){if(yt===Fo||yt===Jh)throw yt;var Yt=Hn(29,yt,null,B.mode);return Yt.lanes=J,Yt.return=B,Yt}}}var Na=jT(!0),qT=jT(!1),yr=!1;function yp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function _r(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vr(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Kh(s),CT(s,null,l),r}return Yh(s,c,r,l),Kh(s)}function xu(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,nu(s,l)}}function vp(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=r:g=g.next=r}else p=g=r;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var Ep=!1;function Du(){if(Ep){var s=zo;if(s!==null)throw s}}function Nu(s,r,l,c){Ep=!1;var p=s.updateQueue;yr=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var V=w,Y=V.next;V.next=null,T===null?g=Y:T.next=Y,T=V;var X=s.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==T&&(w===null?X.firstBaseUpdate=Y:w.next=Y,X.lastBaseUpdate=V))}if(g!==null){var nt=p.baseState;T=0,X=Y=V=null,w=g;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(Ut&K)===K:(c&K)===K){K!==0&&K===Bo&&(Ep=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=s,Et=w;K=r;var se=l;switch(Et.tag){case 1:if(gt=Et.payload,typeof gt=="function"){nt=gt.call(se,nt,K);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Et.payload,K=typeof gt=="function"?gt.call(se,nt,K):gt,K==null)break t;nt=_({},nt,K);break t;case 2:yr=!0}}K=w.callback,K!==null&&(s.flags|=64,W&&(s.flags|=8192),W=p.callbacks,W===null?p.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(Y=X=W,V=nt):X=X.next=W,T|=K;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;W=w,w=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);X===null&&(V=nt),p.baseState=V,p.firstBaseUpdate=Y,p.lastBaseUpdate=X,g===null&&(p.shared.lanes=0),Ar|=T,s.lanes=T,s.memoizedState=nt}}function HT(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function GT(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)HT(l[s],r)}var qo=U(null),sf=U(0);function YT(s,r){s=Fs,ct(sf,s),ct(qo,r),Fs=s|r.baseLanes}function Tp(){ct(sf,Fs),ct(qo,qo.current)}function Sp(){Fs=sf.current,it(qo),it(sf)}var Gn=U(null),ci=null;function Er(s){var r=s.alternate;ct(Ie,Ie.current&1),ct(Gn,s),ci===null&&(r===null||qo.current!==null||r.memoizedState!==null)&&(ci=s)}function wp(s){ct(Ie,Ie.current),ct(Gn,s),ci===null&&(ci=s)}function KT(s){s.tag===22?(ct(Ie,Ie.current),ct(Gn,s),ci===null&&(ci=s)):Tr()}function Tr(){ct(Ie,Ie.current),ct(Gn,Gn.current)}function Yn(s){it(Gn),ci===s&&(ci=null),it(Ie)}var Ie=U(0);function rf(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xg(l)||Dg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vs=0,It=null,ne=null,Ue=null,af=!1,Ho=!1,Ma=!1,of=0,Mu=0,Go=null,N2=0;function we(){throw Error(i(321))}function Ap(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!qn(s[l],r[l]))return!1;return!0}function bp(s,r,l,c,p,g){return Vs=g,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=s===null||s.memoizedState===null?D0:zp,Ma=!1,g=l(c,p),Ma=!1,Ho&&(g=QT(r,l,c,p)),$T(s),g}function $T(s){Z.H=Pu;var r=ne!==null&&ne.next!==null;if(Vs=0,Ue=ne=It=null,af=!1,Mu=0,Go=null,r)throw Error(i(300));s===null||Be||(s=s.dependencies,s!==null&&Wh(s)&&(Be=!0))}function QT(s,r,l,c){It=s;var p=0;do{if(Ho&&(Go=null),Mu=0,Ho=!1,25<=p)throw Error(i(301));if(p+=1,Ue=ne=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=N0,g=r(l,c)}while(Ho);return g}function M2(){var s=Z.H,r=s.useState()[0];return r=typeof r.then=="function"?Vu(r):r,s=s.useState()[0],(ne!==null?ne.memoizedState:null)!==s&&(It.flags|=1024),r}function Cp(){var s=of!==0;return of=0,s}function Rp(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Ip(s){if(af){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}af=!1}Vs=0,Ue=ne=It=null,Ho=!1,Mu=of=0,Go=null}function bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?It.memoizedState=Ue=s:Ue=Ue.next=s,Ue}function xe(){if(ne===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ne.next;var r=Ue===null?It.memoizedState:Ue.next;if(r!==null)Ue=r,ne=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ne=s,s={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ue===null?It.memoizedState=Ue=s:Ue=Ue.next=s}return Ue}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(s){var r=Mu;return Mu+=1,Go===null&&(Go=[]),s=BT(Go,s,r),r=It,(Ue===null?r.memoizedState:Ue.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?D0:zp),s}function uf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vu(s);if(s.$$typeof===H)return ln(s)}throw Error(i(438,String(s)))}function xp(s){var r=null,l=It.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=It.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=lf(),It.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=k;return r.index++,l}function Os(s,r){return typeof r=="function"?r(s):r}function cf(s){var r=xe();return Dp(r,ne,s)}function Dp(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=s.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}r.baseQueue=p=g,c.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{r=p.next;var w=T=null,V=null,Y=r,X=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Ut&nt)===nt:(Vs&nt)===nt){var K=Y.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===Bo&&(X=!0);else if((Vs&K)===K){Y=Y.next,K===Bo&&(X=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(w=V=nt,T=g):V=V.next=nt,It.lanes|=K,Ar|=K;nt=Y.action,Ma&&l(g,nt),g=Y.hasEagerState?Y.eagerState:l(g,nt)}else K={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(w=V=K,T=g):V=V.next=K,It.lanes|=nt,Ar|=nt;Y=Y.next}while(Y!==null&&Y!==r);if(V===null?T=g:V.next=w,!qn(g,s.memoizedState)&&(Be=!0,X&&(l=zo,l!==null)))throw l;s.memoizedState=g,s.baseState=T,s.baseQueue=V,c.lastRenderedState=g}return p===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Np(s){var r=xe(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,p=l.pending,g=r.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=s(g,T.action),T=T.next;while(T!==p);qn(g,r.memoizedState)||(Be=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,c]}function WT(s,r,l){var c=It,p=xe(),g=jt;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=r();var T=!qn((ne||p).memoizedState,l);if(T&&(p.memoizedState=l,Be=!0),p=p.queue,Op(JT.bind(null,c,p,s),[s]),p.getSnapshot!==r||T||Ue!==null&&Ue.memoizedState.tag&1){if(c.flags|=2048,Yo(9,{destroy:void 0},ZT.bind(null,c,p,l,r),null),ae===null)throw Error(i(349));g||(Vs&127)!==0||XT(c,r,l)}return l}function XT(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=It.updateQueue,r===null?(r=lf(),It.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function ZT(s,r,l,c){r.value=l,r.getSnapshot=c,t0(r)&&e0(s)}function JT(s,r,l){return l(function(){t0(r)&&e0(s)})}function t0(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!qn(s,l)}catch{return!0}}function e0(s){var r=wa(s,2);r!==null&&Pn(r,s,2)}function Mp(s){var r=bn();if(typeof s=="function"){var l=s;if(s=l(),Ma){ti(!0);try{l()}finally{ti(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:s},r}function n0(s,r,l,c){return s.baseState=l,Dp(s,ne,typeof c=="function"?c:Os)}function V2(s,r,l,c,p){if(df(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?l(!0):g.isTransition=!1,c(g),l=r.pending,l===null?(g.next=r.pending=g,i0(r,g)):(g.next=l.next,r.pending=l.next=g)}}function i0(s,r){var l=r.action,c=r.payload,p=s.state;if(r.isTransition){var g=Z.T,T={};Z.T=T;try{var w=l(p,c),V=Z.S;V!==null&&V(T,w),s0(s,r,w)}catch(Y){Vp(s,r,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=l(p,c),s0(s,r,g)}catch(Y){Vp(s,r,Y)}}function s0(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){r0(s,r,c)},function(c){return Vp(s,r,c)}):r0(s,r,l)}function r0(s,r,l){r.status="fulfilled",r.value=l,a0(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,i0(s,l)))}function Vp(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,a0(r),r=r.next;while(r!==c)}s.action=null}function a0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function o0(s,r){return r}function l0(s,r){if(jt){var l=ae.formState;if(l!==null){t:{var c=It;if(jt){if(ce){e:{for(var p=ce,g=ui;p.nodeType!==8;){if(!g){p=null;break e}if(p=hi(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ce=hi(p.nextSibling),c=p.data==="F!";break t}}pr(c)}c=!1}c&&(r=l[0])}}return l=bn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:r},l.queue=c,l=R0.bind(null,It,c),c.dispatch=l,c=Mp(!1),g=Bp.bind(null,It,!1,c.queue),c=bn(),p={state:r,dispatch:null,action:s,pending:null},c.queue=p,l=V2.bind(null,It,p,g,l),p.dispatch=l,c.memoizedState=s,[r,l,!1]}function u0(s){var r=xe();return c0(r,ne,s)}function c0(s,r,l){if(r=Dp(s,r,o0)[0],s=cf(Os)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Vu(r)}catch(T){throw T===Fo?Jh:T}else c=r;r=xe();var p=r.queue,g=p.dispatch;return l!==r.memoizedState&&(It.flags|=2048,Yo(9,{destroy:void 0},O2.bind(null,p,l),null)),[c,g,s]}function O2(s,r){s.action=r}function h0(s){var r=xe(),l=ne;if(l!==null)return c0(r,l,s);xe(),r=r.memoizedState,l=xe();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function Yo(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=It.updateQueue,r===null&&(r=lf(),It.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function f0(){return xe().memoizedState}function hf(s,r,l,c){var p=bn();It.flags|=s,p.memoizedState=Yo(1|r,{destroy:void 0},l,c===void 0?null:c)}function ff(s,r,l,c){var p=xe();c=c===void 0?null:c;var g=p.memoizedState.inst;ne!==null&&c!==null&&Ap(c,ne.memoizedState.deps)?p.memoizedState=Yo(r,g,l,c):(It.flags|=s,p.memoizedState=Yo(1|r,g,l,c))}function d0(s,r){hf(8390656,8,s,r)}function Op(s,r){ff(2048,8,s,r)}function P2(s){It.flags|=4;var r=It.updateQueue;if(r===null)r=lf(),It.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function m0(s){var r=xe().memoizedState;return P2({ref:r,nextImpl:s}),function(){if((Qt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function p0(s,r){return ff(4,2,s,r)}function g0(s,r){return ff(4,4,s,r)}function y0(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function _0(s,r,l){l=l!=null?l.concat([s]):null,ff(4,4,y0.bind(null,r,s),l)}function Pp(){}function v0(s,r){var l=xe();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&Ap(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function E0(s,r){var l=xe();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&Ap(r,c[1]))return c[0];if(c=s(),Ma){ti(!0);try{s()}finally{ti(!1)}}return l.memoizedState=[c,r],c}function kp(s,r,l){return l===void 0||(Vs&1073741824)!==0&&(Ut&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=TS(),It.lanes|=s,Ar|=s,l)}function T0(s,r,l,c){return qn(l,r)?l:qo.current!==null?(s=kp(s,l,c),qn(s,r)||(Be=!0),s):(Vs&42)===0||(Vs&1073741824)!==0&&(Ut&261930)===0?(Be=!0,s.memoizedState=l):(s=TS(),It.lanes|=s,Ar|=s,r)}function S0(s,r,l,c,p){var g=at.p;at.p=g!==0&&8>g?g:8;var T=Z.T,w={};Z.T=w,Bp(s,!1,r,l);try{var V=p(),Y=Z.S;if(Y!==null&&Y(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=D2(V,c);Ou(s,r,X,Qn(s))}else Ou(s,r,c,Qn(s))}catch(nt){Ou(s,r,{then:function(){},status:"rejected",reason:nt},Qn())}finally{at.p=g,T!==null&&w.types!==null&&(T.types=w.types),Z.T=T}}function k2(){}function Lp(s,r,l,c){if(s.tag!==5)throw Error(i(476));var p=w0(s).queue;S0(s,p,r,pt,l===null?k2:function(){return A0(s),l(c)})}function w0(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:pt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function A0(s){var r=w0(s);r.next===null&&(r=s.alternate.memoizedState),Ou(s,r.next.queue,{},Qn())}function Up(){return ln(Xu)}function b0(){return xe().memoizedState}function C0(){return xe().memoizedState}function L2(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Qn();s=_r(l);var c=vr(r,s,l);c!==null&&(Pn(c,r,l),xu(c,r,l)),r={cache:dp()},s.payload=r;return}r=r.return}}function U2(s,r,l){var c=Qn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},df(s)?I0(r,l):(l=np(s,r,l,c),l!==null&&(Pn(l,s,c),x0(l,r,c)))}function R0(s,r,l){var c=Qn();Ou(s,r,l,c)}function Ou(s,r,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(df(s))I0(r,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,l);if(p.hasEagerState=!0,p.eagerState=w,qn(w,T))return Yh(s,r,p,0),ae===null&&Gh(),!1}catch{}if(l=np(s,r,p,c),l!==null)return Pn(l,s,c),x0(l,r,c),!0}return!1}function Bp(s,r,l,c){if(c={lane:2,revertLane:yg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},df(s)){if(r)throw Error(i(479))}else r=np(s,l,c,2),r!==null&&Pn(r,s,2)}function df(s){var r=s.alternate;return s===It||r!==null&&r===It}function I0(s,r){Ho=af=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function x0(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,nu(s,l)}}var Pu={readContext:ln,use:uf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Pu.useEffectEvent=we;var D0={readContext:ln,use:uf,useCallback:function(s,r){return bn().memoizedState=[s,r===void 0?null:r],s},useContext:ln,useEffect:d0,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,hf(4194308,4,y0.bind(null,r,s),l)},useLayoutEffect:function(s,r){return hf(4194308,4,s,r)},useInsertionEffect:function(s,r){hf(4,2,s,r)},useMemo:function(s,r){var l=bn();r=r===void 0?null:r;var c=s();if(Ma){ti(!0);try{s()}finally{ti(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=bn();if(l!==void 0){var p=l(r);if(Ma){ti(!0);try{l(r)}finally{ti(!1)}}}else p=r;return c.memoizedState=c.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},c.queue=s,s=s.dispatch=U2.bind(null,It,s),[c.memoizedState,s]},useRef:function(s){var r=bn();return s={current:s},r.memoizedState=s},useState:function(s){s=Mp(s);var r=s.queue,l=R0.bind(null,It,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Pp,useDeferredValue:function(s,r){var l=bn();return kp(l,s,r)},useTransition:function(){var s=Mp(!1);return s=S0.bind(null,It,s.queue,!0,!1),bn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=It,p=bn();if(jt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ae===null)throw Error(i(349));(Ut&127)!==0||XT(c,r,l)}p.memoizedState=l;var g={value:l,getSnapshot:r};return p.queue=g,d0(JT.bind(null,c,g,s),[s]),c.flags|=2048,Yo(9,{destroy:void 0},ZT.bind(null,c,g,l,r),null),l},useId:function(){var s=bn(),r=ae.identifierPrefix;if(jt){var l=ls,c=os;l=(c&~(1<<32-Ce(c)-1)).toString(32)+l,r="_"+r+"R_"+l,l=of++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=N2++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Up,useFormState:l0,useActionState:l0,useOptimistic:function(s){var r=bn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Bp.bind(null,It,!0,l),l.dispatch=r,[s,r]},useMemoCache:xp,useCacheRefresh:function(){return bn().memoizedState=L2.bind(null,It)},useEffectEvent:function(s){var r=bn(),l={impl:s};return r.memoizedState=l,function(){if((Qt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},zp={readContext:ln,use:uf,useCallback:v0,useContext:ln,useEffect:Op,useImperativeHandle:_0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:E0,useReducer:cf,useRef:f0,useState:function(){return cf(Os)},useDebugValue:Pp,useDeferredValue:function(s,r){var l=xe();return T0(l,ne.memoizedState,s,r)},useTransition:function(){var s=cf(Os)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Vu(s),r]},useSyncExternalStore:WT,useId:b0,useHostTransitionStatus:Up,useFormState:u0,useActionState:u0,useOptimistic:function(s,r){var l=xe();return n0(l,ne,s,r)},useMemoCache:xp,useCacheRefresh:C0};zp.useEffectEvent=m0;var N0={readContext:ln,use:uf,useCallback:v0,useContext:ln,useEffect:Op,useImperativeHandle:_0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:E0,useReducer:Np,useRef:f0,useState:function(){return Np(Os)},useDebugValue:Pp,useDeferredValue:function(s,r){var l=xe();return ne===null?kp(l,s,r):T0(l,ne.memoizedState,s,r)},useTransition:function(){var s=Np(Os)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Vu(s),r]},useSyncExternalStore:WT,useId:b0,useHostTransitionStatus:Up,useFormState:h0,useActionState:h0,useOptimistic:function(s,r){var l=xe();return ne!==null?n0(l,ne,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:xp,useCacheRefresh:C0};N0.useEffectEvent=m0;function Fp(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:_({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var jp={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=Qn(),p=_r(c);p.payload=r,l!=null&&(p.callback=l),r=vr(s,p,c),r!==null&&(Pn(r,s,c),xu(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=Qn(),p=_r(c);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=vr(s,p,c),r!==null&&(Pn(r,s,c),xu(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Qn(),c=_r(l);c.tag=2,r!=null&&(c.callback=r),r=vr(s,c,l),r!==null&&(Pn(r,s,l),xu(r,s,l))}};function M0(s,r,l,c,p,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Tu(l,c)||!Tu(p,g):!0}function V0(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&jp.enqueueReplaceState(r,r.state,null)}function Va(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}function O0(s){Hh(s)}function P0(s){console.error(s)}function k0(s){Hh(s)}function mf(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function L0(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function qp(s,r,l){return l=_r(l),l.tag=3,l.payload={element:null},l.callback=function(){mf(s,r)},l}function U0(s){return s=_r(s),s.tag=3,s}function B0(s,r,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;s.payload=function(){return p(g)},s.callback=function(){L0(r,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){L0(r,l,c),typeof p!="function"&&(br===null?br=new Set([this]):br.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function B2(s,r,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&Uo(r,l,p,!0),l=Gn.current,l!==null){switch(l.tag){case 31:case 13:return ci===null?Cf():l.alternate===null&&Ae===0&&(Ae=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===tf?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),mg(s,c,p)),!1;case 22:return l.flags|=65536,c===tf?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),mg(s,c,p)),!1}throw Error(i(435,l.tag))}return mg(s,c,p),Cf(),!1}if(jt)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==lp&&(s=Error(i(422),{cause:c}),Au(ai(s,l)))):(c!==lp&&(r=Error(i(423),{cause:c}),Au(ai(r,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,c=ai(c,l),p=qp(s.stateNode,c,p),vp(s,p),Ae!==4&&(Ae=2)),!1;var g=Error(i(520),{cause:c});if(g=ai(g,l),qu===null?qu=[g]:qu.push(g),Ae!==4&&(Ae=2),r===null)return!0;c=ai(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=qp(l.stateNode,c,s),vp(l,s),!1;case 1:if(r=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(br===null||!br.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=U0(p),B0(p,s,l,c),vp(l,p),!1}l=l.return}while(l!==null);return!1}var Hp=Error(i(461)),Be=!1;function un(s,r,l,c){r.child=s===null?qT(r,null,l,c):Na(r,s.child,l,c)}function z0(s,r,l,c,p){l=l.render;var g=r.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Ra(r),c=bp(s,r,l,T,g,p),w=Cp(),s!==null&&!Be?(Rp(s,r,p),Ps(s,r,p)):(jt&&w&&ap(r),r.flags|=1,un(s,r,c,p),r.child)}function F0(s,r,l,c,p){if(s===null){var g=l.type;return typeof g=="function"&&!ip(g)&&g.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=g,j0(s,r,g,c,p)):(s=$h(l.type,null,c,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Zp(s,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Tu,l(T,c)&&s.ref===r.ref)return Ps(s,r,p)}return r.flags|=1,s=xs(g,c),s.ref=r.ref,s.return=r,r.child=s}function j0(s,r,l,c,p){if(s!==null){var g=s.memoizedProps;if(Tu(g,c)&&s.ref===r.ref)if(Be=!1,r.pendingProps=c=g,Zp(s,p))(s.flags&131072)!==0&&(Be=!0);else return r.lanes=s.lanes,Ps(s,r,p)}return Gp(s,r,l,c,p)}function q0(s,r,l,c){var p=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,s!==null){for(c=r.child=s.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,r.child=null;return H0(s,r,g,l,c)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Zh(r,g!==null?g.cachePool:null),g!==null?YT(r,g):Tp(),KT(r);else return c=r.lanes=536870912,H0(s,r,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(Zh(r,g.cachePool),YT(r,g),Tr(),r.memoizedState=null):(s!==null&&Zh(r,null),Tp(),Tr());return un(s,r,p,l),r.child}function ku(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function H0(s,r,l,c,p){var g=pp();return g=g===null?null:{parent:Le._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},s!==null&&Zh(r,null),Tp(),KT(r),s!==null&&Uo(s,r,c,!0),r.childLanes=p,null}function pf(s,r){return r=yf({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function G0(s,r,l){return Na(r,s.child,null,l),s=pf(r,r.pendingProps),s.flags|=2,Yn(r),r.memoizedState=null,s}function z2(s,r,l){var c=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(jt){if(c.mode==="hidden")return s=pf(r,c),r.lanes=536870912,ku(null,s);if(wp(r),(s=ce)?(s=iw(s,ui),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:dr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=IT(s),l.return=r,r.child=l,on=r,ce=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return pf(r,c)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(wp(r),p)if(r.flags&256)r.flags&=-257,r=G0(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Be||Uo(s,r,l,!1),p=(l&s.childLanes)!==0,Be||p){if(c=ae,c!==null&&(T=iu(c,l),T!==0&&T!==g.retryLane))throw g.retryLane=T,wa(s,T),Pn(c,s,T),Hp;Cf(),r=G0(s,r,l)}else s=g.treeContext,ce=hi(T.nextSibling),on=r,jt=!0,mr=null,ui=!1,s!==null&&NT(r,s),r=pf(r,c),r.flags|=4096;return r}return s=xs(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function gf(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Gp(s,r,l,c,p){return Ra(r),l=bp(s,r,l,c,void 0,p),c=Cp(),s!==null&&!Be?(Rp(s,r,p),Ps(s,r,p)):(jt&&c&&ap(r),r.flags|=1,un(s,r,l,p),r.child)}function Y0(s,r,l,c,p,g){return Ra(r),r.updateQueue=null,l=QT(r,c,l,p),$T(s),c=Cp(),s!==null&&!Be?(Rp(s,r,g),Ps(s,r,g)):(jt&&c&&ap(r),r.flags|=1,un(s,r,l,g),r.child)}function K0(s,r,l,c,p){if(Ra(r),r.stateNode===null){var g=Oo,T=l.contextType;typeof T=="object"&&T!==null&&(g=ln(T)),g=new l(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},yp(r),T=l.contextType,g.context=typeof T=="object"&&T!==null?ln(T):Oo,g.state=r.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Fp(r,l,T,c),g.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&jp.enqueueReplaceState(g,g.state,null),Nu(r,c,g,p),Du(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var w=r.memoizedProps,V=Va(l,w);g.props=V;var Y=g.context,X=l.contextType;T=Oo,typeof X=="object"&&X!==null&&(T=ln(X));var nt=l.getDerivedStateFromProps;X=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==T)&&V0(r,g,c,T),yr=!1;var K=r.memoizedState;g.state=K,Nu(r,c,g,p),Du(),Y=r.memoizedState,w||K!==Y||yr?(typeof nt=="function"&&(Fp(r,l,nt,c),Y=r.memoizedState),(V=yr||M0(r,l,V,c,K,Y,T))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Y),g.props=c,g.state=Y,g.context=T,c=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,_p(s,r),T=r.memoizedProps,X=Va(l,T),g.props=X,nt=r.pendingProps,K=g.context,Y=l.contextType,V=Oo,typeof Y=="object"&&Y!==null&&(V=ln(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==nt||K!==V)&&V0(r,g,c,V),yr=!1,K=r.memoizedState,g.state=K,Nu(r,c,g,p),Du();var W=r.memoizedState;T!==nt||K!==W||yr||s!==null&&s.dependencies!==null&&Wh(s.dependencies)?(typeof w=="function"&&(Fp(r,l,w,c),W=r.memoizedState),(X=yr||M0(r,l,X,c,K,W,V)||s!==null&&s.dependencies!==null&&Wh(s.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=V,c=X):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,gf(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Na(r,s.child,null,p),r.child=Na(r,null,l,p)):un(s,r,l,p),r.memoizedState=g.state,s=r.child):s=Ps(s,r,p),s}function $0(s,r,l,c){return ba(),r.flags|=256,un(s,r,l,c),r.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kp(s){return{baseLanes:s,cachePool:LT()}}function $p(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=$n),s}function Q0(s,r,l){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(Ie.current&2)!==0),T&&(p=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(jt){if(p?Er(r):Tr(),(s=ce)?(s=iw(s,ui),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:dr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=IT(s),l.return=r,r.child=l,on=r,ce=null)):s=null,s===null)throw pr(r);return Dg(s)?r.lanes=32:r.lanes=536870912,null}var w=c.children;return c=c.fallback,p?(Tr(),p=r.mode,w=yf({mode:"hidden",children:w},p),c=Aa(c,p,l,null),w.return=r,c.return=r,w.sibling=c,r.child=w,c=r.child,c.memoizedState=Kp(l),c.childLanes=$p(s,T,l),r.memoizedState=Yp,ku(null,c)):(Er(r),Qp(r,w))}var V=s.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)r.flags&256?(Er(r),r.flags&=-257,r=Wp(s,r,l)):r.memoizedState!==null?(Tr(),r.child=s.child,r.flags|=128,r=null):(Tr(),w=c.fallback,p=r.mode,c=yf({mode:"visible",children:c.children},p),w=Aa(w,p,l,null),w.flags|=2,c.return=r,w.return=r,c.sibling=w,r.child=c,Na(r,s.child,null,l),c=r.child,c.memoizedState=Kp(l),c.childLanes=$p(s,T,l),r.memoizedState=Yp,r=ku(null,c));else if(Er(r),Dg(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,c=Error(i(419)),c.stack="",c.digest=T,Au({value:c,source:null,stack:null}),r=Wp(s,r,l)}else if(Be||Uo(s,r,l,!1),T=(l&s.childLanes)!==0,Be||T){if(T=ae,T!==null&&(c=iu(T,l),c!==0&&c!==V.retryLane))throw V.retryLane=c,wa(s,c),Pn(T,s,c),Hp;xg(w)||Cf(),r=Wp(s,r,l)}else xg(w)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,ce=hi(w.nextSibling),on=r,jt=!0,mr=null,ui=!1,s!==null&&NT(r,s),r=Qp(r,c.children),r.flags|=4096);return r}return p?(Tr(),w=c.fallback,p=r.mode,V=s.child,Y=V.sibling,c=xs(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Y!==null?w=xs(Y,w):(w=Aa(w,p,l,null),w.flags|=2),w.return=r,c.return=r,c.sibling=w,r.child=c,ku(null,c),c=r.child,w=s.child.memoizedState,w===null?w=Kp(l):(p=w.cachePool,p!==null?(V=Le._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=LT(),w={baseLanes:w.baseLanes|l,cachePool:p}),c.memoizedState=w,c.childLanes=$p(s,T,l),r.memoizedState=Yp,ku(s.child,c)):(Er(r),l=s.child,s=l.sibling,l=xs(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=l,r.memoizedState=null,l)}function Qp(s,r){return r=yf({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function yf(s,r){return s=Hn(22,s,null,r),s.lanes=0,s}function Wp(s,r,l){return Na(r,s.child,null,l),s=Qp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function W0(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),hp(s.return,r,l)}function Xp(s,r,l,c,p,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=p,T.treeForkCount=g)}function X0(s,r,l){var c=r.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var T=Ie.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,ct(Ie,T),un(s,r,c,l),c=jt?wu:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&W0(s,l,r);else if(s.tag===19)W0(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(l=r.child,p=null;l!==null;)s=l.alternate,s!==null&&rf(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),Xp(r,!1,p,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&rf(s)===null){r.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}Xp(r,!0,l,null,g,c);break;case"together":Xp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ps(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Ar|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(Uo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=xs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=xs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Zp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Wh(s)))}function F2(s,r,l){switch(r.tag){case 3:Ge(r,r.stateNode.containerInfo),gr(r,Le,s.memoizedState.cache),ba();break;case 27:case 5:ra(r);break;case 4:Ge(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,wp(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Er(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Q0(s,r,l):(Er(r),s=Ps(s,r,l),s!==null?s.sibling:null);Er(r);break;case 19:var p=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(Uo(s,r,l,!1),c=(l&r.childLanes)!==0),p){if(c)return X0(s,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(Ie,Ie.current),c)break;return null;case 22:return r.lanes=0,q0(s,r,l,r.pendingProps);case 24:gr(r,Le,s.memoizedState.cache)}return Ps(s,r,l)}function Z0(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Be=!0;else{if(!Zp(s,l)&&(r.flags&128)===0)return Be=!1,F2(s,r,l);Be=(s.flags&131072)!==0}else Be=!1,jt&&(r.flags&1048576)!==0&&DT(r,wu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var c=r.pendingProps;if(s=xa(r.elementType),r.type=s,typeof s=="function")ip(s)?(c=Va(s,c),r.tag=1,r=K0(null,r,s,c,l)):(r.tag=0,r=Gp(null,r,s,c,l));else{if(s!=null){var p=s.$$typeof;if(p===tt){r.tag=11,r=z0(null,r,s,c,l);break t}else if(p===I){r.tag=14,r=F0(null,r,s,c,l);break t}}throw r=re(s)||s,Error(i(306,r,""))}}return r;case 0:return Gp(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,p=Va(c,r.pendingProps),K0(s,r,c,p,l);case 3:t:{if(Ge(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,_p(s,r),Nu(r,c,null,l);var T=r.memoizedState;if(c=T.cache,gr(r,Le,c),c!==g.cache&&fp(r,[Le],l,!0),Du(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=$0(s,r,c,l);break t}else if(c!==p){p=ai(Error(i(424)),r),Au(p),r=$0(s,r,c,l);break t}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=hi(s.firstChild),on=r,jt=!0,mr=null,ui=!0,l=qT(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ba(),c===p){r=Ps(s,r,l);break t}un(s,r,c,l)}r=r.child}return r;case 26:return gf(s,r),s===null?(l=uw(r.type,null,r.pendingProps,null))?r.memoizedState=l:jt||(l=r.type,s=r.pendingProps,c=Vf(Dt.current).createElement(l),c[Oe]=r,c[Ze]=s,cn(c,l,s),Pe(c),r.stateNode=c):r.memoizedState=uw(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ra(r),s===null&&jt&&(c=r.stateNode=aw(r.type,r.pendingProps,Dt.current),on=r,ui=!0,p=ce,xr(r.type)?(Ng=p,ce=hi(c.firstChild)):ce=p),un(s,r,r.pendingProps.children,l),gf(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&jt&&((p=c=ce)&&(c=yM(c,r.type,r.pendingProps,ui),c!==null?(r.stateNode=c,on=r,ce=hi(c.firstChild),ui=!1,p=!0):p=!1),p||pr(r)),ra(r),p=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,Cg(p,g)?c=null:T!==null&&Cg(p,T)&&(r.flags|=32),r.memoizedState!==null&&(p=bp(s,r,M2,null,null,l),Xu._currentValue=p),gf(s,r),un(s,r,c,l),r.child;case 6:return s===null&&jt&&((s=l=ce)&&(l=_M(l,r.pendingProps,ui),l!==null?(r.stateNode=l,on=r,ce=null,s=!0):s=!1),s||pr(r)),null;case 13:return Q0(s,r,l);case 4:return Ge(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Na(r,null,c,l):un(s,r,c,l),r.child;case 11:return z0(s,r,r.type,r.pendingProps,l);case 7:return un(s,r,r.pendingProps,l),r.child;case 8:return un(s,r,r.pendingProps.children,l),r.child;case 12:return un(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,gr(r,r.type,c.value),un(s,r,c.children,l),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Ra(r),p=ln(p),c=c(p),r.flags|=1,un(s,r,c,l),r.child;case 14:return F0(s,r,r.type,r.pendingProps,l);case 15:return j0(s,r,r.type,r.pendingProps,l);case 19:return X0(s,r,l);case 31:return z2(s,r,l);case 22:return q0(s,r,l,r.pendingProps);case 24:return Ra(r),c=ln(Le),s===null?(p=pp(),p===null&&(p=ae,g=dp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),r.memoizedState={parent:c,cache:p},yp(r),gr(r,Le,p)):((s.lanes&l)!==0&&(_p(s,r),Nu(r,null,null,l),Du()),p=s.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),gr(r,Le,c)):(c=g.cache,gr(r,Le,c),c!==p.cache&&fp(r,[Le],l,!0))),un(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ks(s){s.flags|=4}function Jp(s,r,l,c,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(bS())s.flags|=8192;else throw Da=tf,gp}else s.flags&=-16777217}function J0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mw(r))if(bS())s.flags|=8192;else throw Da=tf,gp}function _f(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?wh():536870912,s.lanes|=r,Wo|=r)}function Lu(s,r){if(!jt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function he(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function j2(s,r,l){var c=r.pendingProps;switch(op(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(r),null;case 1:return he(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ms(Le),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Lo(r)?ks(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,up())),he(r),null;case 26:var p=r.type,g=r.memoizedState;return s===null?(ks(r),g!==null?(he(r),J0(r,g)):(he(r),Jp(r,p,null,c,l))):g?g!==s.memoizedState?(ks(r),he(r),J0(r,g)):(he(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&ks(r),he(r),Jp(r,p,s,c,l)),null;case 27:if(po(r),l=Dt.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&ks(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return he(r),null}s=dt.current,Lo(r)?MT(r):(s=aw(p,c,l),r.stateNode=s,ks(r))}return he(r),null;case 5:if(po(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&ks(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return he(r),null}if(g=dt.current,Lo(r))MT(r);else{var T=Vf(Dt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(p,{is:c.is}):T.createElement(p)}}g[Oe]=r,g[Ze]=c;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(cn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ks(r)}}return he(r),Jp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&ks(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Dt.current,Lo(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,p=on,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}s[Oe]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||QS(s.nodeValue,l)),s||pr(r,!0)}else s=Vf(s).createTextNode(c),s[Oe]=r,r.stateNode=s}return he(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(c=Lo(r),l!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Oe]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),s=!1}else l=up(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Yn(r),r):(Yn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return he(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Lo(r),c!==null&&c.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Oe]=r}else ba(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;he(r),p=!1}else p=up(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Yn(r),r):(Yn(r),null)}return Yn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=c!==null,s=s!==null&&s.memoizedState!==null,l&&(c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),_f(r,r.updateQueue),he(r),null);case 4:return pe(),s===null&&Tg(r.stateNode.containerInfo),he(r),null;case 10:return Ms(r.type),he(r),null;case 19:if(it(Ie),c=r.memoizedState,c===null)return he(r),null;if(p=(r.flags&128)!==0,g=c.rendering,g===null)if(p)Lu(c,!1);else{if(Ae!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=rf(s),g!==null){for(r.flags|=128,Lu(c,!1),s=g.updateQueue,r.updateQueue=s,_f(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)RT(l,s),l=l.sibling;return ct(Ie,Ie.current&1|2),jt&&Ds(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&wn()>wf&&(r.flags|=128,p=!0,Lu(c,!1),r.lanes=4194304)}else{if(!p)if(s=rf(g),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,_f(r,s),Lu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return he(r),null}else 2*wn()-c.renderingStartTime>wf&&l!==536870912&&(r.flags|=128,p=!0,Lu(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=wn(),s.sibling=null,l=Ie.current,ct(Ie,p?l&1|2:l&1),jt&&Ds(r,c.treeForkCount),s):(he(r),null);case 22:case 23:return Yn(r),Sp(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(he(r),r.subtreeFlags&6&&(r.flags|=8192)):he(r),l=r.updateQueue,l!==null&&_f(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&it(Ia),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ms(Le),he(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function q2(s,r){switch(op(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ms(Le),pe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return po(r),null;case 31:if(r.memoizedState!==null){if(Yn(r),r.alternate===null)throw Error(i(340));ba()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Yn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ba()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return it(Ie),null;case 4:return pe(),null;case 10:return Ms(r.type),null;case 22:case 23:return Yn(r),Sp(),s!==null&&it(Ia),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ms(Le),null;case 25:return null;default:return null}}function tS(s,r){switch(op(r),r.tag){case 3:Ms(Le),pe();break;case 26:case 27:case 5:po(r);break;case 4:pe();break;case 31:r.memoizedState!==null&&Yn(r);break;case 13:Yn(r);break;case 19:it(Ie);break;case 10:Ms(r.type);break;case 22:case 23:Yn(r),Sp(),s!==null&&it(Ia);break;case 24:Ms(Le)}}function Uu(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&s)===s){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(w){te(r,r.return,w)}}function Sr(s,r,l){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&s)===s){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,p=r;var V=l,Y=w;try{Y()}catch(X){te(p,V,X)}}}c=c.next}while(c!==g)}}catch(X){te(r,r.return,X)}}function eS(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{GT(r,l)}catch(c){te(s,s.return,c)}}}function nS(s,r,l){l.props=Va(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){te(s,r,c)}}function Bu(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(p){te(s,r,p)}}function us(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){te(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){te(s,r,p)}else l.current=null}function iS(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){te(s,s.return,p)}}function tg(s,r,l){try{var c=s.stateNode;hM(c,s.type,l,r),c[Ze]=r}catch(p){te(s,s.return,p)}}function sS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&xr(s.type)||s.tag===4}function eg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||sS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&xr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ng(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Si));else if(c!==4&&(c===27&&xr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(ng(s,r,l),s=s.sibling;s!==null;)ng(s,r,l),s=s.sibling}function vf(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&xr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(vf(s,r,l),s=s.sibling;s!==null;)vf(s,r,l),s=s.sibling}function rS(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);cn(r,c,l),r[Oe]=s,r[Ze]=l}catch(g){te(s,s.return,g)}}var Ls=!1,ze=!1,ig=!1,aS=typeof WeakSet=="function"?WeakSet:Set,tn=null;function H2(s,r){if(s=s.containerInfo,Ag=zf,s=_T(s),Wm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var T=0,w=-1,V=-1,Y=0,X=0,nt=s,K=null;e:for(;;){for(var W;nt!==l||p!==0&&nt.nodeType!==3||(w=T+p),nt!==g||c!==0&&nt.nodeType!==3||(V=T+c),nt.nodeType===3&&(T+=nt.nodeValue.length),(W=nt.firstChild)!==null;)K=nt,nt=W;for(;;){if(nt===s)break e;if(K===l&&++Y===p&&(w=T),K===g&&++X===c&&(V=T),(W=nt.nextSibling)!==null)break;nt=K,K=nt.parentNode}nt=W}l=w===-1||V===-1?null:{start:w,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(bg={focusedElem:s,selectionRange:l},zf=!1,tn=r;tn!==null;)if(r=tn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,tn=s;else for(;tn!==null;){switch(r=tn,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)p=s[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,l=r,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var gt=Va(l.type,p);s=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(Et){te(l,l.return,Et)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Ig(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ig(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,tn=s;break}tn=r.return}}function oS(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(s,l),c&4&&Uu(5,l);break;case 1:if(Bs(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(T){te(l,l.return,T)}else{var p=Va(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){te(l,l.return,T)}}c&64&&eS(l),c&512&&Bu(l,l.return);break;case 3:if(Bs(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{GT(s,r)}catch(T){te(l,l.return,T)}}break;case 27:r===null&&c&4&&rS(l);case 26:case 5:Bs(s,l),r===null&&c&4&&iS(l),c&512&&Bu(l,l.return);break;case 12:Bs(s,l);break;case 31:Bs(s,l),c&4&&cS(s,l);break;case 13:Bs(s,l),c&4&&hS(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=J2.bind(null,l),vM(s,l))));break;case 22:if(c=l.memoizedState!==null||Ls,!c){r=r!==null&&r.memoizedState!==null||ze,p=Ls;var g=ze;Ls=c,(ze=r)&&!g?zs(s,l,(l.subtreeFlags&8772)!==0):Bs(s,l),Ls=p,ze=g}break;case 30:break;default:Bs(s,l)}}function lS(s){var r=s.alternate;r!==null&&(s.alternate=null,lS(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Eo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ye=null,Nn=!1;function Us(s,r,l){for(l=l.child;l!==null;)uS(s,r,l),l=l.sibling}function uS(s,r,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(_i,l)}catch{}switch(l.tag){case 26:ze||us(l,r),Us(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ze||us(l,r);var c=ye,p=Nn;xr(l.type)&&(ye=l.stateNode,Nn=!1),Us(s,r,l),$u(l.stateNode),ye=c,Nn=p;break;case 5:ze||us(l,r);case 6:if(c=ye,p=Nn,ye=null,Us(s,r,l),ye=c,Nn=p,ye!==null)if(Nn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(l.stateNode)}catch(g){te(l,r,g)}else try{ye.removeChild(l.stateNode)}catch(g){te(l,r,g)}break;case 18:ye!==null&&(Nn?(s=ye,ew(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),sl(s)):ew(ye,l.stateNode));break;case 4:c=ye,p=Nn,ye=l.stateNode.containerInfo,Nn=!0,Us(s,r,l),ye=c,Nn=p;break;case 0:case 11:case 14:case 15:Sr(2,l,r),ze||Sr(4,l,r),Us(s,r,l);break;case 1:ze||(us(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&nS(l,r,c)),Us(s,r,l);break;case 21:Us(s,r,l);break;case 22:ze=(c=ze)||l.memoizedState!==null,Us(s,r,l),ze=c;break;default:Us(s,r,l)}}function cS(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sl(s)}catch(l){te(r,r.return,l)}}}function hS(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{sl(s)}catch(l){te(r,r.return,l)}}function G2(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new aS),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new aS),r;default:throw Error(i(435,s.tag))}}function Ef(s,r){var l=G2(s);r.forEach(function(c){if(!l.has(c)){l.add(c);var p=tM.bind(null,s,c);c.then(p,p)}})}function Mn(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=s,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(xr(w.type)){ye=w.stateNode,Nn=!1;break t}break;case 5:ye=w.stateNode,Nn=!1;break t;case 3:case 4:ye=w.stateNode.containerInfo,Nn=!0;break t}w=w.return}if(ye===null)throw Error(i(160));uS(g,T,p),ye=null,Nn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)fS(r,s),r=r.sibling}var Ii=null;function fS(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(r,s),Vn(s),c&4&&(Sr(3,s,s.return),Uu(3,s),Sr(5,s,s.return));break;case 1:Mn(r,s),Vn(s),c&512&&(ze||l===null||us(l,l.return)),c&64&&Ls&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ii;if(Mn(r,s),Vn(s),c&512&&(ze||l===null||us(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Qi]||g[Oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),cn(g,c,l),g[Oe]=s,Pe(g),c=g;break t;case"link":var T=fw("link","href",p).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}g=p.createElement(c),cn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=fw("meta","content",p).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}g=p.createElement(c),cn(g,c,l),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Oe]=s,Pe(g),c=g}s.stateNode=c}else dw(p,s.type,s.stateNode);else s.stateNode=hw(p,c,s.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?dw(p,s.type,s.stateNode):hw(p,c,s.memoizedProps)):c===null&&s.stateNode!==null&&tg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Mn(r,s),Vn(s),c&512&&(ze||l===null||us(l,l.return)),l!==null&&c&4&&tg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Mn(r,s),Vn(s),c&512&&(ze||l===null||us(l,l.return)),s.flags&32){p=s.stateNode;try{Dn(p,"")}catch(gt){te(s,s.return,gt)}}c&4&&s.stateNode!=null&&(p=s.memoizedProps,tg(s,p,l!==null?l.memoizedProps:p)),c&1024&&(ig=!0);break;case 6:if(Mn(r,s),Vn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(gt){te(s,s.return,gt)}}break;case 3:if(kf=null,p=Ii,Ii=Of(r.containerInfo),Mn(r,s),Ii=p,Vn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{sl(r.containerInfo)}catch(gt){te(s,s.return,gt)}ig&&(ig=!1,dS(s));break;case 4:c=Ii,Ii=Of(s.stateNode.containerInfo),Mn(r,s),Vn(s),Ii=c;break;case 12:Mn(r,s),Vn(s);break;case 31:Mn(r,s),Vn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ef(s,c)));break;case 13:Mn(r,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sf=wn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ef(s,c)));break;case 22:p=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=Ls,X=ze;if(Ls=Y||p,ze=X||V,Mn(r,s),ze=X,Ls=Y,Vn(s),c&8192)t:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||V||Ls||ze||Oa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(g=V.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=V.stateNode;var nt=V.memoizedProps.style,K=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){te(V,V.return,gt)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(gt){te(V,V.return,gt)}}}else if(r.tag===18){if(l===null){V=r;try{var W=V.stateNode;p?nw(W,!0):nw(V.stateNode,!1)}catch(gt){te(V,V.return,gt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ef(s,l))));break;case 19:Mn(r,s),Vn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Ef(s,c)));break;case 30:break;case 21:break;default:Mn(r,s),Vn(s)}}function Vn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(sS(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=eg(s);vf(s,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Dn(T,""),l.flags&=-33);var w=eg(s);vf(s,w,T);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=eg(s);ng(s,Y,V);break;default:throw Error(i(161))}}catch(X){te(s,s.return,X)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function dS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;dS(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Bs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)oS(s,r.alternate,r),r=r.sibling}function Oa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Oa(r);break;case 1:us(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&nS(r,r.return,l),Oa(r);break;case 27:$u(r.stateNode);case 26:case 5:us(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}s=s.sibling}}function zs(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:zs(p,g,l),Uu(4,g);break;case 1:if(zs(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){te(c,c.return,Y)}if(c=g,p=c.updateQueue,p!==null){var w=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)HT(V[p],w)}catch(Y){te(c,c.return,Y)}}l&&T&64&&eS(g),Bu(g,g.return);break;case 27:rS(g);case 26:case 5:zs(p,g,l),l&&c===null&&T&4&&iS(g),Bu(g,g.return);break;case 12:zs(p,g,l);break;case 31:zs(p,g,l),l&&T&4&&cS(p,g);break;case 13:zs(p,g,l),l&&T&4&&hS(p,g);break;case 22:g.memoizedState===null&&zs(p,g,l),Bu(g,g.return);break;case 30:break;default:zs(p,g,l)}r=r.sibling}}function sg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&bu(l))}function rg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&bu(s))}function xi(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mS(s,r,l,c),r=r.sibling}function mS(s,r,l,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:xi(s,r,l,c),p&2048&&Uu(9,r);break;case 1:xi(s,r,l,c);break;case 3:xi(s,r,l,c),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&bu(s)));break;case 12:if(p&2048){xi(s,r,l,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){te(r,r.return,V)}}else xi(s,r,l,c);break;case 31:xi(s,r,l,c);break;case 13:xi(s,r,l,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?xi(s,r,l,c):zu(s,r):g._visibility&2?xi(s,r,l,c):(g._visibility|=2,Ko(s,r,l,c,(r.subtreeFlags&10256)!==0||!1)),p&2048&&sg(T,r);break;case 24:xi(s,r,l,c),p&2048&&rg(r.alternate,r);break;default:xi(s,r,l,c)}}function Ko(s,r,l,c,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,w=l,V=c,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Ko(g,T,w,V,p),Uu(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?Ko(g,T,w,V,p):zu(g,T):(X._visibility|=2,Ko(g,T,w,V,p)),p&&Y&2048&&sg(T.alternate,T);break;case 24:Ko(g,T,w,V,p),p&&Y&2048&&rg(T.alternate,T);break;default:Ko(g,T,w,V,p)}r=r.sibling}}function zu(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,p=c.flags;switch(c.tag){case 22:zu(l,c),p&2048&&sg(c.alternate,c);break;case 24:zu(l,c),p&2048&&rg(c.alternate,c);break;default:zu(l,c)}r=r.sibling}}var Fu=8192;function $o(s,r,l){if(s.subtreeFlags&Fu)for(s=s.child;s!==null;)pS(s,r,l),s=s.sibling}function pS(s,r,l){switch(s.tag){case 26:$o(s,r,l),s.flags&Fu&&s.memoizedState!==null&&NM(l,Ii,s.memoizedState,s.memoizedProps);break;case 5:$o(s,r,l);break;case 3:case 4:var c=Ii;Ii=Of(s.stateNode.containerInfo),$o(s,r,l),Ii=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=Fu,Fu=16777216,$o(s,r,l),Fu=c):$o(s,r,l));break;default:$o(s,r,l)}}function gS(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function ju(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];tn=c,_S(c,s)}gS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yS(s),s=s.sibling}function yS(s){switch(s.tag){case 0:case 11:case 15:ju(s),s.flags&2048&&Sr(9,s,s.return);break;case 3:ju(s);break;case 12:ju(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Tf(s)):ju(s);break;default:ju(s)}}function Tf(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];tn=c,_S(c,s)}gS(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),Tf(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Tf(r));break;default:Tf(r)}s=s.sibling}}function _S(s,r){for(;tn!==null;){var l=tn;switch(l.tag){case 0:case 11:case 15:Sr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,tn=c;else t:for(l=s;tn!==null;){c=tn;var p=c.sibling,g=c.return;if(lS(c),c===l){tn=null;break t}if(p!==null){p.return=g,tn=p;break t}tn=g}}}var Y2={getCacheForType:function(s){var r=ln(Le),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return ln(Le).controller.signal}},K2=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ae=null,Ot=null,Ut=0,Jt=0,Kn=null,wr=!1,Qo=!1,ag=!1,Fs=0,Ae=0,Ar=0,Pa=0,og=0,$n=0,Wo=0,qu=null,On=null,lg=!1,Sf=0,vS=0,wf=1/0,Af=null,br=null,Ke=0,Cr=null,Xo=null,js=0,ug=0,cg=null,ES=null,Hu=0,hg=null;function Qn(){return(Qt&2)!==0&&Ut!==0?Ut&-Ut:Z.T!==null?yg():Ah()}function TS(){if($n===0)if((Ut&536870912)===0||jt){var s=la;la<<=1,(la&3932160)===0&&(la=262144),$n=s}else $n=536870912;return s=Gn.current,s!==null&&(s.flags|=32),$n}function Pn(s,r,l){(s===ae&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(Zo(s,0),Rr(s,Ut,$n,!1)),ua(s,l),((Qt&2)===0||s!==ae)&&(s===ae&&((Qt&2)===0&&(Pa|=l),Ae===4&&Rr(s,Ut,$n,!1)),cs(s))}function SS(s,r,l){if((Qt&6)!==0)throw Error(i(327));var c=!l&&(r&127)===0&&(r&s.expiredLanes)===0||vi(s,r),p=c?W2(s,r):dg(s,r,!0),g=c;do{if(p===0){Qo&&!c&&Rr(s,r,0,!1);break}else{if(l=s.current.alternate,g&&!$2(l)){p=dg(s,r,!1),g=!1;continue}if(p===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=s;p=qu;var V=w.current.memoizedState.isDehydrated;if(V&&(Zo(w,T).flags|=256),T=dg(w,T,!1),T!==2){if(ag&&!V){w.errorRecoveryDisabledLanes|=g,Pa|=g,p=4;break t}g=On,On=p,g!==null&&(On===null?On=g:On.push.apply(On,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Zo(s,0),Rr(s,r,0,!0);break}t:{switch(c=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Rr(c,r,$n,!wr);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Sf+300-wn(),10<p)){if(Rr(c,r,$n,!wr),Yi(c,0,!0)!==0)break t;js=r,c.timeoutHandle=JS(wS.bind(null,c,l,On,Af,lg,r,$n,Pa,Wo,wr,g,"Throttled",-0,0),p);break t}wS(c,l,On,Af,lg,r,$n,Pa,Wo,wr,g,null,-0,0)}}break}while(!0);cs(s)}function wS(s,r,l,c,p,g,T,w,V,Y,X,nt,K,W){if(s.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},pS(r,g,nt);var gt=(g&62914560)===g?Sf-wn():(g&4194048)===g?vS-wn():0;if(gt=MM(nt,gt),gt!==null){js=g,s.cancelPendingCommit=gt(NS.bind(null,s,r,g,l,c,p,T,w,V,X,nt,null,K,W)),Rr(s,g,T,!Y);return}}NS(s,r,g,l,c,p,T,w,V)}function $2(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!qn(g(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(s,r,l,c){r&=~og,r&=~Pa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var p=r;0<p;){var g=31-Ce(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&ca(s,l,r)}function bf(){return(Qt&6)===0?(Gu(0),!1):!0}function fg(){if(Ot!==null){if(Jt===0)var s=Ot.return;else s=Ot,Ns=Ca=null,Ip(s),jo=null,Ru=0,s=Ot;for(;s!==null;)tS(s.alternate,s),s=s.return;Ot=null}}function Zo(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,mM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),js=0,fg(),ae=s,Ot=l=xs(s.current,null),Ut=r,Jt=0,Kn=null,wr=!1,Qo=vi(s,r),ag=!1,Wo=$n=og=Pa=Ar=Ae=0,On=qu=null,lg=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var p=31-Ce(c),g=1<<p;r|=s[p],c&=~g}return Fs=r,Gh(),l}function AS(s,r){It=null,Z.H=Pu,r===Fo||r===Jh?(r=zT(),Jt=3):r===gp?(r=zT(),Jt=4):Jt=r===Hp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,Ot===null&&(Ae=1,mf(s,ai(r,s.current)))}function bS(){var s=Gn.current;return s===null?!0:(Ut&4194048)===Ut?ci===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?s===ci:!1}function CS(){var s=Z.H;return Z.H=Pu,s===null?Pu:s}function RS(){var s=Z.A;return Z.A=Y2,s}function Cf(){Ae=4,wr||(Ut&4194048)!==Ut&&Gn.current!==null||(Qo=!0),(Ar&134217727)===0&&(Pa&134217727)===0||ae===null||Rr(ae,Ut,$n,!1)}function dg(s,r,l){var c=Qt;Qt|=2;var p=CS(),g=RS();(ae!==s||Ut!==r)&&(Af=null,Zo(s,r)),r=!1;var T=Ae;t:do try{if(Jt!==0&&Ot!==null){var w=Ot,V=Kn;switch(Jt){case 8:fg(),T=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var Y=Jt;if(Jt=0,Kn=null,Jo(s,w,V,Y),l&&Qo){T=0;break t}break;default:Y=Jt,Jt=0,Kn=null,Jo(s,w,V,Y)}}Q2(),T=Ae;break}catch(X){AS(s,X)}while(!0);return r&&s.shellSuspendCounter++,Ns=Ca=null,Qt=c,Z.H=p,Z.A=g,Ot===null&&(ae=null,Ut=0,Gh()),T}function Q2(){for(;Ot!==null;)IS(Ot)}function W2(s,r){var l=Qt;Qt|=2;var c=CS(),p=RS();ae!==s||Ut!==r?(Af=null,wf=wn()+500,Zo(s,r)):Qo=vi(s,r);t:do try{if(Jt!==0&&Ot!==null){r=Ot;var g=Kn;e:switch(Jt){case 1:Jt=0,Kn=null,Jo(s,r,g,1);break;case 2:case 9:if(UT(g)){Jt=0,Kn=null,xS(r);break}r=function(){Jt!==2&&Jt!==9||ae!==s||(Jt=7),cs(s)},g.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:UT(g)?(Jt=0,Kn=null,xS(r)):(Jt=0,Kn=null,Jo(s,r,g,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var w=Ot;if(T?mw(T):w.stateNode.complete){Jt=0,Kn=null;var V=w.sibling;if(V!==null)Ot=V;else{var Y=w.return;Y!==null?(Ot=Y,Rf(Y)):Ot=null}break e}}Jt=0,Kn=null,Jo(s,r,g,5);break;case 6:Jt=0,Kn=null,Jo(s,r,g,6);break;case 8:fg(),Ae=6;break t;default:throw Error(i(462))}}X2();break}catch(X){AS(s,X)}while(!0);return Ns=Ca=null,Z.H=c,Z.A=p,Qt=l,Ot!==null?0:(ae=null,Ut=0,Gh(),Ae)}function X2(){for(;Ot!==null&&!qm();)IS(Ot)}function IS(s){var r=Z0(s.alternate,s,Fs);s.memoizedProps=s.pendingProps,r===null?Rf(s):Ot=r}function xS(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Y0(l,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=Y0(l,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Ip(r);default:tS(l,r),r=Ot=RT(r,Fs),r=Z0(l,r,Fs)}s.memoizedProps=s.pendingProps,r===null?Rf(s):Ot=r}function Jo(s,r,l,c){Ns=Ca=null,Ip(r),jo=null,Ru=0;var p=r.return;try{if(B2(s,p,r,l,Ut)){Ae=1,mf(s,ai(l,s.current)),Ot=null;return}}catch(g){if(p!==null)throw Ot=p,g;Ae=1,mf(s,ai(l,s.current)),Ot=null;return}r.flags&32768?(jt||c===1?s=!0:Qo||(Ut&536870912)!==0?s=!1:(wr=s=!0,(c===2||c===9||c===3||c===6)&&(c=Gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),DS(r,s)):Rf(r)}function Rf(s){var r=s;do{if((r.flags&32768)!==0){DS(r,wr);return}s=r.return;var l=j2(r.alternate,r,Fs);if(l!==null){Ot=l;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=s}while(r!==null);Ae===0&&(Ae=5)}function DS(s,r){do{var l=q2(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);Ae=6,Ot=null}function NS(s,r,l,c,p,g,T,w,V){s.cancelPendingCommit=null;do If();while(Ke!==0);if((Qt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=ep,Ym(s,l,g,T,w,V),s===ae&&(Ot=ae=null,Ut=0),Xo=r,Cr=s,js=l,ug=g,cg=p,ES=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eM(ir,function(){return kS(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,p=at.p,at.p=2,T=Qt,Qt|=4;try{H2(s,r,l)}finally{Qt=T,at.p=p,Z.T=c}}Ke=1,MS(),VS(),OS()}}function MS(){if(Ke===1){Ke=0;var s=Cr,r=Xo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var c=at.p;at.p=2;var p=Qt;Qt|=4;try{fS(r,s);var g=bg,T=_T(s.containerInfo),w=g.focusedElem,V=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&yT(w.ownerDocument.documentElement,w)){if(V!==null&&Wm(w)){var Y=V.start,X=V.end;if(X===void 0&&(X=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(X,w.value.length);else{var nt=w.ownerDocument||document,K=nt&&nt.defaultView||window;if(K.getSelection){var W=K.getSelection(),gt=w.textContent.length,Et=Math.min(V.start,gt),se=V.end===void 0?Et:Math.min(V.end,gt);!W.extend&&Et>se&&(T=se,se=Et,Et=T);var B=gT(w,Et),L=gT(w,se);if(B&&L&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==L.node||W.focusOffset!==L.offset)){var G=nt.createRange();G.setStart(B.node,B.offset),W.removeAllRanges(),Et>se?(W.addRange(G),W.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),W.addRange(G))}}}}for(nt=[],W=w;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var J=nt[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}zf=!!Ag,bg=Ag=null}finally{Qt=p,at.p=c,Z.T=l}}s.current=r,Ke=2}}function VS(){if(Ke===2){Ke=0;var s=Cr,r=Xo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var c=at.p;at.p=2;var p=Qt;Qt|=4;try{oS(s,r.alternate,r)}finally{Qt=p,at.p=c,Z.T=l}}Ke=3}}function OS(){if(Ke===4||Ke===3){Ke=0,yh();var s=Cr,r=Xo,l=js,c=ES;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,Xo=Cr=null,PS(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(br=null),bs(l),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(_i,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Z.T,p=at.p,at.p=2,Z.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var w=c[T];g(w.value,{componentStack:w.stack})}}finally{Z.T=r,at.p=p}}(js&3)!==0&&If(),cs(s),p=s.pendingLanes,(l&261930)!==0&&(p&42)!==0?s===hg?Hu++:(Hu=0,hg=s):Hu=0,Gu(0)}}function PS(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,bu(r)))}function If(){return MS(),VS(),OS(),kS()}function kS(){if(Ke!==5)return!1;var s=Cr,r=ug;ug=0;var l=bs(js),c=Z.T,p=at.p;try{at.p=32>l?32:l,Z.T=null,l=cg,cg=null;var g=Cr,T=js;if(Ke=0,Xo=Cr=null,js=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,yS(g.current),mS(g,g.current,T,l),Qt=w,Gu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(_i,g)}catch{}return!0}finally{at.p=p,Z.T=c,PS(s,r)}}function LS(s,r,l){r=ai(l,r),r=qp(s.stateNode,r,2),s=vr(s,r,2),s!==null&&(ua(s,2),cs(s))}function te(s,r,l){if(s.tag===3)LS(s,s,l);else for(;r!==null;){if(r.tag===3){LS(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(br===null||!br.has(c))){s=ai(l,s),l=U0(2),c=vr(r,l,2),c!==null&&(B0(l,c,r,s),ua(c,2),cs(c));break}}r=r.return}}function mg(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new K2;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(l)||(ag=!0,p.add(l),s=Z2.bind(null,s,r,l),r.then(s,s))}function Z2(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Ut&l)===l&&(Ae===4||Ae===3&&(Ut&62914560)===Ut&&300>wn()-Sf?(Qt&2)===0&&Zo(s,0):og|=l,Wo===Ut&&(Wo=0)),cs(s)}function US(s,r){r===0&&(r=wh()),s=wa(s,r),s!==null&&(ua(s,r),cs(s))}function J2(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),US(s,l)}function tM(s,r){var l=0;switch(s.tag){case 31:case 13:var c=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),US(s,l)}function eM(s,r){return Ye(s,r)}var xf=null,tl=null,pg=!1,Df=!1,gg=!1,Ir=0;function cs(s){s!==tl&&s.next===null&&(tl===null?xf=tl=s:tl=tl.next=s),Df=!0,pg||(pg=!0,iM())}function Gu(s,r){if(!gg&&Df){gg=!0;do for(var l=!1,c=xf;c!==null;){if(s!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-Ce(42|s)+1)-1,g&=p&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,jS(c,g))}else g=Ut,g=Yi(c,c===ae?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||vi(c,g)||(l=!0,jS(c,g));c=c.next}while(l);gg=!1}}function nM(){BS()}function BS(){Df=pg=!1;var s=0;Ir!==0&&dM()&&(s=Ir);for(var r=wn(),l=null,c=xf;c!==null;){var p=c.next,g=zS(c,r);g===0?(c.next=null,l===null?xf=p:l.next=p,p===null&&(tl=l)):(l=c,(s!==0||(g&3)!==0)&&(Df=!0)),c=p}Ke!==0&&Ke!==5||Gu(s),Ir!==0&&(Ir=0)}function zS(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Ce(g),w=1<<T,V=p[T];V===-1?((w&l)===0||(w&c)!==0)&&(p[T]=Gm(w,r)):V<=r&&(s.expiredLanes|=w),g&=~w}if(r=ae,l=Ut,l=Yi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&nr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||vi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&nr(c),bs(l)){case 2:case 8:l=eu;break;case 32:l=ir;break;case 268435456:l=_h;break;default:l=ir}return c=FS.bind(null,s),l=Ye(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&nr(c),s.callbackPriority=2,s.callbackNode=null,2}function FS(s,r){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(If()&&s.callbackNode!==l)return null;var c=Ut;return c=Yi(s,s===ae?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(SS(s,c,r),zS(s,wn()),s.callbackNode!=null&&s.callbackNode===l?FS.bind(null,s):null)}function jS(s,r){if(If())return null;SS(s,r,!0)}function iM(){pM(function(){(Qt&6)!==0?Ye(tu,nM):BS()})}function yg(){if(Ir===0){var s=Bo;s===0&&(s=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Ir=s}return Ir}function qS(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ao(""+s)}function HS(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function sM(s,r,l,c,p){if(r==="submit"&&l&&l.stateNode===p){var g=qS((p[Ze]||null).action),T=c.submitter;T&&(r=(r=T[Ze]||null)?qS(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new is("action","action",null,c,p);s.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ir!==0){var V=T?HS(p,T):new FormData(p);Lp(l,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=T?HS(p,T):new FormData(p),Lp(l,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var _g=0;_g<tp.length;_g++){var vg=tp[_g],rM=vg.toLowerCase(),aM=vg[0].toUpperCase()+vg.slice(1);Ri(rM,"on"+aM)}Ri(TT,"onAnimationEnd"),Ri(ST,"onAnimationIteration"),Ri(wT,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(S2,"onTransitionRun"),Ri(w2,"onTransitionStart"),Ri(A2,"onTransitionCancel"),Ri(AT,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function GS(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var w=c[T],V=w.instance,Y=w.currentTarget;if(w=w.listener,V!==g&&p.isPropagationStopped())break t;g=w,p.currentTarget=Y;try{g(p)}catch(X){Hh(X)}p.currentTarget=null,g=V}else for(T=0;T<c.length;T++){if(w=c[T],V=w.instance,Y=w.currentTarget,w=w.listener,V!==g&&p.isPropagationStopped())break t;g=w,p.currentTarget=Y;try{g(p)}catch(X){Hh(X)}p.currentTarget=null,g=V}}}}function Pt(s,r){var l=r[vo];l===void 0&&(l=r[vo]=new Set);var c=s+"__bubble";l.has(c)||(YS(r,s,2,!1),l.add(c))}function Eg(s,r,l){var c=0;r&&(c|=4),YS(l,s,c,r)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Tg(s){if(!s[Nf]){s[Nf]=!0,su.forEach(function(l){l!=="selectionchange"&&(oM.has(l)||Eg(l,!1,s),Eg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Nf]||(r[Nf]=!0,Eg("selectionchange",!1,r))}}function YS(s,r,l,c){switch(Tw(r)){case 2:var p=PM;break;case 8:p=kM;break;default:p=kg}l=p.bind(null,r,l,s),p=void 0,!pa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?s.addEventListener(r,l,{capture:!0,passive:p}):s.addEventListener(r,l,!0):p!==void 0?s.addEventListener(r,l,{passive:p}):s.addEventListener(r,l,!1)}function Sg(s,r,l,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===p)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;w!==null;){if(T=Wi(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=g=T;continue t}w=w.parentNode}}c=c.return}ur(function(){var Y=g,X=ni(l),nt=[];t:{var K=bT.get(s);if(K!==void 0){var W=is,gt=s;switch(s){case"keypress":if(ya(l)===0)break t;case"keydown":case"keyup":W=Fh;break;case"focusin":gt="focus",W=va;break;case"focusout":gt="blur",W=va;break;case"beforeblur":case"afterblur":W=va;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case TT:case ST:case wT:W=Oh;break;case AT:W=b;break;case"scroll":case"scrollend":W=gu;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Is;break;case"toggle":case"beforetoggle":W=Rt}var Et=(r&4)!==0,se=!Et&&(s==="scroll"||s==="scrollend"),B=Et?K!==null?K+"Capture":null:K;Et=[];for(var L=Y,G;L!==null;){var J=L;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||B===null||(J=wi(L,B),J!=null&&Et.push(Ku(L,J,G))),se)break;L=L.return}0<Et.length&&(K=new W(K,gt,null,l,X),nt.push({event:K,listeners:Et}))}}if((r&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",K&&l!==du&&(gt=l.relatedTarget||l.fromElement)&&(Wi(gt)||gt[$i]))break t;if((W||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,W?(gt=l.relatedTarget||l.toElement,W=Y,gt=gt?Wi(gt):null,gt!==null&&(se=o(gt),Et=gt.tag,gt!==se||Et!==5&&Et!==27&&Et!==6)&&(gt=null)):(W=null,gt=Y),W!==gt)){if(Et=yu,J="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(Et=Is,J="onPointerLeave",B="onPointerEnter",L="pointer"),se=W==null?K:Fn(W),G=gt==null?K:Fn(gt),K=new Et(J,L+"leave",W,l,X),K.target=se,K.relatedTarget=G,J=null,Wi(X)===Y&&(Et=new Et(B,L+"enter",gt,l,X),Et.target=G,Et.relatedTarget=se,J=Et),se=J,W&&gt)e:{for(Et=lM,B=W,L=gt,G=0,J=B;J;J=Et(J))G++;J=0;for(var _t=L;_t;_t=Et(_t))J++;for(;0<G-J;)B=Et(B),G--;for(;0<J-G;)L=Et(L),J--;for(;G--;){if(B===L||L!==null&&B===L.alternate){Et=B;break e}B=Et(B),L=Et(L)}Et=null}else Et=null;W!==null&&KS(nt,K,W,Et,!1),gt!==null&&se!==null&&KS(nt,se,gt,Et,!0)}}t:{if(K=Y?Fn(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Yt=cT;else if(lT(K))if(hT)Yt=v2;else{Yt=y2;var yt=g2}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&wo(Y.elementType)&&(Yt=cT):Yt=_2;if(Yt&&(Yt=Yt(s,Y))){uT(nt,Yt,l,X);break t}yt&&yt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&cu(K,"number",K.value)}switch(yt=Y?Fn(Y):window,s){case"focusin":(lT(yt)||yt.contentEditable==="true")&&(No=yt,Xm=Y,Su=null);break;case"focusout":Su=Xm=No=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,vT(nt,l,X);break;case"selectionchange":if(T2)break;case"keydown":case"keyup":vT(nt,l,X)}var Nt;if($t)t:{switch(s){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Do?Ea(s,l)&&(Bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Bt="onCompositionStart");Bt&&(as&&l.locale!=="ko"&&(Do||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Do&&(Nt=pu()):(ns=X,mu="value"in ns?ns.value:ns.textContent,Do=!0)),yt=Mf(Y,Bt),0<yt.length&&(Bt=new rs(Bt,s,null,l,X),nt.push({event:Bt,listeners:yt}),Nt?Bt.data=Nt:(Nt=xo(l),Nt!==null&&(Bt.data=Nt)))),(Nt=si?f2(s,l):d2(s,l))&&(Bt=Mf(Y,"onBeforeInput"),0<Bt.length&&(yt=new rs("onBeforeInput","beforeinput",null,l,X),nt.push({event:yt,listeners:Bt}),yt.data=Nt)),sM(nt,s,Y,l,X)}GS(nt,r)})}function Ku(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Mf(s,r){for(var l=r+"Capture",c=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=wi(s,l),p!=null&&c.unshift(Ku(s,p,g)),p=wi(s,r),p!=null&&c.push(Ku(s,p,g))),s.tag===3)return c;s=s.return}return[]}function lM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function KS(s,r,l,c,p){for(var g=r._reactName,T=[];l!==null&&l!==c;){var w=l,V=w.alternate,Y=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||Y===null||(V=Y,p?(Y=wi(l,g),Y!=null&&T.unshift(Ku(l,Y,V))):p||(Y=wi(l,g),Y!=null&&T.push(Ku(l,Y,V)))),l=l.return}T.length!==0&&s.push({event:r,listeners:T})}var uM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function $S(s){return(typeof s=="string"?s:""+s).replace(uM,`
`).replace(cM,"")}function QS(s,r){return r=$S(r),$S(s)===r}function ie(s,r,l,c,p,g){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Dn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Dn(s,""+c);break;case"className":jn(s,"class",c);break;case"tabIndex":jn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(s,l,c);break;case"style":fu(s,c,g);break;case"data":if(r!=="object"){jn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ao(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(r!=="input"&&ie(s,r,"name",p.name,p,null),ie(s,r,"formEncType",p.formEncType,p,null),ie(s,r,"formMethod",p.formMethod,p,null),ie(s,r,"formTarget",p.formTarget,p,null)):(ie(s,r,"encType",p.encType,p,null),ie(s,r,"method",p.method,p,null),ie(s,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ao(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Si);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ao(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),To(s,"popover",c);break;case"xlinkActuate":ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ke(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ke(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ke(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ke(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nh.get(l)||l,To(s,l,c))}}function wg(s,r,l,c,p,g){switch(l){case"style":fu(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Dn(s,c):(typeof c=="number"||typeof c=="bigint")&&Dn(s,""+c);break;case"onScroll":c!=null&&Pt("scroll",s);break;case"onScrollEnd":c!=null&&Pt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),g=s[Ze]||null,g=g!=null?g[l]:null,typeof g=="function"&&s.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,p);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):To(s,l,c)}}}function cn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ie(s,r,g,T,l,null)}}p&&ie(s,r,"srcSet",l.srcSet,l,null),c&&ie(s,r,"src",l.src,l,null);return;case"input":Pt("invalid",s);var w=g=T=p=null,V=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var X=l[c];if(X!=null)switch(c){case"name":p=X;break;case"type":T=X;break;case"checked":V=X;break;case"defaultChecked":Y=X;break;case"value":g=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:ie(s,r,c,X,l,null)}}Ih(s,g,w,V,Y,T,p,!1);return;case"select":Pt("invalid",s),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(w=l[p],w!=null))switch(p){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:ie(s,r,p,w,l,null)}r=g,l=T,s.multiple=!!c,r!=null?rr(s,!!c,r,!1):l!=null&&rr(s,!!c,l,!0);return;case"textarea":Pt("invalid",s),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":p=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ie(s,r,T,w,l,null)}ar(s,c,p,g);return;case"option":for(V in l)l.hasOwnProperty(V)&&(c=l[V],c!=null)&&(V==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":ie(s,r,V,c,l,null));return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(c=0;c<Yu.length;c++)Pt(Yu[c],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ie(s,r,Y,c,l,null)}return;default:if(wo(r)){for(X in l)l.hasOwnProperty(X)&&(c=l[X],c!==void 0&&wg(s,r,X,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&ie(s,r,w,c,l,null))}function hM(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,w=null,V=null,Y=null,X=null;for(W in l){var nt=l[W];if(l.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=nt;default:c.hasOwnProperty(W)||ie(s,r,W,null,c,nt)}}for(var K in c){var W=c[K];if(nt=l[K],c.hasOwnProperty(K)&&(W!=null||nt!=null))switch(K){case"type":g=W;break;case"name":p=W;break;case"checked":Y=W;break;case"defaultChecked":X=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==nt&&ie(s,r,K,W,c,nt)}}So(s,T,w,V,Y,X,g,p);return;case"select":W=T=w=K=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(g)||ie(s,r,g,null,c,V)}for(p in c)if(g=c[p],V=l[p],c.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":K=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==V&&ie(s,r,p,g,c,V)}r=w,l=T,c=W,K!=null?rr(s,!!l,K,!1):!!c!=!!l&&(r!=null?rr(s,!!l,r,!0):rr(s,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(w in l)if(p=l[w],l.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ie(s,r,w,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":K=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&ie(s,r,T,p,c,g)}xh(s,K,W);return;case"option":for(var gt in l)K=l[gt],l.hasOwnProperty(gt)&&K!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?s.selected=!1:ie(s,r,gt,null,c,K));for(V in c)K=c[V],W=l[V],c.hasOwnProperty(V)&&K!==W&&(K!=null||W!=null)&&(V==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":ie(s,r,V,K,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in l)K=l[Et],l.hasOwnProperty(Et)&&K!=null&&!c.hasOwnProperty(Et)&&ie(s,r,Et,null,c,K);for(Y in c)if(K=c[Y],W=l[Y],c.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:ie(s,r,Y,K,c,W)}return;default:if(wo(r)){for(var se in l)K=l[se],l.hasOwnProperty(se)&&K!==void 0&&!c.hasOwnProperty(se)&&wg(s,r,se,void 0,c,K);for(X in c)K=c[X],W=l[X],!c.hasOwnProperty(X)||K===W||K===void 0&&W===void 0||wg(s,r,X,K,c,W);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!c.hasOwnProperty(B)&&ie(s,r,B,null,c,K);for(nt in c)K=c[nt],W=l[nt],!c.hasOwnProperty(nt)||K===W||K==null&&W==null||ie(s,r,nt,K,c,W)}function WS(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],g=p.transferSize,T=p.initiatorType,w=p.duration;if(g&&w&&WS(T)){for(T=0,w=p.responseEnd,c+=1;c<l.length;c++){var V=l[c],Y=V.startTime;if(Y>w)break;var X=V.transferSize,nt=V.initiatorType;X&&WS(nt)&&(V=V.responseEnd,T+=X*(V<w?1:(w-Y)/(V-Y)))}if(--c,r+=8*(g+T)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ag=null,bg=null;function Vf(s){return s.nodeType===9?s:s.ownerDocument}function XS(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZS(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Cg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rg=null;function dM(){var s=window.event;return s&&s.type==="popstate"?s===Rg?!1:(Rg=s,!0):(Rg=null,!1)}var JS=typeof setTimeout=="function"?setTimeout:void 0,mM=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,pM=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(s){return tw.resolve(null).then(s).catch(gM)}:JS;function gM(s){setTimeout(function(){throw s})}function xr(s){return s==="head"}function ew(s,r){var l=r,c=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){s.removeChild(p),sl(r);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")$u(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,$u(l);for(var g=l.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Qi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=T}}else l==="body"&&$u(s.ownerDocument.body);l=p}while(l);sl(r)}function nw(s,r){var l=s;s=0;do{var c=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=c}while(l)}function Ig(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ig(l),Eo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function yM(s,r,l,c){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Qi])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function _M(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=hi(s.nextSibling),s===null))return null;return s}function iw(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=hi(s.nextSibling),s===null))return null;return s}function xg(s){return s.data==="$?"||s.data==="$~"}function Dg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function vM(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function hi(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Ng=null;function sw(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return hi(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function rw(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function aw(s,r,l){switch(r=Vf(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function $u(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Eo(s)}var fi=new Map,ow=new Set;function Of(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qs=at.d;at.d={f:EM,r:TM,D:SM,C:wM,L:AM,m:bM,X:RM,S:CM,M:IM};function EM(){var s=qs.f(),r=bf();return s||r}function TM(s){var r=ei(s);r!==null&&r.tag===5&&r.type==="form"?A0(r):qs.r(s)}var el=typeof document>"u"?null:document;function lw(s,r,l){var c=el;if(c&&typeof r=="string"&&r){var p=xn(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ow.has(p)||(ow.add(p),s={rel:s,crossOrigin:l,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),cn(r,"link",s),Pe(r),c.head.appendChild(r)))}}function SM(s){qs.D(s),lw("dns-prefetch",s,null)}function wM(s,r){qs.C(s,r),lw("preconnect",s,r)}function AM(s,r,l){qs.L(s,r,l);var c=el;if(c&&s&&r){var p='link[rel="preload"][as="'+xn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+xn(l.imageSizes)+'"]')):p+='[href="'+xn(s)+'"]';var g=p;switch(r){case"style":g=nl(s);break;case"script":g=il(s)}fi.has(g)||(s=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),fi.set(g,s),c.querySelector(p)!==null||r==="style"&&c.querySelector(Qu(g))||r==="script"&&c.querySelector(Wu(g))||(r=c.createElement("link"),cn(r,"link",s),Pe(r),c.head.appendChild(r)))}}function bM(s,r){qs.m(s,r);var l=el;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+xn(c)+'"][href="'+xn(s)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(s)}if(!fi.has(g)&&(s=_({rel:"modulepreload",href:s},r),fi.set(g,s),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wu(g)))return}c=l.createElement("link"),cn(c,"link",s),Pe(c),l.head.appendChild(c)}}}function CM(s,r,l){qs.S(s,r,l);var c=el;if(c&&s){var p=Xi(c).hoistableStyles,g=nl(s);r=r||"default";var T=p.get(g);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(Qu(g)))w.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},l),(l=fi.get(g))&&Mg(s,l);var V=T=c.createElement("link");Pe(V),cn(V,"link",s),V._p=new Promise(function(Y,X){V.onload=Y,V.onerror=X}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Pf(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:w},p.set(g,T)}}}function RM(s,r){qs.X(s,r);var l=el;if(l&&s){var c=Xi(l).hoistableScripts,p=il(s),g=c.get(p);g||(g=l.querySelector(Wu(p)),g||(s=_({src:s,async:!0},r),(r=fi.get(p))&&Vg(s,r),g=l.createElement("script"),Pe(g),cn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function IM(s,r){qs.M(s,r);var l=el;if(l&&s){var c=Xi(l).hoistableScripts,p=il(s),g=c.get(p);g||(g=l.querySelector(Wu(p)),g||(s=_({src:s,async:!0,type:"module"},r),(r=fi.get(p))&&Vg(s,r),g=l.createElement("script"),Pe(g),cn(g,"link",s),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function uw(s,r,l,c){var p=(p=Dt.current)?Of(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=nl(l.href),l=Xi(p).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=nl(l.href);var g=Xi(p).hoistableStyles,T=g.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=p.querySelector(Qu(s)))&&!g._p&&(T.instance=g,T.state.loading=5),fi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fi.set(s,l),g||xM(p,s,l,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=il(l),l=Xi(p).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function nl(s){return'href="'+xn(s)+'"'}function Qu(s){return'link[rel="stylesheet"]['+s+"]"}function cw(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function xM(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),cn(r,"link",l),Pe(r),s.head.appendChild(r))}function il(s){return'[src="'+xn(s)+'"]'}function Wu(s){return"script[async]"+s}function hw(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+xn(l.href)+'"]');if(c)return r.instance=c,Pe(c),c;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Pe(c),cn(c,"style",p),Pf(c,l.precedence,s),r.instance=c;case"stylesheet":p=nl(l.href);var g=s.querySelector(Qu(p));if(g)return r.state.loading|=4,r.instance=g,Pe(g),g;c=cw(l),(p=fi.get(p))&&Mg(c,p),g=(s.ownerDocument||s).createElement("link"),Pe(g);var T=g;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),cn(g,"link",c),r.state.loading|=4,Pf(g,l.precedence,s),r.instance=g;case"script":return g=il(l.src),(p=s.querySelector(Wu(g)))?(r.instance=p,Pe(p),p):(c=l,(p=fi.get(g))&&(c=_({},l),Vg(c,p)),s=s.ownerDocument||s,p=s.createElement("script"),Pe(p),cn(p,"link",c),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Pf(c,l.precedence,s));return r.instance}function Pf(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===r)g=w;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Mg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var kf=null;function fw(s,r,l){if(kf===null){var c=new Map,p=kf=new Map;p.set(l,c)}else p=kf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var g=l[p];if(!(g[Qi]||g[Oe]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var w=c.get(T);w?w.push(g):c.set(T,[g])}}return c}function dw(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function DM(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function NM(s,r,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=nl(c.href),g=r.querySelector(Qu(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Lf.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=g,Pe(g);return}g=r.ownerDocument||r,c=cw(c),(p=fi.get(p))&&Mg(c,p),g=g.createElement("link"),Pe(g);var T=g;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),cn(g,"link",c),l.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Lf.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Og=0;function MM(s,r){return s.stylesheets&&s.count===0&&Bf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var c=setTimeout(function(){if(s.stylesheets&&Bf(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Og===0&&(Og=62500*fM());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Bf(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Og?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Uf=null;function Bf(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Uf=new Map,r.forEach(VM,s),Uf=null,Lf.call(s))}function VM(s,r){if(!(r.state.loading&4)){var l=Uf.get(s);if(l)var c=l.get(null);else{l=new Map,Uf.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=r.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=Lf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Xu={$$typeof:H,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function OM(s,r,l,c,p,g,T,w,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function pw(s,r,l,c,p,g,T,w,V,Y,X,nt){return s=new OM(s,r,l,T,V,Y,X,nt,w),r=1,g===!0&&(r|=24),g=Hn(3,null,null,r),s.current=g,g.stateNode=s,r=dp(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:r},yp(g),s}function gw(s){return s?(s=Oo,s):Oo}function yw(s,r,l,c,p,g){p=gw(p),c.context===null?c.context=p:c.pendingContext=p,c=_r(r),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=vr(s,c,r),l!==null&&(Pn(l,s,r),xu(l,s,r))}function _w(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Pg(s,r){_w(s,r),(s=s.alternate)&&_w(s,r)}function vw(s){if(s.tag===13||s.tag===31){var r=wa(s,67108864);r!==null&&Pn(r,s,67108864),Pg(s,67108864)}}function Ew(s){if(s.tag===13||s.tag===31){var r=Qn();r=ha(r);var l=wa(s,r);l!==null&&Pn(l,s,r),Pg(s,r)}}var zf=!0;function PM(s,r,l,c){var p=Z.T;Z.T=null;var g=at.p;try{at.p=2,kg(s,r,l,c)}finally{at.p=g,Z.T=p}}function kM(s,r,l,c){var p=Z.T;Z.T=null;var g=at.p;try{at.p=8,kg(s,r,l,c)}finally{at.p=g,Z.T=p}}function kg(s,r,l,c){if(zf){var p=Lg(c);if(p===null)Sg(s,r,c,Ff,l),Sw(s,c);else if(UM(p,s,r,l,c))c.stopPropagation();else if(Sw(s,c),r&4&&-1<LM.indexOf(s)){for(;p!==null;){var g=ei(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Gi(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-Ce(T);w.entanglements[1]|=V,T&=~V}cs(g),(Qt&6)===0&&(wf=wn()+500,Gu(0))}}break;case 31:case 13:w=wa(g,2),w!==null&&Pn(w,g,2),bf(),Pg(g,2)}if(g=Lg(c),g===null&&Sg(s,r,c,Ff,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else Sg(s,r,c,null,l)}}function Lg(s){return s=ni(s),Ug(s)}var Ff=null;function Ug(s){if(Ff=null,s=Wi(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ff=s,null}function Tw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case tu:return 2;case eu:return 8;case ir:case Hm:return 32;case _h:return 268435456;default:return 32}default:return 32}}var Bg=!1,Dr=null,Nr=null,Mr=null,Zu=new Map,Ju=new Map,Vr=[],LM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sw(s,r){switch(s){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(r.pointerId)}}function tc(s,r,l,c,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=ei(r),r!==null&&vw(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function UM(s,r,l,c,p){switch(r){case"focusin":return Dr=tc(Dr,s,r,l,c,p),!0;case"dragenter":return Nr=tc(Nr,s,r,l,c,p),!0;case"mouseover":return Mr=tc(Mr,s,r,l,c,p),!0;case"pointerover":var g=p.pointerId;return Zu.set(g,tc(Zu.get(g)||null,s,r,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Ju.set(g,tc(Ju.get(g)||null,s,r,l,c,p)),!0}return!1}function ww(s){var r=Wi(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,Ei(s.priority,function(){Ew(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,Ei(s.priority,function(){Ew(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jf(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Lg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);du=c,l.target.dispatchEvent(c),du=null}else return r=ei(l),r!==null&&vw(r),s.blockedOn=l,!1;r.shift()}return!0}function Aw(s,r,l){jf(s)&&l.delete(r)}function BM(){Bg=!1,Dr!==null&&jf(Dr)&&(Dr=null),Nr!==null&&jf(Nr)&&(Nr=null),Mr!==null&&jf(Mr)&&(Mr=null),Zu.forEach(Aw),Ju.forEach(Aw)}function qf(s,r){s.blockedOn===r&&(s.blockedOn=null,Bg||(Bg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BM)))}var Hf=null;function bw(s){Hf!==s&&(Hf=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hf===s&&(Hf=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],p=s[r+2];if(typeof c!="function"){if(Ug(c||l)===null)continue;break}var g=ei(l);g!==null&&(s.splice(r,3),r-=3,Lp(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function sl(s){function r(V){return qf(V,s)}Dr!==null&&qf(Dr,s),Nr!==null&&qf(Nr,s),Mr!==null&&qf(Mr,s),Zu.forEach(r),Ju.forEach(r);for(var l=0;l<Vr.length;l++){var c=Vr[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Vr.length&&(l=Vr[0],l.blockedOn===null);)ww(l),l.blockedOn===null&&Vr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Ze]||null;if(typeof g=="function")T||bw(l);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Ze]||null)w=T.formAction;else if(Ug(p)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),bw(l)}}}function Cw(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function zg(s){this._internalRoot=s}Gf.prototype.render=zg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=Qn();yw(l,c,s,r,null,null)},Gf.prototype.unmount=zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;yw(s.current,2,null,s,null,null),bf(),r[$i]=null}};function Gf(s){this._internalRoot=s}Gf.prototype.unstable_scheduleHydration=function(s){if(s){var r=Ah();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Vr.length&&r!==0&&r<Vr[l].priority;l++);Vr.splice(l,0,s),l===0&&ww(s)}};var Rw=t.version;if(Rw!=="19.2.3")throw Error(i(527,Rw,"19.2.3"));at.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var zM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{_i=Yf.inject(zM),rn=Yf}catch{}}return nc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,c="",p=O0,g=P0,T=k0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=pw(s,1,!1,null,null,l,c,null,p,g,T,Cw),s[$i]=r.current,Tg(s),new zg(r)},nc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var c=!1,p="",g=O0,T=P0,w=k0,V=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),r=pw(s,1,!0,r,l??null,c,p,V,g,T,w,Cw),r.context=gw(null),l=r.current,c=Qn(),c=ha(c),p=_r(c),p.callback=null,vr(l,p,c),l=c,r.current.lanes=l,ua(r,l),cs(r),s[$i]=r.current,Tg(s),new Gf(r)},nc.version="19.2.3",nc}var Lw;function XM(){if(Lw)return Hg.exports;Lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hg.exports=WM(),Hg.exports}var ZM=XM();var Uw="popstate";function JM(e={}){function t(i,a){let{pathname:o,search:u,hash:h}=i.location;return Py("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Nc(a)}return eV(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tV(){return Math.random().toString(36).substring(2,10)}function Bw(e,t){return{usr:e.state,key:e.key,idx:t}}function Py(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ul(t):t,state:n,key:t&&t.key||i||tV()}}function Nc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ul(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function eV(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let N=y(),F=N==null?null:N-m;m=N,d&&d({action:h,location:D.location,delta:F})}function E(N,F){h="PUSH";let j=Py(D.location,N,F);m=y()+1;let H=Bw(j,m),tt=D.createHref(j);try{u.pushState(H,"",tt)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;a.location.assign(tt)}o&&d&&d({action:h,location:D.location,delta:1})}function A(N,F){h="REPLACE";let j=Py(D.location,N,F);m=y();let H=Bw(j,m),tt=D.createHref(j);u.replaceState(H,"",tt),o&&d&&d({action:h,location:D.location,delta:0})}function R(N){return nV(N)}let D={get action(){return h},get location(){return e(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Uw,_),d=N,()=>{a.removeEventListener(Uw,_),d=null}},createHref(N){return t(a,N)},createURL:R,encodeLocation(N){let F=R(N);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:A,go(N){return u.go(N)}};return D}function nV(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Nc(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function SC(e,t,n="/"){return iV(e,t,n,!1)}function iV(e,t,n,i){let a=typeof t=="string"?Ul(t):t,o=$s(a.pathname||"/",n);if(o==null)return null;let u=wC(e);sV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=pV(o);h=dV(u[d],m,i)}return h}function wC(e,t=[],n=[],i="",a=!1){let o=(u,h,d=a,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;Ee(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Gs([i,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(Ee(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),wC(u.children,t,E,_,d)),!(u.path==null&&!u.index)&&t.push({path:_,score:hV(_,u.index),routesMeta:E})};return e.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of AC(u.path))o(u,h,!0,d)}),t}function AC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=AC(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function sV(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fV(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var rV=/^:[\w-]+$/,aV=3,oV=2,lV=1,uV=10,cV=-2,zw=e=>e==="*";function hV(e,t){let n=e.split("/"),i=n.length;return n.some(zw)&&(i+=cV),t&&(i+=oV),n.filter(a=>!zw(a)).reduce((a,o)=>a+(rV.test(o)?aV:o===""?lV:uV),i)}function fV(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function dV(e,t,n=!1){let{routesMeta:i}=e,a={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",_=Ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),E=d.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=Ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Gs([o,_.pathname]),pathnameBase:vV(Gs([o,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(o=Gs([o,_.pathnameBase]))}return u}function Ed(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=mV(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let R=h[E]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function mV(e,t=!1,n=!0){Bi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function pV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $s(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var bC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gV=e=>bC.test(e);function yV(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?Ul(e):e,o;if(n)if(gV(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Bi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=Fw(n.substring(1),"/"):o=Fw(n,t)}else o=t;return{pathname:o,search:EV(i),hash:TV(a)}}function Fw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $g(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _V(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function CC(e){let t=_V(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function RC(e,t,n,i=!1){let a;typeof e=="string"?a=Ul(e):(a={...e},Ee(!a.pathname||!a.pathname.includes("?"),$g("?","pathname","search",a)),Ee(!a.pathname||!a.pathname.includes("#"),$g("#","pathname","hash",a)),Ee(!a.search||!a.search.includes("#"),$g("#","search","hash",a)));let o=e===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let _=t.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?t[_]:"/"}let d=yV(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var Gs=e=>e.join("/").replace(/\/\/+/g,"/"),vV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,SV=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function AV(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xC(e,t){let n=e;if(typeof n!="string"||!bC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(IC)try{let o=new URL(window.location.href),u=n.startsWith("//")?new URL(o.protocol+n):new URL(n),h=$s(u.pathname,t);u.origin===o.origin&&h!=null?n=h+u.search+u.hash:a=!0}catch{Bi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DC=["POST","PUT","PATCH","DELETE"];new Set(DC);var bV=["GET",...DC];new Set(bV);var Bl=P.createContext(null);Bl.displayName="DataRouter";var im=P.createContext(null);im.displayName="DataRouterState";var CV=P.createContext(!1),NC=P.createContext({isTransitioning:!1});NC.displayName="ViewTransition";var RV=P.createContext(new Map);RV.displayName="Fetchers";var IV=P.createContext(null);IV.displayName="Await";var yi=P.createContext(null);yi.displayName="Navigation";var Jc=P.createContext(null);Jc.displayName="Location";var ws=P.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var G_=P.createContext(null);G_.displayName="RouteError";var MC="REACT_ROUTER_ERROR",xV="REDIRECT",DV="ROUTE_ERROR_RESPONSE";function NV(e){if(e.startsWith(`${MC}:${xV}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function MV(e){if(e.startsWith(`${MC}:${DV}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new SV(t.status,t.statusText,t.data)}catch{}}function VV(e,{relative:t}={}){Ee(th(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(yi),{hash:a,pathname:o,search:u}=eh(e,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Gs([n,o])),i.createHref({pathname:h,search:u,hash:a})}function th(){return P.useContext(Jc)!=null}function ro(){return Ee(th(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Jc).location}var VC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OC(e){P.useContext(yi).static||P.useLayoutEffect(e)}function PC(){let{isDataRoute:e}=P.useContext(ws);return e?KV():OV()}function OV(){Ee(th(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(Bl),{basename:t,navigator:n}=P.useContext(yi),{matches:i}=P.useContext(ws),{pathname:a}=ro(),o=JSON.stringify(CC(i)),u=P.useRef(!1);return OC(()=>{u.current=!0}),P.useCallback((d,m={})=>{if(Bi(u.current,VC),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=RC(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Gs([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,o,a,e])}P.createContext(null);function PV(){let{matches:e}=P.useContext(ws),t=e[e.length-1];return t?t.params:{}}function eh(e,{relative:t}={}){let{matches:n}=P.useContext(ws),{pathname:i}=ro(),a=JSON.stringify(CC(n));return P.useMemo(()=>RC(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function kV(e,t){return kC(e,t)}function kC(e,t,n,i,a){Ee(th(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(yi),{matches:u}=P.useContext(ws),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let j=_&&_.path||"";UC(m,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=ro(),A;if(t){let j=typeof t=="string"?Ul(t):t;Ee(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=E;let R=A.pathname||"/",D=R;if(y!=="/"){let j=y.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=SC(e,{pathname:D});Bi(_||N!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=FV(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Gs([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:Gs([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,i,a);return t&&F?P.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function LV(){let e=YV(),t=wV(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:a},n):null,u)}var UV=P.createElement(LV,null),LC=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=MV(e.digest);n&&(e=n)}let t=e!==void 0?P.createElement(ws.Provider,{value:this.props.routeContext},P.createElement(G_.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?P.createElement(BV,{error:e},t):t}};LC.contextType=CV;var Qg=new WeakMap;function BV({children:e,error:t}){let{basename:n}=P.useContext(yi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=NV(t.digest);if(i){let a=Qg.get(t);if(a)throw a;let o=xC(i.location,n);if(IC&&!Qg.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Qg.set(t,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function zV({routeContext:e,match:t,children:n}){let i=P.useContext(Bl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(ws.Provider,{value:e},n)}function FV(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Ee(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:E,errors:A}=n,R=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=n&&i?(y,_)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:AV(n.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,E)=>{let A,R=!1,D=null,N=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||UV,h&&(d<0&&E===0?(UC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,N=null):d===E&&(R=!0,N=_.route.hydrateFallbackElement||null)));let F=t.concat(o.slice(0,E+1)),j=()=>{let H;return A?H=D:R?H=N:_.route.Component?H=P.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=y,P.createElement(zV,{match:_,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?P.createElement(LC,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:m}):j()},null)}function Y_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jV(e){let t=P.useContext(Bl);return Ee(t,Y_(e)),t}function qV(e){let t=P.useContext(im);return Ee(t,Y_(e)),t}function HV(e){let t=P.useContext(ws);return Ee(t,Y_(e)),t}function K_(e){let t=HV(e),n=t.matches[t.matches.length-1];return Ee(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function GV(){return K_("useRouteId")}function YV(){let e=P.useContext(G_),t=qV("useRouteError"),n=K_("useRouteError");return e!==void 0?e:t.errors?.[n]}function KV(){let{router:e}=jV("useNavigate"),t=K_("useNavigate"),n=P.useRef(!1);return OC(()=>{n.current=!0}),P.useCallback(async(a,o={})=>{Bi(n.current,VC),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var jw={};function UC(e,t,n){!t&&!jw[e]&&(jw[e]=!0,Bi(!1,n))}P.memo($V);function $V({routes:e,future:t,state:n,onError:i}){return kC(e,void 0,n,i,t)}function ky(e){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QV({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Ee(!th(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[h,a,o,u]);typeof n=="string"&&(n=Ul(n));let{pathname:m="/",search:y="",hash:_="",state:E=null,key:A="default"}=n,R=P.useMemo(()=>{let D=$s(m,h);return D==null?null:{location:{pathname:D,search:y,hash:_,state:E,key:A},navigationType:i}},[h,m,y,_,E,A,i]);return Bi(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:P.createElement(yi.Provider,{value:d},P.createElement(Jc.Provider,{children:t,value:R}))}function WV({children:e,location:t}){return kV(Ly(e),t)}function Ly(e,t=[]){let n=[];return P.Children.forEach(e,(i,a)=>{if(!P.isValidElement(i))return;let o=[...t,a];if(i.type===P.Fragment){n.push.apply(n,Ly(i.props.children,o));return}Ee(i.type===ky,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ly(i.props.children,o)),n.push(u)}),n}var ad="get",od="application/x-www-form-urlencoded";function sm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function XV(e){return sm(e)&&e.tagName.toLowerCase()==="button"}function ZV(e){return sm(e)&&e.tagName.toLowerCase()==="form"}function JV(e){return sm(e)&&e.tagName.toLowerCase()==="input"}function tO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eO(e,t){return e.button===0&&(!t||t==="_self")&&!tO(e)}var Kf=null;function nO(){if(Kf===null)try{new FormData(document.createElement("form"),0),Kf=!1}catch{Kf=!0}return Kf}var iO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(e){return e!=null&&!iO.has(e)?(Bi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):e}function sO(e,t){let n,i,a,o,u;if(ZV(e)){let h=e.getAttribute("action");i=h?$s(h,t):null,n=e.getAttribute("method")||ad,a=Wg(e.getAttribute("enctype"))||od,o=new FormData(e)}else if(XV(e)||JV(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||h.getAttribute("action");if(i=d?$s(d,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||ad,a=Wg(e.getAttribute("formenctype"))||Wg(h.getAttribute("enctype"))||od,o=new FormData(h,e),!nO()){let{name:m,type:y,value:_}=e;if(y==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,_)}}else{if(sm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ad,i=null,a=od,u=e}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rO(e,t,n,i){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:t&&$s(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function aO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lO(e,t,n){let i=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await aO(o,n);return u.links?u.links():[]}return[]}));return fO(i.flat(1).filter(oO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qw(e,t,n,i,a,o){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>n[m].pathname!==d.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?t.filter((d,m)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function uO(e,t,{includeHydrateFallback:n}={}){return cO(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function cO(e){return[...new Set(e)]}function hO(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function fO(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let o=JSON.stringify(hO(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}function BC(){let e=P.useContext(Bl);return $_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dO(){let e=P.useContext(im);return $_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Q_=P.createContext(void 0);Q_.displayName="FrameworkContext";function zC(){let e=P.useContext(Q_);return $_(e,"You must render this element inside a <HydratedRouter> element"),e}function mO(e,t){let n=P.useContext(Q_),[i,a]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=t,E=P.useRef(null);P.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let D=F=>{F.forEach(j=>{u(j.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[e]),P.useEffect(()=>{if(i){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[i]);let A=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?e!=="intent"?[o,E,{}]:[o,E,{onFocus:ic(h,A),onBlur:ic(d,R),onMouseEnter:ic(m,A),onMouseLeave:ic(y,R),onTouchStart:ic(_,A)}]:[!1,E,{}]}function ic(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function pO({page:e,...t}){let{router:n}=BC(),i=P.useMemo(()=>SC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(yO,{page:e,matches:i,...t}):null}function gO(e){let{manifest:t,routeModules:n}=zC(),[i,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return lO(e,t,n).then(u=>{o||a(u)}),()=>{o=!0}},[e,t,n]),i}function yO({page:e,matches:t,...n}){let i=ro(),{future:a,manifest:o,routeModules:u}=zC(),{basename:h}=BC(),{loaderData:d,matches:m}=dO(),y=P.useMemo(()=>qw(e,t,m,o,i,"data"),[e,t,m,o,i]),_=P.useMemo(()=>qw(e,t,m,o,i,"assets"),[e,t,m,o,i]),E=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,N=!1;if(t.forEach(j=>{let H=o.routes[j.route.id];!H||!H.hasLoader||(!y.some(tt=>tt.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||H.hasClientLoader?N=!0:D.add(j.route.id))}),D.size===0)return[];let F=rO(e,h,a.unstable_trailingSlashAwareDataRequests,"data");return N&&D.size>0&&F.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[F.pathname+F.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,i,o,y,t,e,u]),A=P.useMemo(()=>uO(_,o),[_,o]),R=gO(_);return P.createElement(P.Fragment,null,E.map(D=>P.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>P.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),R.map(({key:D,link:N})=>P.createElement("link",{key:D,nonce:n.nonce,...N})))}function _O(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vO&&(window.__reactRouterVersion="7.12.0")}catch{}function EO({basename:e,children:t,unstable_useTransitions:n,window:i}){let a=P.useRef();a.current==null&&(a.current=JM({window:i,v5Compat:!0}));let o=a.current,[u,h]=P.useState({action:o.action,location:o.location}),d=P.useCallback(m=>{n===!1?h(m):P.startTransition(()=>h(m))},[n]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(QV,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:n})}var FC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jC=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},R){let{basename:D,unstable_useTransitions:N}=P.useContext(yi),F=typeof m=="string"&&FC.test(m),j=xC(m,D);m=j.to;let H=VV(m,{relative:a}),[tt,rt,ut]=mO(i,A),I=AO(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:N});function C(k){t&&t(k),k.defaultPrevented||I(k)}let x=P.createElement("a",{...A,...ut,href:j.absoluteURL||H,onClick:j.isExternal||o?t:C,ref:_O(R,rt),target:d,"data-discover":!F&&n==="render"?"true":void 0});return tt&&!F?P.createElement(P.Fragment,null,x,P.createElement(pO,{page:H})):x});jC.displayName="Link";var TO=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let _=eh(u,{relative:m.relative}),E=ro(),A=P.useContext(im),{navigator:R,basename:D}=P.useContext(yi),N=A!=null&&xO(_)&&h===!0,F=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,j=E.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(j=j.toLowerCase(),H=H?H.toLowerCase():null,F=F.toLowerCase()),H&&D&&(H=$s(H,D)||H);const tt=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let rt=j===F||!a&&j.startsWith(F)&&j.charAt(tt)==="/",ut=H!=null&&(H===F||!a&&H.startsWith(F)&&H.charAt(F.length)==="/"),I={isActive:rt,isPending:ut,isTransitioning:N},C=rt?t:void 0,x;typeof i=="function"?x=i(I):x=[i,rt?"active":null,ut?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(I):o;return P.createElement(jC,{...m,"aria-current":C,className:x,ref:y,style:k,to:u,viewTransition:h},typeof d=="function"?d(I):d)});TO.displayName="NavLink";var SO=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:o,method:u=ad,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},R)=>{let{unstable_useTransitions:D}=P.useContext(yi),N=RO(),F=IO(h,{relative:m}),j=u.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&FC.test(h),tt=rt=>{if(d&&d(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,I=ut?.getAttribute("formmethod")||u,C=()=>N(ut||rt.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});D&&n!==!1?P.startTransition(()=>C()):C()};return P.createElement("form",{ref:R,method:j,action:F,onSubmit:i?d:tt,...A,"data-discover":!H&&e==="render"?"true":void 0})});SO.displayName="Form";function wO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(e){let t=P.useContext(Bl);return Ee(t,wO(e)),t}function AO(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=PC(),y=ro(),_=eh(e,{relative:o});return P.useCallback(E=>{if(eO(E,t)){E.preventDefault();let A=n!==void 0?n:Nc(y)===Nc(_),R=()=>m(e,{replace:A,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});d?P.startTransition(()=>R()):R()}},[y,m,_,n,i,t,e,a,o,u,h,d])}var bO=0,CO=()=>`__${String(++bO)}__`;function RO(){let{router:e}=qC("useSubmit"),{basename:t}=P.useContext(yi),n=GV(),i=e.fetch,a=e.navigate;return P.useCallback(async(o,u={})=>{let{action:h,method:d,encType:m,formData:y,body:_}=sO(o,t);if(u.navigate===!1){let E=u.fetcherKey||CO();await i(E,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await a(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,t,n])}function IO(e,{relative:t}={}){let{basename:n}=P.useContext(yi),i=P.useContext(ws);Ee(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...eh(e||".",{relative:t})},u=ro();if(e==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Gs([n,o.pathname])),Nc(o)}function xO(e,{relative:t}={}){let n=P.useContext(NC);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qC("useViewTransitionState"),a=eh(e,{relative:t});if(!n.isTransitioning)return!1;let o=$s(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=$s(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ed(a.pathname,u)!=null||Ed(a.pathname,o)!=null}const DO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Hw=e=>{const t=NO(e);return t.charAt(0).toUpperCase()+t.slice(1)},HC=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),MO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var VO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OO=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...h},d)=>P.createElement("svg",{ref:d,...VO,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:HC("lucide",a),...!o&&!MO(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>P.createElement(m,y)),...Array.isArray(o)?o:[o]]));const gn=(e,t)=>{const n=P.forwardRef(({className:i,...a},o)=>P.createElement(OO,{ref:o,iconNode:t,className:HC(`lucide-${DO(Hw(e))}`,`lucide-${e}`,i),...a}));return n.displayName=Hw(e),n};const PO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gw=gn("arrow-left",PO);const kO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LO=gn("download",kO);const UO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GC=gn("eye",UO);const BO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xg=gn("file-text",BO);const zO=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],FO=gn("heart",zO);const jO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qO=gn("image",jO);const HO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GO=gn("loader-circle",HO);const YO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],KO=gn("message-circle",YO);const $O=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],QO=gn("moon",$O);const WO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XO=gn("plus",WO);const ZO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JO=gn("search",ZO);const tP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],YC=gn("send",tP);const eP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nP=gn("settings",eP);const iP=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sP=gn("share-2",iP);const rP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aP=gn("sun",rP);const oP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lP=gn("user",oP);const uP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cP=gn("x",uP),W_=P.createContext({});function X_(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const KC=typeof window<"u",$C=KC?P.useLayoutEffect:P.useEffect,rm=P.createContext(null);function Z_(e,t){e.indexOf(t)===-1&&e.push(t)}function J_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vs=(e,t,n)=>n>t?t:n<e?e:n;let tv=()=>{};const Qs={},QC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function WC(e){return typeof e=="object"&&e!==null}const XC=e=>/^0[^.\s]+$/u.test(e);function ev(e){let t;return()=>(t===void 0&&(t=e()),t)}const gi=e=>e,hP=(e,t)=>n=>t(e(n)),nh=(...e)=>e.reduce(hP),Mc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class nv{constructor(){this.subscriptions=[]}add(t){return Z_(this.subscriptions,t),()=>J_(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=e=>e*1e3,pi=e=>e/1e3;function ZC(e,t){return t?e*(1e3/t):0}const JC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fP=1e-7,dP=12;function mP(e,t,n,i,a){let o,u,h=0;do u=t+(n-t)/2,o=JC(u,i,a)-e,o>0?n=u:t=u;while(Math.abs(o)>fP&&++h<dP);return u}function ih(e,t,n,i){if(e===t&&n===i)return gi;const a=o=>mP(o,0,1,e,n);return o=>o===0||o===1?o:JC(a(o),t,i)}const tR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eR=e=>t=>1-e(1-t),nR=ih(.33,1.53,.69,.99),iv=eR(nR),iR=tR(iv),sR=e=>(e*=2)<1?.5*iv(e):.5*(2-Math.pow(2,-10*(e-1))),sv=e=>1-Math.sin(Math.acos(e)),rR=eR(sv),aR=tR(sv),pP=ih(.42,0,1,1),gP=ih(0,0,.58,1),oR=ih(.42,0,.58,1),yP=e=>Array.isArray(e)&&typeof e[0]!="number",lR=e=>Array.isArray(e)&&typeof e[0]=="number",_P={linear:gi,easeIn:pP,easeInOut:oR,easeOut:gP,circIn:sv,circInOut:aR,circOut:rR,backIn:iv,backInOut:iR,backOut:nR,anticipate:sR},vP=e=>typeof e=="string",Yw=e=>{if(lR(e)){tv(e.length===4);const[t,n,i,a]=e;return ih(t,n,i,a)}else if(vP(e))return _P[e];return e},$f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EP(e,t){let n=new Set,i=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),e()),y(h)}const m={schedule:(y,_=!1,E=!1)=>{const R=E&&a?n:i;return _&&u.add(y),R.has(y)||R.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){o=!0;return}a=!0,[n,i]=[i,n],n.forEach(d),n.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const TP=40;function uR(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=$f.reduce((H,tt)=>(H[tt]=EP(o),H),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:_,preRender:E,render:A,postRender:R}=u,D=()=>{const H=Qs.useManualTiming?a.timestamp:performance.now();n=!1,Qs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,TP),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),y.process(a),_.process(a),E.process(a),A.process(a),R.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(D))},N=()=>{n=!0,i=!0,a.isProcessing||e(D)};return{schedule:$f.reduce((H,tt)=>{const rt=u[tt];return H[tt]=(ut,I=!1,C=!1)=>(n||N(),rt.schedule(ut,I,C)),H},{}),cancel:H=>{for(let tt=0;tt<$f.length;tt++)u[$f[tt]].cancel(H)},state:a,steps:u}}const{schedule:me,cancel:Hr,state:hn,steps:Zg}=uR(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let ld;function SP(){ld=void 0}const Cn={now:()=>(ld===void 0&&Cn.set(hn.isProcessing||Qs.useManualTiming?hn.timestamp:performance.now()),ld),set:e=>{ld=e,queueMicrotask(SP)}},cR=e=>t=>typeof t=="string"&&t.startsWith(e),hR=cR("--"),wP=cR("var(--"),rv=e=>wP(e)?AP.test(e.split("/*")[0].trim()):!1,AP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Kw(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const zl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vc={...zl,transform:e=>vs(0,1,e)},Qf={...zl,default:1},yc=e=>Math.round(e*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bP(e){return e==null}const CP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ov=(e,t)=>n=>!!(typeof n=="string"&&CP.test(n)&&n.startsWith(e)||t&&!bP(n)&&Object.prototype.hasOwnProperty.call(n,t)),fR=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,o,u,h]=i.match(av);return{[e]:parseFloat(a),[t]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},RP=e=>vs(0,255,e),Jg={...zl,transform:e=>Math.round(RP(e))},ja={test:ov("rgb","red"),parse:fR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Jg.transform(e)+", "+Jg.transform(t)+", "+Jg.transform(n)+", "+yc(Vc.transform(i))+")"};function IP(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Uy={test:ov("#"),parse:IP,transform:ja.transform},sh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pr=sh("deg"),ms=sh("%"),mt=sh("px"),xP=sh("vh"),DP=sh("vw"),$w={...ms,parse:e=>ms.parse(e)/100,transform:e=>ms.transform(e*100)},hl={test:ov("hsl","hue"),parse:fR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ms.transform(yc(t))+", "+ms.transform(yc(n))+", "+yc(Vc.transform(i))+")"},je={test:e=>ja.test(e)||Uy.test(e)||hl.test(e),parse:e=>ja.test(e)?ja.parse(e):hl.test(e)?hl.parse(e):Uy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ja.transform(e):hl.transform(e),getAnimatableNone:e=>{const t=je.parse(e);return t.alpha=0,je.transform(t)}},NP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MP(e){return isNaN(e)&&typeof e=="string"&&(e.match(av)?.length||0)+(e.match(NP)?.length||0)>0}const dR="number",mR="color",VP="var",OP="var(",Qw="${}",PP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=t.replace(PP,d=>(je.test(d)?(i.color.push(o),a.push(mR),n.push(je.parse(d))):d.startsWith(OP)?(i.var.push(o),a.push(VP),n.push(d)):(i.number.push(o),a.push(dR),n.push(parseFloat(d))),++o,Qw)).split(Qw);return{values:n,split:h,indexes:i,types:a}}function pR(e){return Oc(e).values}function gR(e){const{split:t,types:n}=Oc(e),i=t.length;return a=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],a[u]!==void 0){const h=n[u];h===dR?o+=yc(a[u]):h===mR?o+=je.transform(a[u]):o+=a[u]}return o}}const kP=e=>typeof e=="number"?0:je.test(e)?je.getAnimatableNone(e):e;function LP(e){const t=pR(e);return gR(e)(t.map(kP))}const Gr={test:MP,parse:pR,createTransformer:gR,getAnimatableNone:LP};function ty(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UP({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,o=0,u=0;if(!t)a=o=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,d=2*n-h;a=ty(d,h,e+1/3),o=ty(d,h,e),u=ty(d,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Td(e,t){return n=>n>0?t:e}const _e=(e,t,n)=>e+(t-e)*n,ey=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},BP=[Uy,ja,hl],zP=e=>BP.find(t=>t.test(e));function Ww(e){const t=zP(e);if(!t)return!1;let n=t.parse(e);return t===hl&&(n=UP(n)),n}const Xw=(e,t)=>{const n=Ww(e),i=Ww(t);if(!n||!i)return Td(e,t);const a={...n};return o=>(a.red=ey(n.red,i.red,o),a.green=ey(n.green,i.green,o),a.blue=ey(n.blue,i.blue,o),a.alpha=_e(n.alpha,i.alpha,o),ja.transform(a))},By=new Set(["none","hidden"]);function FP(e,t){return By.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jP(e,t){return n=>_e(e,t,n)}function lv(e){return typeof e=="number"?jP:typeof e=="string"?rv(e)?Td:je.test(e)?Xw:GP:Array.isArray(e)?yR:typeof e=="object"?je.test(e)?Xw:qP:Td}function yR(e,t){const n=[...e],i=n.length,a=e.map((o,u)=>lv(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=a[u](o);return n}}function qP(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=lv(e[a])(e[a],t[a]));return a=>{for(const o in i)n[o]=i[o](a);return n}}function HP(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],u=e.indexes[o][i[o]],h=e.values[u]??0;n[a]=h,i[o]++}return n}const GP=(e,t)=>{const n=Gr.createTransformer(t),i=Oc(e),a=Oc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?By.has(e)&&!a.values.length||By.has(t)&&!i.values.length?FP(e,t):nh(yR(HP(i,a),a.values),n):Td(e,t)};function _R(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_e(e,t,n):lv(e)(e,t)}const YP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>me.update(t,n),stop:()=>Hr(t),now:()=>hn.isProcessing?hn.timestamp:Cn.now()}},vR=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let o=0;o<a;o++)i+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Sd=2e4;function uv(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Sd;)t+=n,i=e.next(t);return t>=Sd?1/0:t}function KP(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(uv(i),Sd);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:pi(a)}}const $P=5;function ER(e,t,n){const i=Math.max(t-$P,0);return ZC(n-e(i),t-i)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ny=.001;function QP({duration:e=be.duration,bounce:t=be.bounce,velocity:n=be.velocity,mass:i=be.mass}){let a,o,u=1-t;u=vs(be.minDamping,be.maxDamping,u),e=vs(be.minDuration,be.maxDuration,pi(e)),u<1?(a=m=>{const y=m*u,_=y*e,E=y-n,A=zy(m,u),R=Math.exp(-_);return ny-E/A*R},o=m=>{const _=m*u*e,E=_*n+n,A=Math.pow(u,2)*Math.pow(m,2)*e,R=Math.exp(-_),D=zy(Math.pow(m,2),u);return(-a(m)+ny>0?-1:1)*((E-A)*R)/D}):(a=m=>{const y=Math.exp(-m*e),_=(m-n)*e+1;return-ny+y*_},o=m=>{const y=Math.exp(-m*e),_=(n-m)*(e*e);return y*_});const h=5/e,d=XP(a,o,h);if(e=Ys(e),isNaN(d))return{stiffness:be.stiffness,damping:be.damping,duration:e};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const WP=12;function XP(e,t,n){let i=n;for(let a=1;a<WP;a++)i=i-e(i)/t(i);return i}function zy(e,t){return e*Math.sqrt(1-t*t)}const ZP=["duration","bounce"],JP=["stiffness","damping","mass"];function Zw(e,t){return t.some(n=>e[n]!==void 0)}function tk(e){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...e};if(!Zw(e,JP)&&Zw(e,ZP))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,o=2*vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:o}}else{const n=QP(e);t={...t,...n,mass:be.mass},t.isResolvedFromDuration=!0}return t}function wd(e=be.visualDuration,t=be.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=tk({...n,velocity:-pi(n.velocity||0)}),R=E||0,D=m/(2*Math.sqrt(d*y)),N=u-o,F=pi(Math.sqrt(d/y)),j=Math.abs(N)<5;i||(i=j?be.restSpeed.granular:be.restSpeed.default),a||(a=j?be.restDelta.granular:be.restDelta.default);let H;if(D<1){const rt=zy(F,D);H=ut=>{const I=Math.exp(-D*F*ut);return u-I*((R+D*F*N)/rt*Math.sin(rt*ut)+N*Math.cos(rt*ut))}}else if(D===1)H=rt=>u-Math.exp(-F*rt)*(N+(R+F*N)*rt);else{const rt=F*Math.sqrt(D*D-1);H=ut=>{const I=Math.exp(-D*F*ut),C=Math.min(rt*ut,300);return u-I*((R+D*F*N)*Math.sinh(C)+rt*N*Math.cosh(C))/rt}}const tt={calculatedDuration:A&&_||null,next:rt=>{const ut=H(rt);if(A)h.done=rt>=_;else{let I=rt===0?R:0;D<1&&(I=rt===0?Ys(R):ER(H,rt,ut));const C=Math.abs(I)<=i,x=Math.abs(u-ut)<=a;h.done=C&&x}return h.value=h.done?u:ut,h},toString:()=>{const rt=Math.min(uv(tt),Sd),ut=vR(I=>tt.next(rt*I).value,rt,30);return rt+"ms "+ut},toTransition:()=>{}};return tt}wd.applyToOptions=e=>{const t=KP(e,100,wd);return e.ease=t.ease,e.duration=Ys(t.duration),e.type="keyframes",e};function Fy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},A=C=>h!==void 0&&C<h||d!==void 0&&C>d,R=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let D=n*t;const N=_+D,F=u===void 0?N:u(N);F!==N&&(D=F-_);const j=C=>-D*Math.exp(-C/i),H=C=>F+j(C),tt=C=>{const x=j(C),k=H(C);E.done=Math.abs(x)<=m,E.value=E.done?F:k};let rt,ut;const I=C=>{A(E.value)&&(rt=C,ut=wd({keyframes:[E.value,R(E.value)],velocity:ER(H,C,E.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return I(0),{calculatedDuration:null,next:C=>{let x=!1;return!ut&&rt===void 0&&(x=!0,tt(C),I(C)),rt!==void 0&&C>=rt?ut.next(C-rt):(!x&&tt(C),E)}}}function ek(e,t,n){const i=[],a=n||Qs.mix||_R,o=e.length-1;for(let u=0;u<o;u++){let h=a(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||gi:t;h=nh(d,h)}i.push(h)}return i}function nk(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const o=e.length;if(tv(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=ek(t,i,a),d=h.length,m=y=>{if(u&&y<e[0])return t[0];let _=0;if(d>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=Mc(e[_],e[_+1],y);return h[_](E)};return n?y=>m(vs(e[0],e[o-1],y)):m}function ik(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=Mc(0,t,i);e.push(_e(n,1,a))}}function sk(e){const t=[0];return ik(t,e.length-1),t}function rk(e,t){return e.map(n=>n*t)}function ak(e,t){return e.map(()=>t||oR).splice(0,e.length-1)}function _c({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=yP(i)?i.map(Yw):Yw(i),o={done:!1,value:t[0]},u=rk(n&&n.length===t.length?n:sk(t),e),h=nk(u,t,{ease:Array.isArray(a)?a:ak(t,a)});return{calculatedDuration:e,next:d=>(o.value=h(d),o.done=d>=e,o)}}const ok=e=>e!==null;function cv(e,{repeat:t,repeatType:n="loop"},i,a=1){const o=e.filter(ok),h=a<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const lk={decay:Fy,inertia:Fy,tween:_c,keyframes:_c,spring:wd};function TR(e){typeof e.type=="string"&&(e.type=lk[e.type])}class hv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const uk=e=>e/100;class fv extends hv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;TR(t);const{type:n=_c,repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=t;let{keyframes:h}=t;const d=n||_c;d!==_c&&typeof h[0]!="number"&&(this.mixKeyframes=nh(uk,_R(h[0],h[1])),h=[0,100]);const m=d({...t,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=uv(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:R,onUpdate:D,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,tt=i;if(_){const C=Math.min(this.currentTime,a)/h;let x=Math.floor(C),k=C%1;!k&&C>=1&&(k=1),k===1&&x--,x=Math.min(x,_+1),x%2&&(E==="reverse"?(k=1-k,A&&(k-=A/h)):E==="mirror"&&(tt=u)),H=vs(0,1,k)*h}const rt=j?{done:!1,value:y[0]}:tt.next(H);o&&(rt.value=o(rt.value));let{done:ut}=rt;!j&&d!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return I&&R!==Fy&&(rt.value=cv(y,this.options,N,this.speed)),D&&D(rt.value),I&&this.finish(),rt}then(t,n){return this.finished.then(t,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(this.currentTime)}set time(t){t=Ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Cn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=YP,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ck(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qa=e=>e*180/Math.PI,jy=e=>{const t=qa(Math.atan2(e[1],e[0]));return qy(t)},hk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:jy,rotateZ:jy,skewX:e=>qa(Math.atan(e[1])),skewY:e=>qa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qy=e=>(e=e%360,e<0&&(e+=360),e),Jw=jy,tA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tA,scaleY:eA,scale:e=>(tA(e)+eA(e))/2,rotateX:e=>qy(qa(Math.atan2(e[6],e[5]))),rotateY:e=>qy(qa(Math.atan2(-e[2],e[0]))),rotateZ:Jw,rotate:Jw,skewX:e=>qa(Math.atan(e[4])),skewY:e=>qa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Hy(e){return e.includes("scale")?1:0}function Gy(e,t){if(!e||e==="none")return Hy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=fk,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=hk,a=h}if(!a)return Hy(t);const o=i[t],u=a[1].split(",").map(mk);return typeof o=="function"?o(u):u[o]}const dk=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gy(n,t)};function mk(e){return parseFloat(e.trim())}const Fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Fl),nA=e=>e===zl||e===mt,pk=new Set(["x","y","z"]),gk=Fl.filter(e=>!pk.has(e));function yk(e){const t=[];return gk.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const kr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gy(t,"x"),y:(e,{transform:t})=>Gy(t,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Ka=new Set;let Yy=!1,Ky=!1,$y=!1;function SR(){if(Ky){const e=Array.from(Ka).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=yk(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ky=!1,Yy=!1,Ka.forEach(e=>e.complete($y)),Ka.clear()}function wR(){Ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ky=!0)})}function _k(){$y=!0,wR(),SR(),$y=!1}class dv{constructor(t,n,i,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ka.add(this),Yy||(Yy=!0,me.read(wR),me.resolveKeyframes(SR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const o=a?.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&o===void 0&&a.set(t[0])}ck(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ka.delete(this)}cancel(){this.state==="scheduled"&&(Ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vk=e=>e.startsWith("--");function Ek(e,t,n){vk(t)?e.style.setProperty(t,n):e.style[t]=n}const Tk=ev(()=>window.ScrollTimeline!==void 0),Sk={};function wk(e,t){const n=ev(e);return()=>Sk[t]??n()}const AR=wk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,iA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function bR(e,t){if(e)return typeof e=="function"?AR()?vR(e,t):"ease-out":lR(e)?cc(e):Array.isArray(e)?e.map(n=>bR(n,t)||iA.easeOut):iA[e]}function Ak(e,t,n,{delay:i=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[t]:n};d&&(y.offset=d);const _=bR(h,a);Array.isArray(_)&&(y.easing=_);const E={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(y,E)}function CR(e){return typeof e=="function"&&"applyToOptions"in e}function bk({type:e,...t}){return CR(e)&&AR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ck extends hv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,tv(typeof t.type!="string");const m=bk(t);this.animation=Ak(n,i,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=cv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Ek(n,i,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pi(t)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Tk()?(this.animation.timeline=t,gi):n(this)}}const RR={anticipate:sR,backInOut:iR,circInOut:aR};function Rk(e){return e in RR}function Ik(e){typeof e.ease=="string"&&Rk(e.ease)&&(e.ease=RR[e.ease])}const iy=10;class xk extends Ck{constructor(t){Ik(t),TR(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new fv({...u,autoplay:!1}),d=Math.max(iy,Cn.now()-this.startTime),m=vs(0,iy,d-iy);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const sA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gr.test(e)||e==="0")&&!e.startsWith("url("));function Dk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Nk(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=sA(a,t),h=sA(o,t);return!u||!h?!1:Dk(e)||(n==="spring"||CR(n))&&i}function Qy(e){e.duration=0,e.type="keyframes"}const Mk=new Set(["opacity","clipPath","filter","transform"]),Vk=ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ok(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:o,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return Vk()&&n&&Mk.has(n)&&(n!=="transform"||!m)&&!d&&!i&&a!=="mirror"&&o!==0&&u!=="inertia"}const Pk=40;class kk extends hv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const E={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:y,..._},A=y?.KeyframeResolver||dv;this.keyframeResolver=new A(h,(R,D,N)=>this.onKeyframesResolved(R,D,E,!N),d,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Cn.now(),Nk(t,o,u,h)||((Qs.instantAnimations||!d)&&y?.(cv(t,i,n)),t[0]=t[t.length-1],Qy(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Pk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},A=!m&&Ok(E),R=E.motionValue?.owner?.current,D=A?new xk({...E,element:R}):new fv(E);D.finished.then(()=>{this.notifyFinished()}).catch(gi),this.pendingTimeline&&(this.stopTimeline=D.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=D}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_k()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function IR(e,t,n,i=0,a=1){const o=Array.from(e).sort((m,y)=>m.sortNodePosition(y)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(o,u):a===1?o*i:h-o*i}const Lk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uk(e){const t=Lk.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function xR(e,t,n=1){const[i,a]=Uk(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return QC(u)?parseFloat(u):u}return rv(a)?xR(a,t,n+1):a}const Bk={type:"spring",stiffness:500,damping:25,restSpeed:10},zk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fk={type:"keyframes",duration:.8},jk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qk=(e,{keyframes:t})=>t.length>2?Fk:jl.has(e)?e.startsWith("scale")?zk(t[1]):Bk:jk,Hk=e=>e!==null;function Gk(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(Hk),o=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[o]}function mv(e,t){return e?.[t]??e?.default??e}function Yk({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const pv=(e,t,n,i={},a,o)=>u=>{const h=mv(i,e)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ys(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:o?void 0:a};Yk(h)||Object.assign(y,qk(e,y)),y.duration&&(y.duration=Ys(y.duration)),y.repeatDelay&&(y.repeatDelay=Ys(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Qy(y),y.delay===0&&(_=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(_=!0,Qy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!o&&t.get()!==void 0){const E=Gk(y.keyframes,h);if(E!==void 0){me.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new fv(y):new kk(y)};function rA(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function gv(e,t,n,i){if(typeof t=="function"){const[a,o]=rA(i);t=t(n!==void 0?n:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=rA(i);t=t(n!==void 0?n:e.custom,a,o)}return t}function yl(e,t,n){const i=e.getProps();return gv(i,t,n!==void 0?n:i.custom,e)}const DR=new Set(["width","height","top","left","right","bottom",...Fl]),aA=30,Kk=e=>!isNaN(parseFloat(e));class $k{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Kk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nv);const i=this.events[t].add(n);return t==="change"?()=>{i(),me.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aA);return ZC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(e,t){return new $k(e,t)}const Wy=e=>Array.isArray(e);function Qk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bl(n))}function Wk(e){return Wy(e)?e[e.length-1]||0:e}function Xk(e,t){const n=yl(e,t);let{transitionEnd:i={},transition:a={},...o}=n||{};o={...o,...i};for(const u in o){const h=Wk(o[u]);Qk(e,u,h)}}const Sn=e=>!!(e&&e.getVelocity);function Zk(e){return!!(Sn(e)&&e.add)}function Xy(e,t){const n=e.getValue("willChange");if(Zk(n))return n.add(t);if(!n&&Qs.WillChange){const i=new Qs.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function yv(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Jk="framerAppearId",NR="data-"+yv(Jk);function MR(e){return e.props[NR]}function t4({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function VR(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(o=i);const d=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const _=e.getValue(y,e.latestValues[y]??null),E=h[y];if(E===void 0||m&&t4(m,y))continue;const A={delay:n,...mv(o||{},y)},R=_.get();if(R!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===R&&!A.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const F=MR(e);if(F){const j=window.MotionHandoffAnimation(F,y,me);j!==null&&(A.startTime=j,D=!0)}}Xy(e,y),_.start(pv(y,_,E,e.shouldReduceMotion&&DR.has(y)?{type:!1}:A,e,D));const N=_.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{me.update(()=>{u&&Xk(e,u)})}),d}function Zy(e,t,n={}){const i=yl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all(VR(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=a;return e4(e,t,d,m,y,_,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,m]=h==="beforeChildren"?[o,u]:[u,o];return d().then(()=>m())}else return Promise.all([o(),u(n.delay)])}function e4(e,t,n=0,i=0,a=0,o=1,u){const h=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),h.push(Zy(d,t,{...u,delay:n+(typeof i=="function"?0:i)+IR(e.variantChildren,d,i,a,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function n4(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>Zy(e,o,n));i=Promise.all(a)}else if(typeof t=="string")i=Zy(e,t,n);else{const a=typeof t=="function"?yl(e,t,n.custom):t;i=Promise.all(VR(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const i4={test:e=>e==="auto",parse:e=>e},OR=e=>t=>t.test(e),PR=[zl,mt,ms,Pr,DP,xP,i4],oA=e=>PR.find(OR(e));function s4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XC(e):!0}const r4=new Set(["brightness","contrast","saturate","opacity"]);function a4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(av)||[];if(!i)return e;const a=n.replace(i,"");let o=r4.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+a+")"}const o4=/\b([a-z-]*)\(.*?\)/gu,Jy={...Gr,getAnimatableNone:e=>{const t=e.match(o4);return t?t.map(a4).join(" "):e}},lA={...zl,transform:Math.round},l4={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:Qf,scaleX:Qf,scaleY:Qf,scaleZ:Qf,skew:Pr,skewX:Pr,skewY:Pr,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Vc,originX:$w,originY:$w,originZ:mt},_v={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,inset:mt,insetBlock:mt,insetBlockStart:mt,insetBlockEnd:mt,insetInline:mt,insetInlineStart:mt,insetInlineEnd:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,paddingBlock:mt,paddingBlockStart:mt,paddingBlockEnd:mt,paddingInline:mt,paddingInlineStart:mt,paddingInlineEnd:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,marginBlock:mt,marginBlockStart:mt,marginBlockEnd:mt,marginInline:mt,marginInlineStart:mt,marginInlineEnd:mt,backgroundPositionX:mt,backgroundPositionY:mt,...l4,zIndex:lA,fillOpacity:Vc,strokeOpacity:Vc,numOctaves:lA},u4={..._v,color:je,backgroundColor:je,outlineColor:je,fill:je,stroke:je,borderColor:je,borderTopColor:je,borderRightColor:je,borderBottomColor:je,borderLeftColor:je,filter:Jy,WebkitFilter:Jy},kR=e=>u4[e];function LR(e,t){let n=kR(e);return n!==Jy&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const c4=new Set(["auto","none","0"]);function h4(e,t,n){let i=0,a;for(;i<e.length&&!a;){const o=e[i];typeof o=="string"&&!c4.has(o)&&Oc(o).values.length&&(a=e[i]),i++}if(a&&n)for(const o of t)e[o]=LR(n,a)}class f4 extends dv{constructor(t,n,i,a,o){super(t,n,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),rv(_))){const E=xR(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!DR.has(i)||t.length!==2)return;const[a,o]=t,u=oA(a),h=oA(o),d=Kw(a),m=Kw(o);if(d!==m&&kr[i]){this.needsMeasurement=!0;return}if(u!==h)if(nA(u)&&nA(h))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else kr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||s4(t[a]))&&i.push(a);i.length&&h4(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=kr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function d4(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const UR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function BR(e){return WC(e)&&"offsetHeight"in e}const{schedule:vv}=uR(queueMicrotask,!1),Ni={x:!1,y:!1};function zR(){return Ni.x||Ni.y}function m4(e){return e==="x"||e==="y"?Ni[e]?null:(Ni[e]=!0,()=>{Ni[e]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}function FR(e,t){const n=d4(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function uA(e){return!(e.pointerType==="touch"||zR())}function p4(e,t,n={}){const[i,a,o]=FR(e,n),u=h=>{if(!uA(h))return;const{target:d}=h,m=t(d,h);if(typeof m!="function"||!d)return;const y=_=>{uA(_)&&(m(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const jR=(e,t)=>t?e===t?!0:jR(e,t.parentElement):!1,Ev=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,g4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qR(e){return g4.has(e.tagName)||e.isContentEditable===!0}const ud=new WeakSet;function cA(e){return t=>{t.key==="Enter"&&e(t)}}function sy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const y4=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=cA(()=>{if(ud.has(n))return;sy(n,"down");const a=cA(()=>{sy(n,"up")}),o=()=>sy(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function hA(e){return Ev(e)&&!zR()}function _4(e,t,n={}){const[i,a,o]=FR(e,n),u=h=>{const d=h.currentTarget;if(!hA(h))return;ud.add(d);const m=t(d,h),y=(A,R)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),ud.has(d)&&ud.delete(d),hA(A)&&typeof m=="function"&&m(A,{success:R})},_=A=>{y(A,d===window||d===document||n.useGlobalTarget||jR(d,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),BR(h)&&(h.addEventListener("focus",m=>y4(m,a)),!qR(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function HR(e){return WC(e)&&"ownerSVGElement"in e}function v4(e){return HR(e)&&e.tagName==="svg"}const E4=[...PR,je,Gr],T4=e=>E4.find(OR(e)),fA=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:fA(),y:fA()}),dA=()=>({min:0,max:0}),$e=()=>({x:dA(),y:dA()}),t_={current:null},GR={current:!1},S4=typeof window<"u";function w4(){if(GR.current=!0,!!S4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>t_.current=e.matches;e.addEventListener("change",t),t()}else t_.current=!1}const A4=new WeakMap;function am(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pc(e){return typeof e=="string"||Array.isArray(e)}const Tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",...Tv];function om(e){return am(e.animate)||Sv.some(t=>Pc(e[t]))}function YR(e){return!!(om(e)||e.variants)}function b4(e,t,n){for(const i in t){const a=t[i],o=n[i];if(Sn(a))e.addValue(i,a);else if(Sn(o))e.addValue(i,bl(a,{owner:e}));else if(o!==a)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(i);e.addValue(i,bl(u!==void 0?u:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const mA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ad={};function KR(e){Ad=e}function C4(){return Ad}class R4{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Cn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,me.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=om(n),this.isVariantNode=YR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];d[E]!==void 0&&Sn(A)&&A.set(d[E])}}mount(t){this.current=t,A4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(GR.current||w4(),this.shouldReduceMotion=t_.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=jl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&me.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ad){const n=Ad[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mA.length;i++){const a=mA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=t[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=b4(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=bl(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(QC(i)||XC(i))?i=parseFloat(i):!T4(i)&&Gr.test(n)&&(i=LR(t,n)),this.setBaseTarget(t,Sn(i)?i.get():i)),Sn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=gv(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Sn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){vv.render(this.render)}}class $R extends R4{constructor(){super(...arguments),this.KeyframeResolver=f4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}function QR({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function I4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function x4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ry(e){return e===void 0||e===1}function e_({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function Ba(e){return e_(e)||WR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WR(e){return pA(e.x)||pA(e.y)}function pA(e){return e&&e!=="0%"}function bd(e,t,n){const i=e-n,a=t*i;return n+a}function gA(e,t,n,i,a){return a!==void 0&&(e=bd(e,a,i)),bd(e,n,i)+t}function n_(e,t=0,n=1,i,a){e.min=gA(e.min,t,n,i,a),e.max=gA(e.max,t,n,i,a)}function XR(e,{x:t,y:n}){n_(e.x,t.translate,t.scale,t.originPoint),n_(e.y,n.translate,n.scale,n.originPoint)}const yA=.999999999999,_A=1.0000000000001;function D4(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ml(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,XR(e,u)),i&&Ba(o.latestValues)&&ml(e,o.latestValues))}t.x<_A&&t.x>yA&&(t.x=1),t.y<_A&&t.y>yA&&(t.y=1)}function dl(e,t){e.min=e.min+t,e.max=e.max+t}function vA(e,t,n,i,a=.5){const o=_e(e.min,e.max,a);n_(e,t,n,o,i)}function ml(e,t){vA(e.x,t.x,t.scaleX,t.scale,t.originX),vA(e.y,t.y,t.scaleY,t.scale,t.originY)}function ZR(e,t){return QR(x4(e.getBoundingClientRect(),t))}function N4(e,t,n){const i=ZR(e,n),{scroll:a}=t;return a&&(dl(i.x,a.offset.x),dl(i.y,a.offset.y)),i}const M4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},V4=Fl.length;function O4(e,t,n){let i="",a=!0;for(let o=0;o<V4;o++){const u=Fl[o],h=e[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=UR(h,_v[u]);if(!d){a=!1;const y=M4[u]||u;i+=`${y}(${m}) `}n&&(t[u]=m)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function wv(e,t,n){const{style:i,vars:a,transformOrigin:o}=e;let u=!1,h=!1;for(const d in t){const m=t[d];if(jl.has(d)){u=!0;continue}else if(hR(d)){a[d]=m;continue}else{const y=UR(m,_v[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(t.transform||(u||n?i.transform=O4(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}function JR(e,{style:t,vars:n},i,a){const o=e.style;let u;for(u in t)o[u]=t[u];a?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function EA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const n=EA(e,t.target.x),i=EA(e,t.target.y);return`${n}% ${i}%`}},P4={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Gr.parse(e);if(a.length>5)return i;const o=Gr.createTransformer(e),u=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,d=n.y.scale*t.y;a[0+u]/=h,a[1+u]/=d;const m=_e(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),o(a)}},i_={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:P4};function tI(e,{layout:t,layoutId:n}){return jl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!i_[e]||e==="opacity")}function Av(e,t,n){const i=e.style,a=t?.style,o={};if(!i)return o;for(const u in i)(Sn(i[u])||a&&Sn(a[u])||tI(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}function k4(e){return window.getComputedStyle(e)}class L4 extends $R{constructor(){super(...arguments),this.type="html",this.renderInstance=JR}readValueFromInstance(t,n){if(jl.has(n))return this.projection?.isProjecting?Hy(n):dk(t,n);{const i=k4(t),a=(hR(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ZR(t,n)}build(t,n,i){wv(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Av(t,n,i)}}const U4={offset:"stroke-dashoffset",array:"stroke-dasharray"},B4={offset:"strokeDashoffset",array:"strokeDasharray"};function z4(e,t,n=1,i=0,a=!0){e.pathLength=1;const o=a?U4:B4;e[o.offset]=mt.transform(-i);const u=mt.transform(t),h=mt.transform(n);e[o.array]=`${u} ${h}`}const F4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eI(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},d,m,y){if(wv(e,h,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const A of F4)_[A]!==void 0&&(E[A]=_[A],delete _[A]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&z4(_,a,o,u,!1)}const nI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),iI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function j4(e,t,n,i){JR(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(nI.has(a)?a:yv(a),t.attrs[a])}function sI(e,t,n){const i=Av(e,t,n);for(const a in e)if(Sn(e[a])||Sn(t[a])){const o=Fl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=e[a]}return i}class q4 extends $R{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jl.has(n)){const i=kR(n);return i&&i.default||0}return n=nI.has(n)?n:yv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return sI(t,n,i)}build(t,n,i){eI(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){j4(t,n,i,a)}mount(t){this.isSVGTag=iI(t.tagName),super.mount(t)}}const H4=Sv.length;function rI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<H4;n++){const i=Sv[n],a=e.props[i];(Pc(a)||a===!1)&&(t[i]=a)}return t}function aI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const G4=[...Tv].reverse(),Y4=Tv.length;function K4(e){return t=>Promise.all(t.map(({animation:n,options:i})=>n4(e,n,i)))}function $4(e){let t=K4(e),n=TA(),i=!0;const a=d=>(m,y)=>{const _=yl(e,y,d==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:A,...R}=_;m={...m,...R,...A}}return m};function o(d){t=d(e)}function u(d){const{props:m}=e,y=rI(e.parent)||{},_=[],E=new Set;let A={},R=1/0;for(let N=0;N<Y4;N++){const F=G4[N],j=n[F],H=m[F]!==void 0?m[F]:y[F],tt=Pc(H),rt=F===d?j.isActive:null;rt===!1&&(R=N);let ut=H===y[F]&&H!==m[F]&&tt;if(ut&&i&&e.manuallyAnimateOnMount&&(ut=!1),j.protectedKeys={...A},!j.isActive&&rt===null||!H&&!j.prevProp||am(H)||typeof H=="boolean")continue;const I=Q4(j.prevProp,H);let C=I||F===d&&j.isActive&&!ut&&tt||N>R&&tt,x=!1;const k=Array.isArray(H)?H:[H];let O=k.reduce(a(F),{});rt===!1&&(O={});const{prevResolvedValues:z={}}=j,M={...z,...O},re=at=>{C=!0,E.has(at)&&(x=!0,E.delete(at)),j.needsAnimating[at]=!0;const pt=e.getValue(at);pt&&(pt.liveStyle=!1)};for(const at in M){const pt=O[at],xt=z[at];if(A.hasOwnProperty(at))continue;let Lt=!1;Wy(pt)&&Wy(xt)?Lt=!aI(pt,xt):Lt=pt!==xt,Lt?pt!=null?re(at):E.add(at):pt!==void 0&&E.has(at)?re(at):j.protectedKeys[at]=!0}j.prevProp=H,j.prevResolvedValues=O,j.isActive&&(A={...A,...O}),i&&e.blockInitialAnimation&&(C=!1);const Se=ut&&I;C&&(!Se||x)&&_.push(...k.map(at=>{const pt={type:F};if(typeof at=="string"&&i&&!Se&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,Lt=yl(xt,at);if(xt.enteringChildren&&Lt){const{delayChildren:U}=Lt.transition||{};pt.delay=IR(xt.enteringChildren,e,U)}}return{animation:at,options:pt}}))}if(E.size){const N={};if(typeof m.initial!="boolean"){const F=yl(e,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(N.transition=F.transition)}E.forEach(F=>{const j=e.getBaseTarget(F),H=e.getValue(F);H&&(H.liveStyle=!0),N[F]=j??null}),_.push({animation:N})}let D=!!_.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(D=!1),i=!1,D?t(_):Promise.resolve()}function h(d,m){if(n[d].isActive===m)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(d,m)),n[d].isActive=m;const y=u(d);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=TA()}}}function Q4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aI(t,e):!1}function ka(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TA(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}function SA(e,t){e.min=t.min,e.max=t.max}function Di(e,t){SA(e.x,t.x),SA(e.y,t.y)}function wA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const oI=1e-4,W4=1-oI,X4=1+oI,lI=.01,Z4=0-lI,J4=0+lI;function Rn(e){return e.max-e.min}function tL(e,t,n){return Math.abs(e-t)<=n}function AA(e,t,n,i=.5){e.origin=i,e.originPoint=_e(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=_e(n.min,n.max,e.origin)-e.originPoint,(e.scale>=W4&&e.scale<=X4||isNaN(e.scale))&&(e.scale=1),(e.translate>=Z4&&e.translate<=J4||isNaN(e.translate))&&(e.translate=0)}function vc(e,t,n,i){AA(e.x,t.x,n.x,i?i.originX:void 0),AA(e.y,t.y,n.y,i?i.originY:void 0)}function bA(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function eL(e,t,n){bA(e.x,t.x,n.x),bA(e.y,t.y,n.y)}function CA(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function Cd(e,t,n){CA(e.x,t.x,n.x),CA(e.y,t.y,n.y)}function RA(e,t,n,i,a){return e-=t,e=bd(e,1/n,i),a!==void 0&&(e=bd(e,1/a,i)),e}function nL(e,t=0,n=1,i=.5,a,o=e,u=e){if(ms.test(t)&&(t=parseFloat(t),t=_e(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=_e(o.min,o.max,i);e===o&&(h-=t),e.min=RA(e.min,t,n,h,a),e.max=RA(e.max,t,n,h,a)}function IA(e,t,[n,i,a],o,u){nL(e,t[n],t[i],t[a],t.scale,o,u)}const iL=["x","scaleX","originX"],sL=["y","scaleY","originY"];function xA(e,t,n,i){IA(e.x,t,iL,n?n.x:void 0,i?i.x:void 0),IA(e.y,t,sL,n?n.y:void 0,i?i.y:void 0)}function DA(e){return e.translate===0&&e.scale===1}function uI(e){return DA(e.x)&&DA(e.y)}function NA(e,t){return e.min===t.min&&e.max===t.max}function rL(e,t){return NA(e.x,t.x)&&NA(e.y,t.y)}function MA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cI(e,t){return MA(e.x,t.x)&&MA(e.y,t.y)}function VA(e){return Rn(e.x)/Rn(e.y)}function OA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function di(e){return[e("x"),e("y")]}function aL(e,t,n){let i="";const a=e.x.translate/t.x,o=e.y.translate/t.y,u=n?.z||0;if((a||o||u)&&(i=`translate3d(${a}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:R}=n;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),R&&(i+=`skewY(${R}deg) `)}const h=e.x.scale*t.x,d=e.y.scale*t.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const hI=["TopLeft","TopRight","BottomLeft","BottomRight"],oL=hI.length,PA=e=>typeof e=="string"?parseFloat(e):e,kA=e=>typeof e=="number"||mt.test(e);function lL(e,t,n,i,a,o){a?(e.opacity=_e(0,n.opacity??1,uL(i)),e.opacityExit=_e(t.opacity??1,0,cL(i))):o&&(e.opacity=_e(t.opacity??1,n.opacity??1,i));for(let u=0;u<oL;u++){const h=`border${hI[u]}Radius`;let d=LA(t,h),m=LA(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||kA(d)===kA(m)?(e[h]=Math.max(_e(PA(d),PA(m),i),0),(ms.test(m)||ms.test(d))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=_e(t.rotate||0,n.rotate||0,i))}function LA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const uL=fI(0,.5,rR),cL=fI(.5,.95,gi);function fI(e,t,n){return i=>i<e?0:i>t?1:n(Mc(e,t,i))}function hL(e,t,n){const i=Sn(e)?e:bl(e);return i.start(pv("",i,t,n)),i.animation}function kc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const fL=(e,t)=>e.depth-t.depth;class dL{constructor(){this.children=[],this.isDirty=!1}add(t){Z_(this.children,t),this.isDirty=!0}remove(t){J_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fL),this.isDirty=!1,this.children.forEach(t)}}function mL(e,t){const n=Cn.now(),i=({timestamp:a})=>{const o=a-n;o>=t&&(Hr(i),e(o-t))};return me.setup(i,!0),()=>Hr(i)}function cd(e){return Sn(e)?e.get():e}class pL{constructor(){this.members=[]}add(t){Z_(this.members,t),t.scheduleRender()}remove(t){if(J_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ay=["","X","Y","Z"],gL=1e3;let yL=0;function oy(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function dI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=MR(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",me,!(a||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&dI(i)}function mI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=yL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EL),this.nodes.forEach(AL),this.nodes.forEach(bL),this.nodes.forEach(TL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new dL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new nv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=HR(u)&&!v4(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),e){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;me.read(()=>{_=window.innerWidth}),e(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=mL(E,250),hd.hasAnimatedSinceResize&&(hd.hasAnimatedSinceResize=!1,this.nodes.forEach(zA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||DL,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=m.getProps(),F=!this.targetLayout||!cI(this.targetLayout,A),j=!_&&E;if(this.options.layoutRoot||this.resumeFrom||j||_&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...mv(R,"layout"),onPlay:D,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,j)}else _||zA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wL),this.nodes.forEach(_L),this.nodes.forEach(vL)):this.nodes.forEach(BA),this.clearAllSnapshots();const h=Cn.now();hn.delta=vs(0,1e3/60,h-hn.timestamp),hn.timestamp=h,hn.isProcessing=!0,Zg.update.process(hn),Zg.preRender.process(hn),Zg.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SL),this.sharedNodes.forEach(RL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ba(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),NL(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return $e();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ML))){const{scroll:m}=this.root;m&&(dl(h.x,m.offset.x),dl(h.y,m.offset.y))}return h}removeElementScroll(u){const h=$e();if(Di(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Di(h,u),dl(h.x,y.offset.x),dl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=$e();Di(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ml(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ba(y.latestValues)&&ml(d,y.latestValues)}return Ba(this.latestValues)&&ml(d,this.latestValues),d}removeTransform(u){const h=$e();Di(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ba(m.latestValues))continue;e_(m.latestValues)&&m.updateSnapshot();const y=$e(),_=m.measurePageBox();Di(y,_),xA(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ba(this.latestValues)&&xA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=hn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Di(this.target,this.layout.layoutBox),XR(this.target,this.targetDelta)):Di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||e_(this.parent.latestValues)||WR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Cd(this.relativeTargetOrigin,h,d),Di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Di(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;D4(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$e());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wA(this.prevProjectionDelta.x,this.projectionDelta.x),wA(this.prevProjectionDelta.y,this.projectionDelta.y)),vc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!OA(this.projectionDelta.x,this.prevProjectionDelta.x)||!OA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},_=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=$e(),A=d?d.source:void 0,R=this.layout?this.layout.source:void 0,D=A!==R,N=this.getStack(),F=!N||N.members.length<=1,j=!!(D&&!F&&this.options.crossfade===!0&&!this.path.some(xL));this.animationProgress=0;let H;this.mixTargetDelta=tt=>{const rt=tt/1e3;FA(_.x,u.x,rt),FA(_.y,u.y,rt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cd(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IL(this.relativeTarget,this.relativeTargetOrigin,E,rt),H&&rL(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=$e()),Di(H,this.relativeTarget)),D&&(this.animationValues=y,lL(y,m,this.latestValues,rt,j,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{hd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=hL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&pI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||$e();const _=Rn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const E=Rn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Di(h,d),ml(h,y),vc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new pL),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&oy("z",u,m,this.animationValues);for(let y=0;y<ay.length;y++)oy(`rotate${ay[y]}`,u,m,this.animationValues),oy(`skew${ay[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=cd(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=cd(h?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=aL(this.projectionDeltaWithTransform,this.treeScale,y);d&&(_=d(y,_)),u.transform=_;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in i_){if(y[R]===void 0)continue;const{correct:D,applyTo:N,isCSSVariable:F}=i_[R],j=_==="none"?y[R]:D(y[R],m);if(N){const H=N.length;for(let tt=0;tt<H;tt++)u[N[tt]]=j}else F?this.options.visualElement.renderState.vars[R]=j:u[R]=j}this.options.layoutId&&(u.pointerEvents=m===this?cd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(UA),this.root.sharedNodes.clear()}}}function _L(e){e.updateLayout()}function vL(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?di(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],E=Rn(_);_.min=n[y].min,_.max=_.min+E}):pI(a,t.layoutBox,n)&&di(y=>{const _=o?t.measuredBox[y]:t.layoutBox[y],E=Rn(n[y]);_.max=_.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+E)});const u=fl();vc(u,n,t.layoutBox);const h=fl();o?vc(h,e.applyTransform(i,!0),t.measuredBox):vc(h,n,t.layoutBox);const d=!uI(u);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const A=$e();Cd(A,t.layoutBox,_.layoutBox);const R=$e();Cd(R,n,E.layoutBox),cI(A,R)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=A,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function EL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SL(e){e.clearSnapshot()}function UA(e){e.clearMeasurements()}function BA(e){e.isLayoutDirty=!1}function wL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AL(e){e.resolveTargetDelta()}function bL(e){e.calcProjection()}function CL(e){e.resetSkewAndRotation()}function RL(e){e.removeLeadSnapshot()}function FA(e,t,n){e.translate=_e(t.translate,0,n),e.scale=_e(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jA(e,t,n,i){e.min=_e(t.min,n.min,i),e.max=_e(t.max,n.max,i)}function IL(e,t,n,i){jA(e.x,t.x,n.x,i),jA(e.y,t.y,n.y,i)}function xL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DL={duration:.45,ease:[.4,0,.1,1]},qA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),HA=qA("applewebkit/")&&!qA("chrome/")?Math.round:gi;function GA(e){e.min=HA(e.min),e.max=HA(e.max)}function NL(e){GA(e.x),GA(e.y)}function pI(e,t,n){return e==="position"||e==="preserve-aspect"&&!tL(VA(t),VA(n),.2)}function ML(e){return e!==e.root&&e.scroll?.wasRoot}const VL=mI({attachResizeListener:(e,t)=>kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ly={current:void 0},gI=mI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ly.current){const e=new VL({});e.mount(window),e.setOptions({layoutScroll:!0}),ly.current=e}return ly.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bv=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function YA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OL(...e){return t=>{let n=!1;const i=e.map(a=>{const o=YA(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():YA(e[a],null)}}}}function PL(...e){return P.useCallback(OL(...e),e)}class kL extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=BR(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LL({children:e,isPresent:t,anchorX:n,root:i}){const a=P.useId(),o=P.useRef(null),u=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=P.useContext(bv),d=e.props?.ref??e?.ref,m=PL(o,d);return P.useInsertionEffect(()=>{const{width:y,height:_,top:E,left:A,right:R}=u.current;if(t||!o.current||!y||!_)return;const D=n==="left"?`left: ${A}`:`right: ${R}`;o.current.dataset.motionPopId=a;const N=document.createElement("style");h&&(N.nonce=h);const F=i??document.head;return F.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${_}px !important;
            ${D}px !important;
            top: ${E}px !important;
          }
        `),()=>{F.contains(N)&&F.removeChild(N)}},[t]),$.jsx(kL,{isPresent:t,childRef:o,sizeRef:u,children:P.cloneElement(e,{ref:m})})}const UL=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const m=X_(BL),y=P.useId();let _=!0,E=P.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:A=>{m.set(A,!0);for(const R of m.values())if(!R)return;i&&i()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,i]);return o&&_&&(E={...E}),P.useMemo(()=>{m.forEach((A,R)=>m.set(R,!1))},[n]),P.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(e=$.jsx(LL,{isPresent:n,anchorX:h,root:d,children:e})),$.jsx(rm.Provider,{value:E,children:e})};function BL(){return new Map}function yI(e=!0){const t=P.useContext(rm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,o=P.useId();P.useEffect(()=>{if(e)return a(o)},[e]);const u=P.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const Wf=e=>e.key||"";function KA(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const Cv=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,y]=yI(u),_=P.useMemo(()=>KA(e),[e]),E=u&&!m?[]:_.map(Wf),A=P.useRef(!0),R=P.useRef(_),D=X_(()=>new Map),N=P.useRef(new Set),[F,j]=P.useState(_),[H,tt]=P.useState(_);$C(()=>{A.current=!1,R.current=_;for(let I=0;I<H.length;I++){const C=Wf(H[I]);E.includes(C)?(D.delete(C),N.current.delete(C)):D.get(C)!==!0&&D.set(C,!1)}},[H,E.length,E.join("-")]);const rt=[];if(_!==F){let I=[..._];for(let C=0;C<H.length;C++){const x=H[C],k=Wf(x);E.includes(k)||(I.splice(C,0,x),rt.push(x))}return o==="wait"&&rt.length&&(I=rt),tt(KA(I)),j(_),null}const{forceRender:ut}=P.useContext(W_);return $.jsx($.Fragment,{children:H.map(I=>{const C=Wf(I),x=u&&!m?!1:_===H||E.includes(C),k=()=>{if(N.current.has(C))return;if(N.current.add(C),D.has(C))D.set(C,!0);else return;let O=!0;D.forEach(z=>{z||(O=!1)}),O&&(ut?.(),tt(R.current),u&&y?.(),i&&i())};return $.jsx(UL,{isPresent:x,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:x?void 0:k,anchorX:h,children:I},C)})})},_I=P.createContext({strict:!1}),$A={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let QA=!1;function zL(){if(QA)return;const e={};for(const t in $A)e[t]={isEnabled:n=>$A[t].some(i=>!!n[i])};KR(e),QA=!0}function vI(){return zL(),C4()}function FL(e){const t=vI();for(const n in e)t[n]={...t[n],...e[n]};KR(t)}const jL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jL.has(e)}let EI=e=>!Rd(e);function qL(e){typeof e=="function"&&(EI=t=>t.startsWith("on")?!Rd(t):e(t))}try{qL(require("@emotion/is-prop-valid").default)}catch{}function HL(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(EI(a)||n===!0&&Rd(a)||!t&&!Rd(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const lm=P.createContext({});function GL(e,t){if(om(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(i)?i:void 0}}return e.inherit!==!1?t:{}}function YL(e){const{initial:t,animate:n}=GL(e,P.useContext(lm));return P.useMemo(()=>({initial:t,animate:n}),[WA(t),WA(n)])}function WA(e){return Array.isArray(e)?e.join(" "):e}const Rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TI(e,t,n){for(const i in t)!Sn(t[i])&&!tI(i,n)&&(e[i]=t[i])}function KL({transformTemplate:e},t){return P.useMemo(()=>{const n=Rv();return wv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $L(e,t){const n=e.style||{},i={};return TI(i,n,e),Object.assign(i,KL(e,t)),i}function QL(e,t){const n={},i=$L(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const SI=()=>({...Rv(),attrs:{}});function WL(e,t,n,i){const a=P.useMemo(()=>{const o=SI();return eI(o,t,iI(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};TI(o,e.style,e),a.style={...o,...a.style}}return a}const XL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iv(e){return typeof e!="string"||e.includes("-")?!1:!!(XL.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZL(e,t,n,{latestValues:i},a,o=!1,u){const d=(u??Iv(e)?WL:QL)(t,i,a,e),m=HL(t,typeof e=="string",o),y=e!==P.Fragment?{...m,...d,ref:n}:{},{children:_}=t,E=P.useMemo(()=>Sn(_)?_.get():_,[_]);return P.createElement(e,{...y,children:E})}function JL({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:t3(n,i,a,e),renderState:t()}}function t3(e,t,n,i){const a={},o=i(e,{});for(const E in o)a[E]=cd(o[E]);let{initial:u,animate:h}=e;const d=om(e),m=YR(e);t&&m&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!am(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const R=gv(e,E[A]);if(R){const{transitionEnd:D,transition:N,...F}=R;for(const j in F){let H=F[j];if(Array.isArray(H)){const tt=y?H.length-1:0;H=H[tt]}H!==null&&(a[j]=H)}for(const j in D)a[j]=D[j]}}}return a}const wI=e=>(t,n)=>{const i=P.useContext(lm),a=P.useContext(rm),o=()=>JL(e,t,i,a);return n?o():X_(o)},e3=wI({scrapeMotionValuesFromProps:Av,createRenderState:Rv}),n3=wI({scrapeMotionValuesFromProps:sI,createRenderState:SI}),i3=Symbol.for("motionComponentSymbol");function s3(e,t,n){const i=P.useRef(n);P.useInsertionEffect(()=>{i.current=n});const a=P.useRef(null);return P.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const u=i.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[t])}const AI=P.createContext({});function hc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function r3(e,t,n,i,a,o){const{visualElement:u}=P.useContext(lm),h=P.useContext(_I),d=P.useContext(rm),m=P.useContext(bv).reducedMotion,y=P.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m,isSVG:o}));const _=y.current,E=P.useContext(AI);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&a3(y.current,n,a,E);const A=P.useRef(!1);P.useInsertionEffect(()=>{_&&A.current&&_.update(n,d)});const R=n[NR],D=P.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return $C(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),D.current&&_.animationState&&_.animationState.animateChanges())}),P.useEffect(()=>{_&&(!D.current&&_.animationState&&_.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),D.current=!1),_.enteringChildren=void 0)}),_}function a3(e,t,n,i){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bI(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&hc(h),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function bI(e){if(e)return e.options.allowProjection!==!1?e.projection:bI(e.parent)}function uy(e,{forwardMotionProps:t=!1,type:n}={},i,a){i&&FL(i);const o=n?n==="svg":Iv(e),u=o?n3:e3;function h(m,y){let _;const E={...P.useContext(bv),...m,layoutId:o3(m)},{isStatic:A}=E,R=YL(m),D=u(m,A);if(!A&&KC){l3();const N=u3(E);_=N.MeasureLayout,R.visualElement=r3(e,D,E,a,N.ProjectionNode,o)}return $.jsxs(lm.Provider,{value:R,children:[_&&R.visualElement?$.jsx(_,{visualElement:R.visualElement,...E}):null,ZL(e,m,s3(D,R.visualElement,y),D,A,t,o)]})}h.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=P.forwardRef(h);return d[i3]=e,d}function o3({layoutId:e}){const t=P.useContext(W_).id;return t&&e!==void 0?t+"-"+e:e}function l3(e,t){P.useContext(_I).strict}function u3(e){const t=vI(),{drag:n,layout:i}=t;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function c3(e,t){if(typeof Proxy>"u")return uy;const n=new Map,i=(o,u)=>uy(o,u,e,t),a=(o,u)=>i(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,uy(u,void 0,e,t)),n.get(u))})}const h3=(e,t)=>t.isSVG??Iv(e)?new q4(t):new L4(t,{allowProjection:e!==P.Fragment});class f3 extends ea{constructor(t){super(t),t.animationState||(t.animationState=$4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();am(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let d3=0;class m3 extends ea{constructor(){super(...arguments),this.id=d3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p3={animation:{Feature:f3},exit:{Feature:m3}};function rh(e){return{point:{x:e.pageX,y:e.pageY}}}const g3=e=>t=>Ev(t)&&e(t,rh(t));function Ec(e,t,n,i){return kc(e,t,g3(n),i)}const CI=({current:e})=>e?e.ownerDocument.defaultView:null,XA=(e,t)=>Math.abs(e-t);function y3(e,t){const n=XA(e.x,t.x),i=XA(e.y,t.y);return Math.sqrt(n**2+i**2)}const ZA=new Set(["auto","scroll"]);class RI{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hy(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,D=y3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!D)return;const{point:N}=A,{timestamp:F}=hn;this.history.push({...N,timestamp:F});const{onStart:j,onMove:H}=this.handlers;R||(j&&j(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,A)},this.handlePointerMove=(A,R)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=cy(R,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(A,R)=>{this.end();const{onEnd:D,onSessionEnd:N,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=hy(A.type==="pointercancel"?this.lastMoveEventInfo:cy(R,this.transformPagePoint),this.history);this.startEvent&&D&&D(A,j),N&&N(A,j)},!Ev(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const d=rh(t),m=cy(d,this.transformPagePoint),{point:y}=m,{timestamp:_}=hn;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,hy(m,this.history)),this.removeListeners=nh(Ec(this.contextWindow,"pointermove",this.handlePointerMove),Ec(this.contextWindow,"pointerup",this.handlePointerUp),Ec(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(ZA.has(i.overflowX)||ZA.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:a.x-n.x,y:a.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,a),me.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hr(this.updatePoint)}}function cy(e,t){return t?{point:t(e.point)}:e}function JA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hy({point:e},t){return{point:e,delta:JA(e,II(t)),offset:JA(e,_3(t)),velocity:v3(t,.1)}}function _3(e){return e[0]}function II(e){return e[e.length-1]}function v3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=II(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>Ys(t)));)n--;if(!i)return{x:0,y:0};const o=pi(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function E3(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?_e(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?_e(n,e,i.max):Math.min(e,n)),e}function tb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function T3(e,{top:t,left:n,bottom:i,right:a}){return{x:tb(e.x,n,a),y:tb(e.y,t,i)}}function eb(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function S3(e,t){return{x:eb(e.x,t.x),y:eb(e.y,t.y)}}function w3(e,t){let n=.5;const i=Rn(e),a=Rn(t);return a>i?n=Mc(t.min,t.max-i,e.min):i>a&&(n=Mc(e.min,e.max-a,t.min)),vs(0,1,n)}function A3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const s_=.35;function b3(e=s_){return e===!1?e=0:e===!0&&(e=s_),{x:nb(e,"left","right"),y:nb(e,"top","bottom")}}function nb(e,t,n){return{min:ib(e,t),max:ib(e,n)}}function ib(e,t){return typeof e=="number"?e:e[t]||0}const C3=new WeakMap;class R3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=_=>{n?(this.stopAnimation(),this.snapToCursor(rh(_).point)):this.pauseAnimation()},u=(_,E)=>{this.stopAnimation();const{drag:A,dragPropagation:R,onDragStart:D}=this.getProps();if(A&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m4(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(F=>{let j=this.getAxisMotionValue(F).get()||0;if(ms.test(j)){const{projection:H}=this.visualElement;if(H&&H.layout){const tt=H.layout.layoutBox[F];tt&&(j=Rn(tt)*(parseFloat(j)/100))}}this.originPoint[F]=j}),D&&me.postRender(()=>D(_,E)),Xy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:R,onDirectionLock:D,onDrag:N}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:F}=E;if(R&&this.currentDirection===null){this.currentDirection=I3(F),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",E.point,F),this.updateAxis("y",E.point,F),this.visualElement.render(),N&&N(_,E)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>di(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new RI(t,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:CI(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&me.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Xf(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=E3(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&hc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=T3(i.layoutBox,t):this.constraints=!1,this.elastic=b3(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&di(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=A3(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hc(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=N4(i,a.root,this.visualElement.getTransformPagePoint());let u=S3(a.layout.layoutBox,o);if(n){const h=n(I4(u));this.hasMutatedConstraints=!!h,h&&(u=QR(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=di(y=>{if(!Xf(y,n,this.currentDirection))return;let _=d&&d[y]||{};u&&(_={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,R={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(y,R)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Xy(this.visualElement,t),i.start(pv(t,i,0,n,this.visualElement,!1))}stopAnimation(){di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){di(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){di(n=>{const{drag:i}=this.getProps();if(!Xf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],d=o.get()||0;o.set(t[n]-_e(u,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!hc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};di(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=w3({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),di(u=>{if(!Xf(u,t,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(_e(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;C3.set(this.visualElement,this);const t=this.visualElement.current,n=Ec(t,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&!qR(d.target)&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();hc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),me.read(i);const u=kc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(di(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=s_,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Xf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function I3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class x3 extends ea{constructor(t){super(t),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new R3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const sb=e=>(t,n)=>{e&&me.postRender(()=>e(t,n))};class D3 extends ea{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(t){this.session=new RI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:sb(t),onStart:sb(n),onMove:i,onEnd:(o,u)=>{delete this.session,a&&me.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Ec(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fy=!1;class N3 extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&a&&i.register(o),fy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,fy=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||me.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;fy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xI(e){const[t,n]=yI(),i=P.useContext(W_);return $.jsx(N3,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(AI),isPresent:t,safeToRemove:n})}const M3={pan:{Feature:D3},drag:{Feature:x3,ProjectionNode:gI,MeasureLayout:xI}};function rb(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=i[a];o&&me.postRender(()=>o(t,rh(t)))}class V3 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=p4(t,(n,i)=>(rb(this.node,i,"Start"),a=>rb(this.node,a,"End"))))}unmount(){}}class O3 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(kc(this.node.current,"focus",()=>this.onFocus()),kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ab(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=i[a];o&&me.postRender(()=>o(t,rh(t)))}class P3 extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=_4(t,(n,i)=>(ab(this.node,i,"Start"),(a,{success:o})=>ab(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r_=new WeakMap,dy=new WeakMap,k3=e=>{const t=r_.get(e.target);t&&t(e)},L3=e=>{e.forEach(k3)};function U3({root:e,...t}){const n=e||document;dy.has(n)||dy.set(n,{});const i=dy.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(L3,{root:e,...t})),i[a]}function B3(e,t,n){const i=U3(t);return r_.set(e,n),i.observe(e),()=>{r_.delete(e),i.unobserve(e)}}const z3={some:0,all:1};class F3 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:z3[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=m?y:_;E&&E(d)};return B3(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(j3(t,n))&&this.startObserver()}unmount(){}}function j3({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const q3={inView:{Feature:F3},tap:{Feature:P3},focus:{Feature:O3},hover:{Feature:V3}},H3={layout:{ProjectionNode:gI,MeasureLayout:xI}},G3={...p3,...q3,...M3,...H3},Id=c3(G3,h3),Y3=()=>{};var ob={};const DI={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const ot=function(e,t){if(!e)throw ql(t)},ql=function(e){return new Error("Firebase Database ("+DI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const NI=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},K3=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=e[n++],u=e[n++],h=e[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=e[n++],u=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const o=e[a],u=a+1<e.length,h=u?e[a+1]:0,d=a+2<e.length,m=d?e[a+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let E=(h&15)<<2|m>>6,A=m&63;d||(A=64,u||(E=64)),i.push(n[y],n[_],n[E],n[A])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):K3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const o=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const m=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,o==null||h==null||m==null||_==null)throw new $3;const E=o<<2|h>>4;if(i.push(E),m!==64){const A=h<<4&240|m>>2;if(i.push(A),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(e){const t=NI(e);return xv.encodeByteArray(t,!0)},xd=function(e){return MI(e).replace(/\./g,"")},a_=function(e){try{return xv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Q3(e){return VI(void 0,e)}function VI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!W3(n)||(e[n]=VI(e[n],t[n]));return e}function W3(e){return e!=="__proto__"}function X3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Z3=()=>X3().__FIREBASE_DEFAULTS__,J3=()=>{if(typeof process>"u"||typeof ob>"u")return;const e=ob.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},t6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&a_(e[1]);return t&&JSON.parse(t)},Dv=()=>{try{return Y3()||Z3()||J3()||t6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},e6=e=>Dv()?.emulatorHosts?.[e],Nv=e=>{const t=e6(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},OI=()=>Dv()?.config;class um{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}function Hl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(e){return(await fetch(e,{credentials:"include"})).ok}function Vv(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[xd(JSON.stringify(n)),xd(JSON.stringify(u)),""].join(".")}const Tc={};function n6(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tc))Tc[t]?e.emulator.push(t):e.prod.push(t);return e}function i6(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let lb=!1;function Ov(e,t){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||Tc[e]===t||Tc[e]||lb)return;Tc[e]=t;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=n6().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{lb=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=i6(i),A=n("text"),R=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),N=document.getElementById(D)||document.createElement("a"),F=n("preprendIcon"),j=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;h(H),y(N,D);const tt=m();d(j,F),H.append(j,R,N,tt),document.body.appendChild(H)}o?(R.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function PI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(PI())}function s6(){const e=Dv()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r6(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function a6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o6(){return DI.NODE_ADMIN===!0}function l6(){return!s6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function UI(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}function u6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const c6="FirebaseError";class tr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=c6,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cm.prototype.create)}}class cm{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?h6(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new tr(a,h,i)}}function h6(e,t){return e.replace(f6,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const f6=/\{\$([^}]+)}/g;function Lc(e){return JSON.parse(e)}function sn(e){return JSON.stringify(e)}const BI=function(e){let t={},n={},i={},a="";try{const o=e.split(".");t=Lc(a_(o[0])||""),n=Lc(a_(o[1])||""),a=o[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:a}},d6=function(e){const t=BI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},m6=function(e){const t=BI(e).claims;return typeof t=="object"&&t.admin===!0};function ji(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ub(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dd(e,t,n){const i={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=t.call(n,e[a],a,e));return i}function Yr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const o=e[a],u=t[a];if(cb(o)&&cb(u)){if(!Yr(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function cb(e){return e!==null&&typeof e=="object"}function p6(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class g6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)i[_]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let _=16;_<80;_++){const E=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(E<<1|E>>>31)&4294967295}let a=this.chain_[0],o=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],m,y;for(let _=0;_<80;_++){_<40?_<20?(m=h^o&(u^h),y=1518500249):(m=o^u^h,y=1859775393):_<60?(m=o&u|h&(o|u),y=2400959708):(m=o^u^h,y=3395469782);const E=(a<<5|a>>>27)+m+d+y+i[_]&4294967295;d=h,h=u,u=(o<<30|o>>>2)&4294967295,o=a,a=E}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let a=0;const o=this.buf_;let u=this.inbuf_;for(;a<n;){if(u===0)for(;a<=i;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<n;)if(o[u]=t.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(o),u=0;break}}else for(;a<n;)if(o[u]=t[a],++u,++a,u===this.blockSize){this.compress_(o),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[a]>>o&255,++i;return t}}function zI(e,t){return`${e} failed: ${t} argument `}const y6=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);if(a>=55296&&a<=56319){const o=a-55296;i++,ot(i<e.length,"Surrogate pair missing trail surrogate.");const u=e.charCodeAt(i)-56320;a=65536+(o<<10)+u}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},hm=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};const _6=1e3,v6=2,E6=14400*1e3,T6=.5;function hb(e,t=_6,n=v6){const i=t*Math.pow(n,e),a=Math.round(T6*i*(Math.random()-.5)*2);return Math.min(E6,i+a)}function Xe(e){return e&&e._delegate?e._delegate:e}class zi{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const za="[DEFAULT]";class S6{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new um;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A6(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w6(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w6(e){return e===za?void 0:e}function A6(e){return e.instantiationMode==="EAGER"}class b6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new S6(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var qt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(qt||(qt={}));const C6={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},R6=qt.INFO,I6={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},x6=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=I6[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=R6,this._logHandler=x6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?C6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const D6=(e,t)=>t.some(n=>e instanceof n);let fb,db;function N6(){return fb||(fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M6(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,o_=new WeakMap,jI=new WeakMap,my=new WeakMap,Pv=new WeakMap;function V6(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",u)},o=()=>{n(Ur(e.result)),a()},u=()=>{i(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&FI.set(n,e)}).catch(()=>{}),Pv.set(t,e),t}function O6(e){if(o_.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",u),e.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",u),e.addEventListener("abort",u)});o_.set(e,t)}let l_={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return o_.get(e);if(t==="objectStoreNames")return e.objectStoreNames||jI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function P6(e){l_=e(l_)}function k6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(py(this),t,...n);return jI.set(i,t.sort?t.sort():[t]),Ur(i)}:M6().includes(e)?function(...t){return e.apply(py(this),t),Ur(FI.get(this))}:function(...t){return Ur(e.apply(py(this),t))}}function L6(e){return typeof e=="function"?k6(e):(e instanceof IDBTransaction&&O6(e),D6(e,N6())?new Proxy(e,l_):e)}function Ur(e){if(e instanceof IDBRequest)return V6(e);if(my.has(e))return my.get(e);const t=L6(e);return t!==e&&(my.set(e,t),Pv.set(t,e)),t}const py=e=>Pv.get(e);function qI(e,t,{blocked:n,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(e,t),h=Ur(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ur(u.result),d.oldVersion,d.newVersion,Ur(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const U6=["get","getKey","getAll","getAllKeys","count"],B6=["put","add","delete","clear"],gy=new Map;function mb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gy.get(t))return gy.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=B6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||U6.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return gy.set(t,o),o}P6(e=>({...e,get:(t,n,i)=>mb(t,n)||e.get(t,n,i),has:(t,n)=>!!mb(t,n)||e.has(t,n)}));class z6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function F6(e){return e.getComponent()?.type==="VERSION"}const u_="@firebase/app",pb="0.14.7";const Ws=new fm("@firebase/app"),j6="@firebase/app-compat",q6="@firebase/analytics-compat",H6="@firebase/analytics",G6="@firebase/app-check-compat",Y6="@firebase/app-check",K6="@firebase/auth",$6="@firebase/auth-compat",Q6="@firebase/database",W6="@firebase/data-connect",X6="@firebase/database-compat",Z6="@firebase/functions",J6="@firebase/functions-compat",t9="@firebase/installations",e9="@firebase/installations-compat",n9="@firebase/messaging",i9="@firebase/messaging-compat",s9="@firebase/performance",r9="@firebase/performance-compat",a9="@firebase/remote-config",o9="@firebase/remote-config-compat",l9="@firebase/storage",u9="@firebase/storage-compat",c9="@firebase/firestore",h9="@firebase/ai",f9="@firebase/firestore-compat",d9="firebase",m9="12.8.0";const c_="[DEFAULT]",p9={[u_]:"fire-core",[j6]:"fire-core-compat",[H6]:"fire-analytics",[q6]:"fire-analytics-compat",[Y6]:"fire-app-check",[G6]:"fire-app-check-compat",[K6]:"fire-auth",[$6]:"fire-auth-compat",[Q6]:"fire-rtdb",[W6]:"fire-data-connect",[X6]:"fire-rtdb-compat",[Z6]:"fire-fn",[J6]:"fire-fn-compat",[t9]:"fire-iid",[e9]:"fire-iid-compat",[n9]:"fire-fcm",[i9]:"fire-fcm-compat",[s9]:"fire-perf",[r9]:"fire-perf-compat",[a9]:"fire-rc",[o9]:"fire-rc-compat",[l9]:"fire-gcs",[u9]:"fire-gcs-compat",[c9]:"fire-fst",[f9]:"fire-fst-compat",[h9]:"fire-vertex","fire-js":"fire-js",[d9]:"fire-js-all"};const Nd=new Map,g9=new Map,h_=new Map;function gb(e,t){try{e.container.addComponent(t)}catch(n){Ws.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Es(e){const t=e.name;if(h_.has(t))return Ws.debug(`There were multiple attempts to register component ${t}.`),!1;h_.set(t,e);for(const n of Nd.values())gb(n,e);for(const n of g9.values())gb(n,e);return!0}function ao(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kv(e){return e==null?!1:e.settings!==void 0}const y9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new cm("app","Firebase",y9);class _9{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Lv=m9;function HI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:c_,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Br.create("bad-app-name",{appName:String(a)});if(n||(n=OI()),!n)throw Br.create("no-options");const o=Nd.get(a);if(o){if(Yr(n,o.options)&&Yr(i,o.config))return o;throw Br.create("duplicate-app",{appName:a})}const u=new b6(a);for(const d of h_.values())u.addComponent(d);const h=new _9(n,i,u);return Nd.set(a,h),h}function dm(e=c_){const t=Nd.get(e);if(!t&&e===c_&&OI())return HI();if(!t)throw Br.create("no-app",{appName:e});return t}function Bn(e,t,n){let i=p9[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ws.warn(u.join(" "));return}Es(new zi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const v9="firebase-heartbeat-database",E9=1,Uc="firebase-heartbeat-store";let yy=null;function GI(){return yy||(yy=qI(v9,E9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),yy}async function T9(e){try{const n=(await GI()).transaction(Uc),i=await n.objectStore(Uc).get(YI(e));return await n.done,i}catch(t){if(t instanceof tr)Ws.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t?.message});Ws.warn(n.message)}}}async function yb(e,t){try{const i=(await GI()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,YI(e)),await i.done}catch(n){if(n instanceof tr)Ws.warn(n.message);else{const i=Br.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(i.message)}}}function YI(e){return`${e.name}!${e.options.appId}`}const S9=1024,w9=30;class A9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C9(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_b();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>w9){const a=R9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ws.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_b(),{heartbeatsToSend:n,unsentEntries:i}=b9(this._heartbeatsCache.heartbeats),a=xd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ws.warn(t),""}}}function _b(){return new Date().toISOString().substring(0,10)}function b9(e,t=S9){const n=[];let i=e.slice();for(const a of e){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),vb(n)>t){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),vb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class C9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?UI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return yb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return yb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function vb(e){return xd(JSON.stringify({version:2,heartbeats:e})).length}function R9(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}function I9(e){Es(new zi("platform-logger",t=>new z6(t),"PRIVATE")),Es(new zi("heartbeat",t=>new A9(t),"PRIVATE")),Bn(u_,pb,e),Bn(u_,pb,"esm2020"),Bn("fire-js","")}I9("");var Eb={};const Tb="@firebase/database",Sb="1.1.0";let KI="";function x9(e){KI=e}class D9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),sn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Lc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class N9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ji(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const $I=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new D9(t)}}catch{}return new N9},Ha=$I("localStorage"),M9=$I("sessionStorage");const _l=new fm("@firebase/database"),QI=(function(){let e=1;return function(){return e++}})(),WI=function(e){const t=y6(e),n=new g6;n.update(t);const i=n.digest();return xv.encodeByteArray(i)},ah=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ah.apply(null,i):typeof i=="object"?t+=sn(i):t+=i,t+=" "}return t};let Sc=null,wb=!0;const V9=function(e,t){ot(!0,"Can't turn on custom loggers persistently."),_l.logLevel=qt.VERBOSE,Sc=_l.log.bind(_l)},En=function(...e){if(wb===!0&&(wb=!1,Sc===null&&M9.get("logging_enabled")===!0&&V9()),Sc){const t=ah.apply(null,e);Sc(t)}},oh=function(e){return function(...t){En(e,...t)}},f_=function(...e){const t="FIREBASE INTERNAL ERROR: "+ah(...e);_l.error(t)},Xs=function(...e){const t=`FIREBASE FATAL ERROR: ${ah(...e)}`;throw _l.error(t),new Error(t)},Zn=function(...e){const t="FIREBASE WARNING: "+ah(...e);_l.warn(t)},O9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Uv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},P9=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cl="[MIN_NAME]",Wa="[MAX_NAME]",Gl=function(e,t){if(e===t)return 0;if(e===Cl||t===Wa)return-1;if(t===Cl||e===Wa)return 1;{const n=Ab(e),i=Ab(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},k9=function(e,t){return e===t?0:e<t?-1:1},rc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+sn(t))},Bv=function(e){if(typeof e!="object"||e===null)return sn(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=sn(t[i]),n+=":",n+=Bv(e[t[i]]);return n+="}",n},XI=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let a=0;a<n;a+=t)a+t>n?i.push(e.substring(a,n)):i.push(e.substring(a,a+t));return i};function zn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ZI=function(e){ot(!Uv(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let a,o,u,h,d;e===0?(o=0,u=0,a=1/e===-1/0?1:0):(a=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=h+i,u=Math.round(e*Math.pow(2,n-h)-Math.pow(2,n))):(o=0,u=Math.round(e/Math.pow(2,1-i-n))));const m=[];for(d=n;d;d-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(a?1:0),m.reverse();const y=m.join("");let _="";for(d=0;d<64;d+=8){let E=parseInt(y.substr(d,8),2).toString(16);E.length===1&&(E="0"+E),_=_+E}return _.toLowerCase()},L9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},U9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function B9(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}const z9=new RegExp("^-?(0*)\\d{1,10}$"),F9=-2147483648,j9=2147483647,Ab=function(e){if(z9.test(e)){const t=Number(e);if(t>=F9&&t<=j9)return t}return null},lh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Zn("Exception was thrown by user callback.",n),t},Math.floor(0))}},q9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wc=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class H9{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,kv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class G9{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(En("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zn(t)}}class fd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}fd.OWNER="owner";const zv="5",JI="v",tx="s",ex="r",nx="f",ix=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sx="ls",rx="p",d_="ac",ax="websocket",ox="long_polling";class lx{constructor(t,n,i,a,o=!1,u="",h=!1,d=!1,m=null){this.secure=n,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Y9(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ux(e,t,n){ot(typeof t=="string","typeof type must == string"),ot(typeof n=="object","typeof params must == object");let i;if(t===ax)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ox)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Y9(e)&&(n.ns=e.namespace);const a=[];return zn(n,(o,u)=>{a.push(o+"="+u)}),i+a.join("&")}class K9{constructor(){this.counters_={}}incrementCounter(t,n=1){ji(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Q3(this.counters_)}}const _y={},vy={};function Fv(e){const t=e.toString();return _y[t]||(_y[t]=new K9),_y[t]}function $9(e,t){const n=e.toString();return vy[n]||(vy[n]=t()),vy[n]}class Q9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&lh(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const bb="start",W9="close",X9="pLPCommand",Z9="pRTLPCB",cx="id",hx="pw",fx="ser",J9="cb",tU="seg",eU="ts",nU="d",iU="dframe",dx=1870,mx=30,sU=dx-mx,rU=25e3,aU=3e4;class pl{constructor(t,n,i,a,o,u,h){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oh(t),this.stats_=Fv(n),this.urlFn=d=>(this.appCheckToken&&(d[d_]=this.appCheckToken),ux(n,ox,d))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Q9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aU)),P9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jv((...o)=>{const[u,h,d,m,y]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===bb)this.id=h,this.password=d;else if(u===W9)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={};i[bb]="t",i[fx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[J9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[JI]=zv,this.transportSessionId&&(i[tx]=this.transportSessionId),this.lastSessionId&&(i[sx]=this.lastSessionId),this.applicationId&&(i[rx]=this.applicationId),this.appCheckToken&&(i[d_]=this.appCheckToken),typeof location<"u"&&location.hostname&&ix.test(location.hostname)&&(i[ex]=nx);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pl.forceAllow_=!0}static forceDisallow(){pl.forceDisallow_=!0}static isAvailable(){return pl.forceAllow_?!0:!pl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!L9()&&!U9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=sn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=MI(n),a=XI(i,sU);for(let o=0;o<a.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[iU]="t",i[cx]=t,i[hx]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=sn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jv{constructor(t,n,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QI(),window[X9+this.uniqueCallbackIdentifier]=t,window[Z9+this.uniqueCallbackIdentifier]=n,this.myIFrame=jv.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){En("frame writing exception"),h.stack&&En(h.stack),En(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||En("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[cx]=this.myID,t[hx]=this.myPW,t[fx]=this.currentSerial;let n=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mx+i.length<=dx;){const u=this.pendingSegs.shift();i=i+"&"+tU+a+"="+u.seg+"&"+eU+a+"="+u.ts+"&"+nU+a+"="+u.d,a++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(i,Math.floor(rU)),o=()=>{clearTimeout(a),i()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{En("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const oU=16384,lU=45e3;let Md=null;typeof MozWebSocket<"u"?Md=MozWebSocket:typeof WebSocket<"u"&&(Md=WebSocket);class Mi{constructor(t,n,i,a,o,u,h){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oh(this.connId),this.stats_=Fv(n),this.connURL=Mi.connectionURL_(n,u,h,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,a,o){const u={};return u[JI]=zv,typeof location<"u"&&location.hostname&&ix.test(location.hostname)&&(u[ex]=nx),n&&(u[tx]=n),i&&(u[sx]=i),a&&(u[d_]=a),o&&(u[rx]=o),ux(t,ax,u)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{let i;o6(),this.mySock=new Md(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Mi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Md!==null&&!Mi.forceDisallow_}static previouslyFailed(){return Ha.isInMemoryStorage||Ha.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ha.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Lc(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ot(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=sn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=XI(n,oU);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lU))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mi.responsesRequiredToBeHealthy=2;Mi.healthyTimeout=3e4;class Bc{static get ALL_TRANSPORTS(){return[pl,Mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Mi&&Mi.isAvailable();let i=n&&!Mi.previouslyFailed();if(t.webSocketOnly&&(n||Zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Mi];else{const a=this.transports_=[];for(const o of Bc.ALL_TRANSPORTS)o&&o.isAvailable()&&a.push(o);Bc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bc.globalTransportInitialized_=!1;const uU=6e4,cU=5e3,hU=10*1024,fU=100*1024,Ey="t",Cb="d",dU="s",Rb="r",mU="e",Ib="o",xb="a",Db="n",Nb="p",pU="h";class gU{constructor(t,n,i,a,o,u,h,d,m,y){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oh("c:"+this.id+":"),this.transportManager_=new Bc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=wc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ey in t){const n=t[Ey];n===xb?this.upgradeIfSecondaryHealthy_():n===Rb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ib&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=rc("t",t),i=rc("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Nb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Db,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=rc("t",t),i=rc("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=rc(Ey,t);if(Cb in t){const i=t[Cb];if(n===pU){const a={...i};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===Db){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dU?this.onConnectionShutdown_(i):n===Rb?this.onReset_(i):n===mU?f_("Server Error: "+i):n===Ib?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):f_("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zv!==i&&Zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),wc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uU))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Nb,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class px{put(t,n,i,a){}merge(t,n,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}class gx{constructor(t){this.allowedEvents_=t,this.listeners_={},ot(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const a=this.getInitialEvent(t);a&&n.apply(i,a)}off(t,n,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let o=0;o<a.length;o++)if(a[o].callback===n&&(!i||i===a[o].context)){a.splice(o,1);return}}validateEventType_(t){ot(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Vd extends gx{static getInstance(){return new Vd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ot(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Mb=32,Vb=768;class oe{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Wt(){return new oe("")}function Mt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kr(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new oe(e.pieces_,t)}function yx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function yU(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function _x(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function vx(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oe(t,0)}function Qe(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof oe)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&n.push(i[a])}return new oe(n,0)}function kt(e){return e.pieceNum_>=e.pieces_.length}function Un(e,t){const n=Mt(e),i=Mt(t);if(n===null)return t;if(n===i)return Un(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function qv(e,t){if(Kr(e)!==Kr(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Vi(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Kr(e)>Kr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class _U{constructor(t,n){this.errorPrefix_=n,this.parts_=_x(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=hm(this.parts_[i]);Ex(this)}}function vU(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=hm(t),Ex(e)}function EU(e){const t=e.parts_.pop();e.byteLength_-=hm(t),e.parts_.length>0&&(e.byteLength_-=1)}function Ex(e){if(e.byteLength_>Vb)throw new Error(e.errorPrefix_+"has a key path longer than "+Vb+" bytes ("+e.byteLength_+").");if(e.parts_.length>Mb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mb+") or object contains a cycle "+Fa(e))}function Fa(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}class Hv extends gx{static getInstance(){return new Hv}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ot(t==="visible","Unknown event type: "+t),[this.visible_]}}const ac=1e3,TU=300*1e3,Ob=30*1e3,SU=1.3,wU=3e4,AU="server_kill",Pb=3;class Ks extends px{constructor(t,n,i,a,o,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=o,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Ks.nextPersistentConnectionId_++,this.log_=oh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ac,this.maxReconnectDelay_=TU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hv.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Vd.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const a=++this.requestNumber_,o={r:a,a:t,b:n};this.log_(sn(o)),ot(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const n=new um,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,i,a){this.initConnection_();const o=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+o),this.listens.has(u)||this.listens.set(u,new Map),ot(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ot(!this.listens.get(u).has(o),"listen() called twice for same path/queryId.");const h={onComplete:a,hashFn:n,query:t,tag:i};this.listens.get(u).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+i+" for "+a);const o={p:i},u="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(u,o,h=>{const d=h.d,m=h.s;Ks.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(i,a),t.onComplete&&t.onComplete(m,d))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&ji(t,"w")){const i=Qa(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||m6(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ob)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=d6(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,a=>{const o=a.s,u=a.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),ot(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,n)}sendUnlisten_(t,n,i,a){this.log_("Unlisten on "+t+" for "+n);const o={p:t},u="n";a&&(o.q=i,o.t=a),this.sendRequest(u,o)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,a){const o={p:n,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(t,n,i,a){this.putInternal("p",t,n,i,a)}merge(t,n,i,a){this.putInternal("m",t,n,i,a)}putInternal(t,n,i,a,o){this.initConnection_();const u={p:n,d:i};o!==void 0&&(u.h=o),this.outstandingPuts_.push({action:t,request:u,onComplete:a}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+sn(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):f_("Unrecognized action received from server: "+sn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ot(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>wU&&(this.reconnectDelay_=ac),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Ks.nextConnectionId_++,o=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,i())},m=function(_){ot(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,E]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?En("getToken() completed but was canceled"):(En("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=E&&E.token,h=new gU(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,A=>{Zn(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(AU)},o))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Zn(_),d())}}}interrupt(t){En("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){En("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ub(this.interruptReasons_)&&(this.reconnectDelay_=ac,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(o=>Bv(o)).join("$"):i="default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,n){const i=new oe(t).toString();let a;if(this.listens.has(i)){const o=this.listens.get(i);a=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,n){En("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Pb&&(this.reconnectDelay_=Ob,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){En("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Pb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+KI.replace(/\./g,"-")]=1,kI()?t["framework.cordova"]=1:a6()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Vd.getInstance().currentlyOnline();return ub(this.interruptReasons_)&&t}}Ks.nextPersistentConnectionId_=0;Ks.nextConnectionId_=0;class Vt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Vt(t,n)}}class mm{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new Vt(Cl,t),a=new Vt(Cl,n);return this.compare(i,a)!==0}minPost(){return Vt.MIN}}let Zf;class Tx extends mm{static get __EMPTY_NODE(){return Zf}static set __EMPTY_NODE(t){Zf=t}compare(t,n){return Gl(t.name,n.name)}isDefinedOn(t){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(Wa,Zf)}makePost(t,n){return ot(typeof t=="string","KeyIndex indexValue must always be a string."),new Vt(t,Zf)}toString(){return".key"}}const vl=new Tx;let Jf=class{constructor(t,n,i,a,o=null){this.isReverse_=a,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=n?i(t.key,n):1,a&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Wn=class fc{constructor(t,n,i,a,o){this.key=t,this.value=n,this.color=i??fc.RED,this.left=a??ds.EMPTY_NODE,this.right=o??ds.EMPTY_NODE}copy(t,n,i,a,o){return new fc(t??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const o=i(t,a.key);return o<0?a=a.copy(null,null,null,a.left.insert(t,n,i),null):o===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return ds.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,a;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ds.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,fc.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,fc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};Wn.RED=!0;Wn.BLACK=!1;class bU{copy(t,n,i,a,o){return this}insert(t,n,i){return new Wn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ds=class dd{constructor(t,n=dd.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new dd(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Wn.BLACK,null,null))}remove(t){return new dd(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wn.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,a=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Jf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Jf(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Jf(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Jf(this.root_,null,this.comparator_,!0,t)}};ds.EMPTY_NODE=new bU;function CU(e,t){return Gl(e.name,t.name)}function Gv(e,t){return Gl(e,t)}let m_;function RU(e){m_=e}const Sx=function(e){return typeof e=="number"?"number:"+ZI(e):"string:"+e},wx=function(e){if(e.isLeafNode()){const t=e.val();ot(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ji(t,".sv"),"Priority must be a string or number.")}else ot(e===m_||e.isEmpty(),"priority of unexpected type.");ot(e===m_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kb;class en{static set __childrenNodeConstructor(t){kb=t}static get __childrenNodeConstructor(){return kb}constructor(t,n=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ot(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kt(t)?this:Mt(t)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=Mt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(ot(i!==".priority"||Kr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Sx(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=ZI(this.value_):t+=this.value_,this.lazyHash_=WI(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:(ot(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,a=en.VALUE_TYPE_ORDER.indexOf(n),o=en.VALUE_TYPE_ORDER.indexOf(i);return ot(a>=0,"Unknown leaf type: "+n),ot(o>=0,"Unknown leaf type: "+i),a===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Ax,bx;function IU(e){Ax=e}function xU(e){bx=e}class DU extends mm{compare(t,n){const i=t.node.getPriority(),a=n.node.getPriority(),o=i.compareTo(a);return o===0?Gl(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(Wa,new en("[PRIORITY-POST]",bx))}makePost(t,n){const i=Ax(t);return new Vt(n,new en("[PRIORITY-POST]",i))}toString(){return".priority"}}const ve=new DU;const NU=Math.log(2);class MU{constructor(t){const n=o=>parseInt(Math.log(o)/NU,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const a=i(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Od=function(e,t,n,i){e.sort(t);const a=function(d,m){const y=m-d;let _,E;if(y===0)return null;if(y===1)return _=e[d],E=n?n(_):_,new Wn(E,_.node,Wn.BLACK,null,null);{const A=parseInt(y/2,10)+d,R=a(d,A),D=a(A+1,m);return _=e[A],E=n?n(_):_,new Wn(E,_.node,Wn.BLACK,R,D)}},o=function(d){let m=null,y=null,_=e.length;const E=function(R,D){const N=_-R,F=_;_-=R;const j=a(N+1,F),H=e[N],tt=n?n(H):H;A(new Wn(tt,H.node,D,null,j))},A=function(R){m?(m.left=R,m=R):(y=R,m=R)};for(let R=0;R<d.count;++R){const D=d.nextBitIsOne(),N=Math.pow(2,d.count-(R+1));D?E(N,Wn.BLACK):(E(N,Wn.BLACK),E(N,Wn.RED))}return y},u=new MU(e.length),h=o(u);return new ds(i||t,h)};let Ty;const rl={};class Hs{static get Default(){return ot(rl&&ve,"ChildrenNode.ts has not been loaded"),Ty=Ty||new Hs({".priority":rl},{".priority":ve}),Ty}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Qa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ds?n:null}hasIndex(t){return ji(this.indexSet_,t.toString())}addIndex(t,n){ot(t!==vl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const o=n.getIterator(Vt.Wrap);let u=o.getNext();for(;u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();let h;a?h=Od(i,t.getCompare()):h=rl;const d=t.toString(),m={...this.indexSet_};m[d]=t;const y={...this.indexes_};return y[d]=h,new Hs(y,m)}addToIndexes(t,n){const i=Dd(this.indexes_,(a,o)=>{const u=Qa(this.indexSet_,o);if(ot(u,"Missing index implementation for "+o),a===rl)if(u.isDefinedOn(t.node)){const h=[],d=n.getIterator(Vt.Wrap);let m=d.getNext();for(;m;)m.name!==t.name&&h.push(m),m=d.getNext();return h.push(t),Od(h,u.getCompare())}else return rl;else{const h=n.get(t.name);let d=a;return h&&(d=d.remove(new Vt(t.name,h))),d.insert(t,t.node)}});return new Hs(i,this.indexSet_)}removeFromIndexes(t,n){const i=Dd(this.indexes_,a=>{if(a===rl)return a;{const o=n.get(t.name);return o?a.remove(new Vt(t.name,o)):a}});return new Hs(i,this.indexSet_)}}let oc;class Tt{static get EMPTY_NODE(){return oc||(oc=new Tt(new ds(Gv),null,Hs.Default))}constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wx(this.priorityNode_),this.children_.isEmpty()&&ot(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oc}updatePriority(t){return this.children_.isEmpty()?this:new Tt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?oc:n}}getChild(t){const n=Mt(t);return n===null?this:this.getImmediateChild(n).getChild(le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ot(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new Vt(t,n);let a,o;n.isEmpty()?(a=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?oc:this.priorityNode_;return new Tt(a,u,o)}}updateChild(t,n){const i=Mt(t);if(i===null)return n;{ot(Mt(t)!==".priority"||Kr(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(le(t),n);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,a=0,o=!0;if(this.forEachChild(ve,(u,h)=>{n[u]=h.val(t),i++,o&&Tt.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):o=!1}),!t&&o&&a<2*i){const u=[];for(const h in n)u[h]=n[h];return u}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Sx(this.getPriority().val())+":"),this.forEachChild(ve,(n,i)=>{const a=i.hash();a!==""&&(t+=":"+n+":"+a)}),this.lazyHash_=t===""?"":WI(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const a=this.resolveIndex_(i);if(a){const o=a.getPredecessorKey(new Vt(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Vt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Vt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Vt.Wrap);let o=a.peek();for(;o!=null&&n.compare(o,t)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap);let o=a.peek();for(;o!=null&&n.compare(o,t)>0;)a.getNext(),o=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===uh?-1:0}withIndex(t){if(t===vl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Tt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===vl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ve),a=n.getIterator(ve);let o=i.getNext(),u=a.getNext();for(;o&&u;){if(o.name!==u.name||!o.node.equals(u.node))return!1;o=i.getNext(),u=a.getNext()}return o===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===vl?null:this.indexMap_.get(t.toString())}}Tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class VU extends Tt{constructor(){super(new ds(Gv),Tt.EMPTY_NODE,Hs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}}const uh=new VU;Object.defineProperties(Vt,{MIN:{value:new Vt(Cl,Tt.EMPTY_NODE)},MAX:{value:new Vt(Wa,uh)}});Tx.__EMPTY_NODE=Tt.EMPTY_NODE;en.__childrenNodeConstructor=Tt;RU(uh);xU(uh);const OU=!0;function dn(e,t=null){if(e===null)return Tt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ot(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new en(n,dn(t))}if(!(e instanceof Array)&&OU){const n=[];let i=!1;if(zn(e,(u,h)=>{if(u.substring(0,1)!=="."){const d=dn(h);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new Vt(u,d)))}}),n.length===0)return Tt.EMPTY_NODE;const o=Od(n,CU,u=>u.name,Gv);if(i){const u=Od(n,ve.getCompare());return new Tt(o,dn(t),new Hs({".priority":u},{".priority":ve}))}else return new Tt(o,dn(t),Hs.Default)}else{let n=Tt.EMPTY_NODE;return zn(e,(i,a)=>{if(ji(e,i)&&i.substring(0,1)!=="."){const o=dn(a);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(dn(t))}}IU(dn);class PU extends mm{constructor(t){super(),this.indexPath_=t,ot(!kt(t)&&Mt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),a=this.extractChild(n.node),o=i.compareTo(a);return o===0?Gl(t.name,n.name):o}makePost(t,n){const i=dn(t),a=Tt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Vt(n,a)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,uh);return new Vt(Wa,t)}toString(){return _x(this.indexPath_,0).join("/")}}class kU extends mm{compare(t,n){const i=t.node.compareTo(n.node);return i===0?Gl(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(t,n){const i=dn(t);return new Vt(n,i)}toString(){return".value"}}const LU=new kU;function Cx(e){return{type:"value",snapshotNode:e}}function Rl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function UU(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}class Yv{constructor(t){this.index_=t}updateChild(t,n,i,a,o,u){ot(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(n);return h.getChild(a).equals(i.getChild(a))&&h.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?t.hasChild(n)?u.trackChildChange(zc(n,h)):ot(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Rl(n,i)):u.trackChildChange(Fc(n,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ve,(a,o)=>{n.hasChild(a)||i.trackChildChange(zc(a,o))}),n.isLeafNode()||n.forEachChild(ve,(a,o)=>{if(t.hasChild(a)){const u=t.getImmediateChild(a);u.equals(o)||i.trackChildChange(Fc(a,o,u))}else i.trackChildChange(Rl(a,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jc{constructor(t){this.indexedFilter_=new Yv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=jc.getStartPost_(t),this.endPost_=jc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,a,o,u){return this.matches(new Vt(n,i))||(i=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,a,o,u)}updateFullNode(t,n,i){n.isLeafNode()&&(n=Tt.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(Tt.EMPTY_NODE);const o=this;return n.forEachChild(ve,(u,h)=>{o.matches(new Vt(u,h))||(a=a.updateImmediateChild(u,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}class BU{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new jc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,a,o,u){return this.rangedFilter_.matches(new Vt(n,i))||(i=Tt.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,a,o,u):this.fullLimitUpdateChild_(t,n,i,o,u)}updateFullNode(t,n,i){let a;if(n.isLeafNode()||n.isEmpty())a=Tt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=Tt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))a=a.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(Tt.EMPTY_NODE);let o;this.reverse_?o=a.getReverseIterator(this.index_):o=a.getIterator(this.index_);let u=0;for(;o.hasNext();){const h=o.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:a=a.updateImmediateChild(h.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,a,o){let u;if(this.reverse_){const _=this.index_.getCompare();u=(E,A)=>_(A,E)}else u=this.index_.getCompare();const h=t;ot(h.numChildren()===this.limit_,"");const d=new Vt(n,i),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(d);if(h.hasChild(n)){const _=h.getImmediateChild(n);let E=a.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||h.hasChild(E.name));)E=a.getChildAfterChild(this.index_,E,this.reverse_);const A=E==null?1:u(E,d);if(y&&!i.isEmpty()&&A>=0)return o?.trackChildChange(Fc(n,i,_)),h.updateImmediateChild(n,i);{o?.trackChildChange(zc(n,_));const D=h.updateImmediateChild(n,Tt.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(o?.trackChildChange(Rl(E.name,E.node)),D.updateImmediateChild(E.name,E.node)):D}}else return i.isEmpty()?t:y&&u(m,d)>=0?(o!=null&&(o.trackChildChange(zc(m.name,m.node)),o.trackChildChange(Rl(n,i))),h.updateImmediateChild(n,i).updateImmediateChild(m.name,Tt.EMPTY_NODE)):t}}class Kv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ot(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ot(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cl}hasEnd(){return this.endSet_}getIndexEndValue(){return ot(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ot(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ot(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const t=new Kv;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function zU(e){return e.loadsAllData()?new Yv(e.getIndex()):e.hasLimit()?new BU(e):new jc(e)}function Lb(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ve?n="$priority":e.index_===LU?n="$value":e.index_===vl?n="$key":(ot(e.index_ instanceof PU,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=sn(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=sn(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+sn(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=sn(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+sn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ub(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ve&&(t.i=e.index_.toString()),t}class Pd extends px{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ot(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=oh("p:rest:"),this.listens_={}}listen(t,n,i,a){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const u=Pd.getListenId_(t,i),h={};this.listens_[u]=h;const d=Lb(t._queryParams);this.restRequest_(o+".json",d,(m,y)=>{let _=y;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(o,_,!1,i),Qa(this.listens_,u)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",a(E,null)}})}unlisten(t,n){const i=Pd.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Lb(t._queryParams),i=t._path.toString(),a=new um;return this.restRequest_(i+".json",n,(o,u)=>{let h=u;o===404&&(h=null,o=null),o===null?(this.onDataUpdate_(i,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,o])=>{a&&a.accessToken&&(n.auth=a.accessToken),o&&o.token&&(n.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+p6(n);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Lc(h.responseText)}catch{Zn("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&Zn("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class FU{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function kd(){return{value:null,children:new Map}}function Rx(e,t,n){if(kt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=Mt(t);e.children.has(i)||e.children.set(i,kd());const a=e.children.get(i);t=le(t),Rx(a,t,n)}}function p_(e,t,n){e.value!==null?n(t,e.value):jU(e,(i,a)=>{const o=new oe(t.toString()+"/"+i);p_(a,o,n)})}function jU(e,t){e.children.forEach((n,i)=>{t(i,n)})}class qU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&zn(this.last_,(i,a)=>{n[i]=n[i]-a}),this.last_=t,n}}const Bb=10*1e3,HU=30*1e3,GU=300*1e3;class YU{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qU(t);const i=Bb+(HU-Bb)*Math.random();wc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;zn(t,(a,o)=>{o>0&&ji(this.statsToReport_,a)&&(n[a]=o,i=!0)}),i&&this.server_.reportStats(n),wc(this.reportStats_.bind(this),Math.floor(Math.random()*2*GU))}}var Oi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Oi||(Oi={}));function Ix(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $v(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Ld{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Oi.ACK_USER_WRITE,this.source=Ix()}operationForChild(t){if(kt(this.path)){if(this.affectedTree.value!=null)return ot(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(t));return new Ld(Wt(),n,this.revert)}}else return ot(Mt(this.path)===t,"operationForChild called for unrelated child."),new Ld(le(this.path),this.affectedTree,this.revert)}}class qc{constructor(t,n){this.source=t,this.path=n,this.type=Oi.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new qc(this.source,Wt()):new qc(this.source,le(this.path))}}class Xa{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Oi.OVERWRITE}operationForChild(t){return kt(this.path)?new Xa(this.source,Wt(),this.snap.getImmediateChild(t)):new Xa(this.source,le(this.path),this.snap)}}class Hc{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Oi.MERGE}operationForChild(t){if(kt(this.path)){const n=this.children.subtree(new oe(t));return n.isEmpty()?null:n.value?new Xa(this.source,Wt(),n.value):new Hc(this.source,Wt(),n)}else return ot(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Hc(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Za{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const n=Mt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class KU{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $U(e,t,n,i){const a=[],o=[];return t.forEach(u=>{u.type==="child_changed"&&e.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(UU(u.childName,u.snapshotNode))}),lc(e,a,"child_removed",t,i,n),lc(e,a,"child_added",t,i,n),lc(e,a,"child_moved",o,i,n),lc(e,a,"child_changed",t,i,n),lc(e,a,"value",t,i,n),a}function lc(e,t,n,i,a,o){const u=i.filter(h=>h.type===n);u.sort((h,d)=>WU(e,h,d)),u.forEach(h=>{const d=QU(e,h,o);a.forEach(m=>{m.respondsTo(h.type)&&t.push(m.createEvent(d,e.query_))})})}function QU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function WU(e,t,n){if(t.childName==null||n.childName==null)throw ql("Should only compare child_ events.");const i=new Vt(t.childName,t.snapshotNode),a=new Vt(n.childName,n.snapshotNode);return e.index_.compare(i,a)}function pm(e,t){return{eventCache:e,serverCache:t}}function Ac(e,t,n,i){return pm(new Za(t,n,i),e.serverCache)}function xx(e,t,n,i){return pm(e.eventCache,new Za(t,n,i))}function g_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ja(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Sy;const XU=()=>(Sy||(Sy=new ds(k9)),Sy);class fe{static fromObject(t){let n=new fe(null);return zn(t,(i,a)=>{n=n.set(new oe(i),a)}),n}constructor(t,n=XU()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Wt(),value:this.value};if(kt(t))return null;{const i=Mt(t),a=this.children.get(i);if(a!==null){const o=a.findRootMostMatchingPathAndValue(le(t),n);return o!=null?{path:Qe(new oe(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const n=Mt(t),i=this.children.get(n);return i!==null?i.subtree(le(t)):new fe(null)}}set(t,n){if(kt(t))return new fe(n,this.children);{const i=Mt(t),o=(this.children.get(i)||new fe(null)).set(le(t),n),u=this.children.insert(i,o);return new fe(this.value,u)}}remove(t){if(kt(t))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=Mt(t),i=this.children.get(n);if(i){const a=i.remove(le(t));let o;return a.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,a),this.value===null&&o.isEmpty()?new fe(null):new fe(this.value,o)}else return this}}get(t){if(kt(t))return this.value;{const n=Mt(t),i=this.children.get(n);return i?i.get(le(t)):null}}setTree(t,n){if(kt(t))return n;{const i=Mt(t),o=(this.children.get(i)||new fe(null)).setTree(le(t),n);let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),new fe(this.value,u)}}fold(t){return this.fold_(Wt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((a,o)=>{i[a]=o.fold_(Qe(t,a),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Wt(),n)}findOnPath_(t,n,i){const a=this.value?i(n,this.value):!1;if(a)return a;if(kt(t))return null;{const o=Mt(t),u=this.children.get(o);return u?u.findOnPath_(le(t),Qe(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Wt(),n)}foreachOnPath_(t,n,i){if(kt(t))return this;{this.value&&i(n,this.value);const a=Mt(t),o=this.children.get(a);return o?o.foreachOnPath_(le(t),Qe(n,a),i):new fe(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,n){this.children.inorderTraversal((i,a)=>{a.foreach_(Qe(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}class ki{constructor(t){this.writeTree_=t}static empty(){return new ki(new fe(null))}}function bc(e,t,n){if(kt(t))return new ki(new fe(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const a=i.path;let o=i.value;const u=Un(a,t);return o=o.updateChild(u,n),new ki(e.writeTree_.set(a,o))}else{const a=new fe(n),o=e.writeTree_.setTree(t,a);return new ki(o)}}}function zb(e,t,n){let i=e;return zn(n,(a,o)=>{i=bc(i,Qe(t,a),o)}),i}function Fb(e,t){if(kt(t))return ki.empty();{const n=e.writeTree_.setTree(t,new fe(null));return new ki(n)}}function y_(e,t){return oo(e,t)!=null}function oo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Un(n.path,t)):null}function jb(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(i,a)=>{t.push(new Vt(i,a))}):e.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&t.push(new Vt(i,a.value))}),t}function zr(e,t){if(kt(t))return e;{const n=oo(e,t);return n!=null?new ki(new fe(n)):new ki(e.writeTree_.subtree(t))}}function __(e){return e.writeTree_.isEmpty()}function Il(e,t){return Dx(Wt(),e.writeTree_,t)}function Dx(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((a,o)=>{a===".priority"?(ot(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=Dx(Qe(e,a),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Qe(e,".priority"),i)),n}}function Wv(e,t){return Ox(t,e)}function ZU(e,t,n,i,a){ot(i>e.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:a}),a&&(e.visibleWrites=bc(e.visibleWrites,t,n)),e.lastWriteId=i}function JU(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function t5(e,t){const n=e.allWrites.findIndex(h=>h.writeId===t);ot(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let a=i.visible,o=!1,u=e.allWrites.length-1;for(;a&&u>=0;){const h=e.allWrites[u];h.visible&&(u>=n&&e5(h,i.path)?a=!1:Vi(i.path,h.path)&&(o=!0)),u--}if(a){if(o)return n5(e),!0;if(i.snap)e.visibleWrites=Fb(e.visibleWrites,i.path);else{const h=i.children;zn(h,d=>{e.visibleWrites=Fb(e.visibleWrites,Qe(i.path,d))})}return!0}else return!1}function e5(e,t){if(e.snap)return Vi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Vi(Qe(e.path,n),t))return!0;return!1}function n5(e){e.visibleWrites=Nx(e.allWrites,i5,Wt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function i5(e){return e.visible}function Nx(e,t,n){let i=ki.empty();for(let a=0;a<e.length;++a){const o=e[a];if(t(o)){const u=o.path;let h;if(o.snap)Vi(n,u)?(h=Un(n,u),i=bc(i,h,o.snap)):Vi(u,n)&&(h=Un(u,n),i=bc(i,Wt(),o.snap.getChild(h)));else if(o.children){if(Vi(n,u))h=Un(n,u),i=zb(i,h,o.children);else if(Vi(u,n))if(h=Un(u,n),kt(h))i=zb(i,Wt(),o.children);else{const d=Qa(o.children,Mt(h));if(d){const m=d.getChild(le(h));i=bc(i,Wt(),m)}}}else throw ql("WriteRecord should have .snap or .children")}}return i}function Mx(e,t,n,i,a){if(!i&&!a){const o=oo(e.visibleWrites,t);if(o!=null)return o;{const u=zr(e.visibleWrites,t);if(__(u))return n;if(n==null&&!y_(u,Wt()))return null;{const h=n||Tt.EMPTY_NODE;return Il(u,h)}}}else{const o=zr(e.visibleWrites,t);if(!a&&__(o))return n;if(!a&&n==null&&!y_(o,Wt()))return null;{const u=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(Vi(m.path,t)||Vi(t,m.path))},h=Nx(e.allWrites,u,t),d=n||Tt.EMPTY_NODE;return Il(h,d)}}}function s5(e,t,n){let i=Tt.EMPTY_NODE;const a=oo(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(ve,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(n){const o=zr(e.visibleWrites,t);return n.forEachChild(ve,(u,h)=>{const d=Il(zr(o,new oe(u)),h);i=i.updateImmediateChild(u,d)}),jb(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const o=zr(e.visibleWrites,t);return jb(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function r5(e,t,n,i,a){ot(i||a,"Either existingEventSnap or existingServerSnap must exist");const o=Qe(t,n);if(y_(e.visibleWrites,o))return null;{const u=zr(e.visibleWrites,o);return __(u)?a.getChild(n):Il(u,a.getChild(n))}}function a5(e,t,n,i){const a=Qe(t,n),o=oo(e.visibleWrites,a);if(o!=null)return o;if(i.isCompleteForChild(n)){const u=zr(e.visibleWrites,a);return Il(u,i.getNode().getImmediateChild(n))}else return null}function o5(e,t){return oo(e.visibleWrites,t)}function l5(e,t,n,i,a,o,u){let h;const d=zr(e.visibleWrites,t),m=oo(d,Wt());if(m!=null)h=m;else if(n!=null)h=Il(d,n);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const y=[],_=u.getCompare(),E=o?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let A=E.getNext();for(;A&&y.length<a;)_(A,i)!==0&&y.push(A),A=E.getNext();return y}else return[]}function u5(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function Ud(e,t,n,i){return Mx(e.writeTree,e.treePath,t,n,i)}function Xv(e,t){return s5(e.writeTree,e.treePath,t)}function qb(e,t,n,i){return r5(e.writeTree,e.treePath,t,n,i)}function Bd(e,t){return o5(e.writeTree,Qe(e.treePath,t))}function c5(e,t,n,i,a,o){return l5(e.writeTree,e.treePath,t,n,i,a,o)}function Zv(e,t,n){return a5(e.writeTree,e.treePath,t,n)}function Vx(e,t){return Ox(Qe(e.treePath,t),e.writeTree)}function Ox(e,t){return{treePath:e,writeTree:t}}class h5{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;ot(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ot(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const o=a.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Fc(i,t.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,zc(i,a.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Rl(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Fc(i,t.snapshotNode,a.oldSnap));else throw ql("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}class f5{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Px=new f5;class Jv{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Za(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zv(this.writes_,t,i)}}getChildAfterChild(t,n,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ja(this.viewCache_),o=c5(this.writes_,a,n,1,i,t);return o.length===0?null:o[0]}}function d5(e){return{filter:e}}function m5(e,t){ot(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ot(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function p5(e,t,n,i,a){const o=new h5;let u,h;if(n.type===Oi.OVERWRITE){const m=n;m.source.fromUser?u=v_(e,t,m.path,m.snap,i,a,o):(ot(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered()&&!kt(m.path),u=zd(e,t,m.path,m.snap,i,a,h,o))}else if(n.type===Oi.MERGE){const m=n;m.source.fromUser?u=y5(e,t,m.path,m.children,i,a,o):(ot(m.source.fromServer,"Unknown source."),h=m.source.tagged||t.serverCache.isFiltered(),u=E_(e,t,m.path,m.children,i,a,h,o))}else if(n.type===Oi.ACK_USER_WRITE){const m=n;m.revert?u=E5(e,t,m.path,i,a,o):u=_5(e,t,m.path,m.affectedTree,i,a,o)}else if(n.type===Oi.LISTEN_COMPLETE)u=v5(e,t,n.path,i,o);else throw ql("Unknown operation type: "+n.type);const d=o.getChanges();return g5(t,u,d),{viewCache:u,changes:d}}function g5(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=g_(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Cx(g_(t)))}}function kx(e,t,n,i,a,o){const u=t.eventCache;if(Bd(i,n)!=null)return t;{let h,d;if(kt(n))if(ot(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Ja(t),y=m instanceof Tt?m:Tt.EMPTY_NODE,_=Xv(i,y);h=e.filter.updateFullNode(t.eventCache.getNode(),_,o)}else{const m=Ud(i,Ja(t));h=e.filter.updateFullNode(t.eventCache.getNode(),m,o)}else{const m=Mt(n);if(m===".priority"){ot(Kr(n)===1,"Can't have a priority with additional path components");const y=u.getNode();d=t.serverCache.getNode();const _=qb(i,n,y,d);_!=null?h=e.filter.updatePriority(y,_):h=u.getNode()}else{const y=le(n);let _;if(u.isCompleteForChild(m)){d=t.serverCache.getNode();const E=qb(i,n,u.getNode(),d);E!=null?_=u.getNode().getImmediateChild(m).updateChild(y,E):_=u.getNode().getImmediateChild(m)}else _=Zv(i,m,t.serverCache);_!=null?h=e.filter.updateChild(u.getNode(),m,_,y,a,o):h=u.getNode()}}return Ac(t,h,u.isFullyInitialized()||kt(n),e.filter.filtersNodes())}}function zd(e,t,n,i,a,o,u,h){const d=t.serverCache;let m;const y=u?e.filter:e.filter.getIndexedFilter();if(kt(n))m=y.updateFullNode(d.getNode(),i,null);else if(y.filtersNodes()&&!d.isFiltered()){const A=d.getNode().updateChild(n,i);m=y.updateFullNode(d.getNode(),A,null)}else{const A=Mt(n);if(!d.isCompleteForPath(n)&&Kr(n)>1)return t;const R=le(n),N=d.getNode().getImmediateChild(A).updateChild(R,i);A===".priority"?m=y.updatePriority(d.getNode(),N):m=y.updateChild(d.getNode(),A,N,R,Px,null)}const _=xx(t,m,d.isFullyInitialized()||kt(n),y.filtersNodes()),E=new Jv(a,_,o);return kx(e,_,n,a,E,h)}function v_(e,t,n,i,a,o,u){const h=t.eventCache;let d,m;const y=new Jv(a,t,o);if(kt(n))m=e.filter.updateFullNode(t.eventCache.getNode(),i,u),d=Ac(t,m,!0,e.filter.filtersNodes());else{const _=Mt(n);if(_===".priority")m=e.filter.updatePriority(t.eventCache.getNode(),i),d=Ac(t,m,h.isFullyInitialized(),h.isFiltered());else{const E=le(n),A=h.getNode().getImmediateChild(_);let R;if(kt(E))R=i;else{const D=y.getCompleteChild(_);D!=null?yx(E)===".priority"&&D.getChild(vx(E)).isEmpty()?R=D:R=D.updateChild(E,i):R=Tt.EMPTY_NODE}if(A.equals(R))d=t;else{const D=e.filter.updateChild(h.getNode(),_,R,E,y,u);d=Ac(t,D,h.isFullyInitialized(),e.filter.filtersNodes())}}}return d}function Hb(e,t){return e.eventCache.isCompleteForChild(t)}function y5(e,t,n,i,a,o,u){let h=t;return i.foreach((d,m)=>{const y=Qe(n,d);Hb(t,Mt(y))&&(h=v_(e,h,y,m,a,o,u))}),i.foreach((d,m)=>{const y=Qe(n,d);Hb(t,Mt(y))||(h=v_(e,h,y,m,a,o,u))}),h}function Gb(e,t,n){return n.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function E_(e,t,n,i,a,o,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,m;kt(n)?m=i:m=new fe(null).setTree(n,i);const y=t.serverCache.getNode();return m.children.inorderTraversal((_,E)=>{if(y.hasChild(_)){const A=t.serverCache.getNode().getImmediateChild(_),R=Gb(e,A,E);d=zd(e,d,new oe(_),R,a,o,u,h)}}),m.children.inorderTraversal((_,E)=>{const A=!t.serverCache.isCompleteForChild(_)&&E.value===null;if(!y.hasChild(_)&&!A){const R=t.serverCache.getNode().getImmediateChild(_),D=Gb(e,R,E);d=zd(e,d,new oe(_),D,a,o,u,h)}}),d}function _5(e,t,n,i,a,o,u){if(Bd(a,n)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(i.value!=null){if(kt(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return zd(e,t,n,d.getNode().getChild(n),a,o,h,u);if(kt(n)){let m=new fe(null);return d.getNode().forEachChild(vl,(y,_)=>{m=m.set(new oe(y),_)}),E_(e,t,n,m,a,o,h,u)}else return t}else{let m=new fe(null);return i.foreach((y,_)=>{const E=Qe(n,y);d.isCompleteForPath(E)&&(m=m.set(y,d.getNode().getChild(E)))}),E_(e,t,n,m,a,o,h,u)}}function v5(e,t,n,i,a){const o=t.serverCache,u=xx(t,o.getNode(),o.isFullyInitialized()||kt(n),o.isFiltered());return kx(e,u,n,i,Px,a)}function E5(e,t,n,i,a,o){let u;if(Bd(i,n)!=null)return t;{const h=new Jv(i,t,a),d=t.eventCache.getNode();let m;if(kt(n)||Mt(n)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=Ud(i,Ja(t));else{const _=t.serverCache.getNode();ot(_ instanceof Tt,"serverChildren would be complete if leaf node"),y=Xv(i,_)}y=y,m=e.filter.updateFullNode(d,y,o)}else{const y=Mt(n);let _=Zv(i,y,t.serverCache);_==null&&t.serverCache.isCompleteForChild(y)&&(_=d.getImmediateChild(y)),_!=null?m=e.filter.updateChild(d,y,_,le(n),h,o):t.eventCache.getNode().hasChild(y)?m=e.filter.updateChild(d,y,Tt.EMPTY_NODE,le(n),h,o):m=d,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=Ud(i,Ja(t)),u.isLeafNode()&&(m=e.filter.updateFullNode(m,u,o)))}return u=t.serverCache.isFullyInitialized()||Bd(i,Wt())!=null,Ac(t,m,u,e.filter.filtersNodes())}}class T5{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Yv(i.getIndex()),o=zU(i);this.processor_=d5(o);const u=n.serverCache,h=n.eventCache,d=a.updateFullNode(Tt.EMPTY_NODE,u.getNode(),null),m=o.updateFullNode(Tt.EMPTY_NODE,h.getNode(),null),y=new Za(d,u.isFullyInitialized(),a.filtersNodes()),_=new Za(m,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=pm(_,y),this.eventGenerator_=new KU(this.query_)}get query(){return this.query_}}function S5(e){return e.viewCache_.serverCache.getNode()}function w5(e,t){const n=Ja(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!kt(t)&&!n.getImmediateChild(Mt(t)).isEmpty())?n.getChild(t):null}function Yb(e){return e.eventRegistrations_.length===0}function A5(e,t){e.eventRegistrations_.push(t)}function Kb(e,t,n){const i=[];if(n){ot(t==null,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(n,a);u&&i.push(u)})}if(t){let a=[];for(let o=0;o<e.eventRegistrations_.length;++o){const u=e.eventRegistrations_[o];if(!u.matches(t))a.push(u);else if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function $b(e,t,n,i){t.type===Oi.MERGE&&t.source.queryId!==null&&(ot(Ja(e.viewCache_),"We should always have a full cache before handling merges"),ot(g_(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,o=p5(e.processor_,a,t,n,i);return m5(e.processor_,o.viewCache),ot(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Lx(e,o.changes,o.viewCache.eventCache.getNode(),null)}function b5(e,t){const n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(o,u)=>{i.push(Rl(o,u))}),n.isFullyInitialized()&&i.push(Cx(n.getNode())),Lx(e,i,n.getNode(),t)}function Lx(e,t,n,i){const a=i?[i]:e.eventRegistrations_;return $U(e.eventGenerator_,t,n,a)}let Fd;class C5{constructor(){this.views=new Map}}function R5(e){ot(!Fd,"__referenceConstructor has already been defined"),Fd=e}function I5(){return ot(Fd,"Reference.ts has not been loaded"),Fd}function x5(e){return e.views.size===0}function tE(e,t,n,i){const a=t.source.queryId;if(a!==null){const o=e.views.get(a);return ot(o!=null,"SyncTree gave us an op for an invalid query."),$b(o,t,n,i)}else{let o=[];for(const u of e.views.values())o=o.concat($b(u,t,n,i));return o}}function D5(e,t,n,i,a){const o=t._queryIdentifier,u=e.views.get(o);if(!u){let h=Ud(n,a?i:null),d=!1;h?d=!0:i instanceof Tt?(h=Xv(n,i),d=!1):(h=Tt.EMPTY_NODE,d=!1);const m=pm(new Za(h,d,!1),new Za(i,a,!1));return new T5(t,m)}return u}function N5(e,t,n,i,a,o){const u=D5(e,t,i,a,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,u),A5(u,n),b5(u,n)}function M5(e,t,n,i){const a=t._queryIdentifier,o=[];let u=[];const h=$r(e);if(a==="default")for(const[d,m]of e.views.entries())u=u.concat(Kb(m,n,i)),Yb(m)&&(e.views.delete(d),m.query._queryParams.loadsAllData()||o.push(m.query));else{const d=e.views.get(a);d&&(u=u.concat(Kb(d,n,i)),Yb(d)&&(e.views.delete(a),d.query._queryParams.loadsAllData()||o.push(d.query)))}return h&&!$r(e)&&o.push(new(I5())(t._repo,t._path)),{removed:o,events:u}}function Ux(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function El(e,t){let n=null;for(const i of e.views.values())n=n||w5(i,t);return n}function Bx(e,t){if(t._queryParams.loadsAllData())return gm(e);{const i=t._queryIdentifier;return e.views.get(i)}}function zx(e,t){return Bx(e,t)!=null}function $r(e){return gm(e)!=null}function gm(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jd;function V5(e){ot(!jd,"__referenceConstructor has already been defined"),jd=e}function O5(){return ot(jd,"Reference.ts has not been loaded"),jd}let P5=1;class Qb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fe(null),this.pendingWriteTree_=u5(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Fx(e,t,n,i,a){return ZU(e.pendingWriteTree_,t,n,i,a),a?ch(e,new Xa(Ix(),t,n)):[]}function gl(e,t,n=!1){const i=JU(e.pendingWriteTree_,t);if(t5(e.pendingWriteTree_,t)){let o=new fe(null);return i.snap!=null?o=o.set(Wt(),!0):zn(i.children,u=>{o=o.set(new oe(u),!0)}),ch(e,new Ld(i.path,o,n))}else return[]}function ym(e,t,n){return ch(e,new Xa($v(),t,n))}function k5(e,t,n){const i=fe.fromObject(n);return ch(e,new Hc($v(),t,i))}function L5(e,t){return ch(e,new qc($v(),t))}function U5(e,t,n){const i=nE(e,n);if(i){const a=iE(i),o=a.path,u=a.queryId,h=Un(o,t),d=new qc(Qv(u),h);return sE(e,o,d)}else return[]}function T_(e,t,n,i,a=!1){const o=t._path,u=e.syncPointTree_.get(o);let h=[];if(u&&(t._queryIdentifier==="default"||zx(u,t))){const d=M5(u,t,n,i);x5(u)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const m=d.removed;if(h=d.events,!a){const y=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,_=e.syncPointTree_.findOnPath(o,(E,A)=>$r(A));if(y&&!_){const E=e.syncPointTree_.subtree(o);if(!E.isEmpty()){const A=F5(E);for(let R=0;R<A.length;++R){const D=A[R],N=D.query,F=Hx(e,D);e.listenProvider_.startListening(Cc(N),qd(e,N),F.hashFn,F.onComplete)}}}!_&&m.length>0&&!i&&(y?e.listenProvider_.stopListening(Cc(t),null):m.forEach(E=>{const A=e.queryToTagMap.get(_m(E));e.listenProvider_.stopListening(Cc(E),A)}))}j5(e,m)}return h}function B5(e,t,n,i){const a=nE(e,i);if(a!=null){const o=iE(a),u=o.path,h=o.queryId,d=Un(u,t),m=new Xa(Qv(h),d,n);return sE(e,u,m)}else return[]}function z5(e,t,n,i){const a=nE(e,i);if(a){const o=iE(a),u=o.path,h=o.queryId,d=Un(u,t),m=fe.fromObject(n),y=new Hc(Qv(h),d,m);return sE(e,u,y)}else return[]}function Wb(e,t,n,i=!1){const a=t._path;let o=null,u=!1;e.syncPointTree_.foreachOnPath(a,(E,A)=>{const R=Un(E,a);o=o||El(A,R),u=u||$r(A)});let h=e.syncPointTree_.get(a);h?(u=u||$r(h),o=o||El(h,Wt())):(h=new C5,e.syncPointTree_=e.syncPointTree_.set(a,h));let d;o!=null?d=!0:(d=!1,o=Tt.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((A,R)=>{const D=El(R,Wt());D&&(o=o.updateImmediateChild(A,D))}));const m=zx(h,t);if(!m&&!t._queryParams.loadsAllData()){const E=_m(t);ot(!e.queryToTagMap.has(E),"View does not exist, but we have a tag");const A=q5();e.queryToTagMap.set(E,A),e.tagToQueryMap.set(A,E)}const y=Wv(e.pendingWriteTree_,a);let _=N5(h,t,n,y,o,d);if(!m&&!u&&!i){const E=Bx(h,t);_=_.concat(H5(e,t,E))}return _}function eE(e,t,n){const a=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(u,h)=>{const d=Un(u,t),m=El(h,d);if(m)return m});return Mx(a,t,o,n,!0)}function ch(e,t){return jx(t,e.syncPointTree_,null,Wv(e.pendingWriteTree_,Wt()))}function jx(e,t,n,i){if(kt(e.path))return qx(e,t,n,i);{const a=t.get(Wt());n==null&&a!=null&&(n=El(a,Wt()));let o=[];const u=Mt(e.path),h=e.operationForChild(u),d=t.children.get(u);if(d&&h){const m=n?n.getImmediateChild(u):null,y=Vx(i,u);o=o.concat(jx(h,d,m,y))}return a&&(o=o.concat(tE(a,e,i,n))),o}}function qx(e,t,n,i){const a=t.get(Wt());n==null&&a!=null&&(n=El(a,Wt()));let o=[];return t.children.inorderTraversal((u,h)=>{const d=n?n.getImmediateChild(u):null,m=Vx(i,u),y=e.operationForChild(u);y&&(o=o.concat(qx(y,h,d,m)))}),a&&(o=o.concat(tE(a,e,i,n))),o}function Hx(e,t){const n=t.query,i=qd(e,n);return{hashFn:()=>(S5(t)||Tt.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?U5(e,n._path,i):L5(e,n._path);{const o=B9(a,n);return T_(e,n,null,o)}}}}function qd(e,t){const n=_m(t);return e.queryToTagMap.get(n)}function _m(e){return e._path.toString()+"$"+e._queryIdentifier}function nE(e,t){return e.tagToQueryMap.get(t)}function iE(e){const t=e.indexOf("$");return ot(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oe(e.substr(0,t))}}function sE(e,t,n){const i=e.syncPointTree_.get(t);ot(i,"Missing sync point for query tag that we're tracking");const a=Wv(e.pendingWriteTree_,t);return tE(i,n,a,null)}function F5(e){return e.fold((t,n,i)=>{if(n&&$r(n))return[gm(n)];{let a=[];return n&&(a=Ux(n)),zn(i,(o,u)=>{a=a.concat(u)}),a}})}function Cc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(O5())(e._repo,e._path):e}function j5(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const a=_m(i),o=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(o)}}}function q5(){return P5++}function H5(e,t,n){const i=t._path,a=qd(e,t),o=Hx(e,n),u=e.listenProvider_.startListening(Cc(t),a,o.hashFn,o.onComplete),h=e.syncPointTree_.subtree(i);if(a)ot(!$r(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((m,y,_)=>{if(!kt(m)&&y&&$r(y))return[gm(y).query];{let E=[];return y&&(E=E.concat(Ux(y).map(A=>A.query))),zn(_,(A,R)=>{E=E.concat(R)}),E}});for(let m=0;m<d.length;++m){const y=d[m];e.listenProvider_.stopListening(Cc(y),qd(e,y))}}return u}class rE{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rE(n)}node(){return this.node_}}class aE{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Qe(this.path_,t);return new aE(this.syncTree_,n)}node(){return eE(this.syncTree_,this.path_)}}const G5=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Xb=function(e,t,n){if(!e||typeof e!="object")return e;if(ot(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Y5(e[".sv"],t,n);if(typeof e[".sv"]=="object")return K5(e[".sv"],t);ot(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Y5=function(e,t,n){if(e==="timestamp")return n.timestamp;ot(!1,"Unexpected server value: "+e)},K5=function(e,t,n){e.hasOwnProperty("increment")||ot(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&ot(!1,"Unexpected increment value: "+i);const a=t.node();if(ot(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},$5=function(e,t,n,i){return oE(t,new aE(n,e),i)},Gx=function(e,t,n){return oE(e,new rE(t),n)};function oE(e,t,n){const i=e.getPriority().val(),a=Xb(i,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const u=e,h=Xb(u.getValue(),t,n);return h!==u.getValue()||a!==u.getPriority().val()?new en(h,dn(a)):e}else{const u=e;return o=u,a!==u.getPriority().val()&&(o=o.updatePriority(new en(a))),u.forEachChild(ve,(h,d)=>{const m=oE(d,t.getImmediateChild(h),n);m!==d&&(o=o.updateImmediateChild(h,m))}),o}}class lE{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function vm(e,t){let n=t instanceof oe?t:new oe(t),i=e,a=Mt(n);for(;a!==null;){const o=Qa(i.node.children,a)||{children:{},childCount:0};i=new lE(a,i,o),n=le(n),a=Mt(n)}return i}function lo(e){return e.node.value}function uE(e,t){e.node.value=t,S_(e)}function Yx(e){return e.node.childCount>0}function Q5(e){return lo(e)===void 0&&!Yx(e)}function Em(e,t){zn(e.node.children,(n,i)=>{t(new lE(n,e,i))})}function Kx(e,t,n,i){n&&t(e),Em(e,a=>{Kx(a,t,!0)})}function W5(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function hh(e){return new oe(e.parent===null?e.name:hh(e.parent)+"/"+e.name)}function S_(e){e.parent!==null&&X5(e.parent,e.name,e)}function X5(e,t,n){const i=Q5(n),a=ji(e.node.children,t);i&&a?(delete e.node.children[t],e.node.childCount--,S_(e)):!i&&!a&&(e.node.children[t]=n.node,e.node.childCount++,S_(e))}const Z5=/[\[\].#$\/\u0000-\u001F\u007F]/,J5=/[\[\].#$\u0000-\u001F\u007F]/,wy=10*1024*1024,$x=function(e){return typeof e=="string"&&e.length!==0&&!Z5.test(e)},Qx=function(e){return typeof e=="string"&&e.length!==0&&!J5.test(e)},tB=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qx(e)},eB=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Uv(e)||e&&typeof e=="object"&&ji(e,".sv")},cE=function(e,t,n){const i=n instanceof oe?new _U(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Fa(i));if(typeof t=="function")throw new Error(e+"contains a function "+Fa(i)+" with contents = "+t.toString());if(Uv(t))throw new Error(e+"contains "+t.toString()+" "+Fa(i));if(typeof t=="string"&&t.length>wy/3&&hm(t)>wy)throw new Error(e+"contains a string greater than "+wy+" utf8 bytes "+Fa(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,o=!1;if(zn(t,(u,h)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(o=!0,!$x(u)))throw new Error(e+" contains an invalid key ("+u+") "+Fa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vU(i,u),cE(e,h,i),EU(i)}),a&&o)throw new Error(e+' contains ".value" child '+Fa(i)+" in addition to actual children.")}},Wx=function(e,t,n,i){if(!Qx(n))throw new Error(zI(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nB=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Wx(e,t,n)},iB=function(e,t){if(Mt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},sB=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$x(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tB(n))throw new Error(zI(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class rB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xx(e,t){let n=null;for(let i=0;i<t.length;i++){const a=t[i],o=a.getPath();n!==null&&!qv(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(a)}n&&e.eventLists_.push(n)}function Zx(e,t,n){Xx(e,n),Jx(e,i=>qv(i,t))}function na(e,t,n){Xx(e,n),Jx(e,i=>Vi(i,t)||Vi(t,i))}function Jx(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const a=e.eventLists_[i];if(a){const o=a.path;t(o)?(aB(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function aB(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();Sc&&En("event: "+n.toString()),lh(i)}}}const oB="repo_interrupt",lB=25;class uB{constructor(t,n,i,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kd(),this.transactionQueueTree_=new lE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cB(e,t,n){if(e.stats_=Fv(e.repoInfo_),e.forceRestClient_||q9())e.server_=new Pd(e.repoInfo_,(i,a,o,u)=>{Zb(e,i,a,o,u)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Jb(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Ks(e.repoInfo_,t,(i,a,o,u)=>{Zb(e,i,a,o,u)},i=>{Jb(e,i)},i=>{fB(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=$9(e.repoInfo_,()=>new YU(e.stats_,e.server_)),e.infoData_=new FU,e.infoSyncTree_=new Qb({startListening:(i,a,o,u)=>{let h=[];const d=e.infoData_.getNode(i._path);return d.isEmpty()||(h=ym(e.infoSyncTree_,i._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),fE(e,"connected",!1),e.serverSyncTree_=new Qb({startListening:(i,a,o,u)=>(e.server_.listen(i,o,a,(h,d)=>{const m=u(h,d);na(e.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{e.server_.unlisten(i,a)}})}function hB(e){const n=e.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hE(e){return G5({timestamp:hB(e)})}function Zb(e,t,n,i,a){e.dataUpdateCount++;const o=new oe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let u=[];if(a)if(i){const d=Dd(n,m=>dn(m));u=z5(e.serverSyncTree_,o,d,a)}else{const d=dn(n);u=B5(e.serverSyncTree_,o,d,a)}else if(i){const d=Dd(n,m=>dn(m));u=k5(e.serverSyncTree_,o,d)}else{const d=dn(n);u=ym(e.serverSyncTree_,o,d)}let h=o;u.length>0&&(h=pE(e,o)),na(e.eventQueue_,h,u)}function Jb(e,t){fE(e,"connected",t),t===!1&&dB(e)}function fB(e,t){zn(t,(n,i)=>{fE(e,n,i)})}function fE(e,t,n){const i=new oe("/.info/"+t),a=dn(n);e.infoData_.updateSnapshot(i,a);const o=ym(e.infoSyncTree_,i,a);na(e.eventQueue_,i,o)}function tD(e){return e.nextWriteId_++}function dB(e){dE(e,"onDisconnectEvents");const t=hE(e),n=kd();p_(e.onDisconnect_,Wt(),(a,o)=>{const u=$5(a,o,e.serverSyncTree_,t);Rx(n,a,u)});let i=[];p_(n,Wt(),(a,o)=>{i=i.concat(ym(e.serverSyncTree_,a,o));const u=vB(e,a);pE(e,u)}),e.onDisconnect_=kd(),na(e.eventQueue_,Wt(),i)}function mB(e,t,n){let i;Mt(t._path)===".info"?i=Wb(e.infoSyncTree_,t,n):i=Wb(e.serverSyncTree_,t,n),Zx(e.eventQueue_,t._path,i)}function t1(e,t,n){let i;Mt(t._path)===".info"?i=T_(e.infoSyncTree_,t,n):i=T_(e.serverSyncTree_,t,n),Zx(e.eventQueue_,t._path,i)}function pB(e){e.persistentConnection_&&e.persistentConnection_.interrupt(oB)}function dE(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),En(n,...t)}function gB(e,t,n,i,a,o){dE(e,"transaction on "+t);const u={path:t,update:n,onComplete:i,status:null,order:QI(),applyLocally:o,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=mE(e,t,void 0);u.currentInputSnapshot=h;const d=u.update(h.val());if(d===void 0)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{cE("transaction failed: Data returned ",d,u.path),u.status=0;const m=vm(e.transactionQueueTree_,t),y=lo(m)||[];y.push(u),uE(m,y);let _;typeof d=="object"&&d!==null&&ji(d,".priority")?(_=Qa(d,".priority"),ot(eB(_),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_=(eE(e.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const E=hE(e),A=dn(d,_),R=Gx(A,h,E);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=R,u.currentWriteId=tD(e);const D=Fx(e.serverSyncTree_,t,R,u.currentWriteId,u.applyLocally);na(e.eventQueue_,t,D),Tm(e,e.transactionQueueTree_)}}function mE(e,t,n){return eE(e.serverSyncTree_,t,n)||Tt.EMPTY_NODE}function Tm(e,t=e.transactionQueueTree_){if(t||Sm(e,t),lo(t)){const n=nD(e,t);ot(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&yB(e,hh(t),n)}else Yx(t)&&Em(t,n=>{Tm(e,n)})}function yB(e,t,n){const i=n.map(m=>m.currentWriteId),a=mE(e,t,i);let o=a;const u=a.hash();for(let m=0;m<n.length;m++){const y=n[m];ot(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const _=Un(t,y.path);o=o.updateChild(_,y.currentOutputSnapshotRaw)}const h=o.val(!0),d=t;e.server_.put(d.toString(),h,m=>{dE(e,"transaction put response",{path:d.toString(),status:m});let y=[];if(m==="ok"){const _=[];for(let E=0;E<n.length;E++)n[E].status=2,y=y.concat(gl(e.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&_.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();Sm(e,vm(e.transactionQueueTree_,t)),Tm(e,e.transactionQueueTree_),na(e.eventQueue_,t,y);for(let E=0;E<_.length;E++)lh(_[E])}else{if(m==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Zn("transaction at "+d.toString()+" failed: "+m);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=m}pE(e,t)}},u)}function pE(e,t){const n=eD(e,t),i=hh(n),a=nD(e,n);return _B(e,a,i),i}function _B(e,t,n){if(t.length===0)return;const i=[];let a=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],m=Un(n,d.path);let y=!1,_;if(ot(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)y=!0,_=d.abortReason,a=a.concat(gl(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=lB)y=!0,_="maxretry",a=a.concat(gl(e.serverSyncTree_,d.currentWriteId,!0));else{const E=mE(e,d.path,u);d.currentInputSnapshot=E;const A=t[h].update(E.val());if(A!==void 0){cE("transaction failed: Data returned ",A,d.path);let R=dn(A);typeof A=="object"&&A!=null&&ji(A,".priority")||(R=R.updatePriority(E.getPriority()));const N=d.currentWriteId,F=hE(e),j=Gx(R,E,F);d.currentOutputSnapshotRaw=R,d.currentOutputSnapshotResolved=j,d.currentWriteId=tD(e),u.splice(u.indexOf(N),1),a=a.concat(Fx(e.serverSyncTree_,d.path,j,d.currentWriteId,d.applyLocally)),a=a.concat(gl(e.serverSyncTree_,N,!0))}else y=!0,_="nodata",a=a.concat(gl(e.serverSyncTree_,d.currentWriteId,!0))}na(e.eventQueue_,n,a),a=[],y&&(t[h].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?i.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):i.push(()=>t[h].onComplete(new Error(_),!1,null))))}Sm(e,e.transactionQueueTree_);for(let h=0;h<i.length;h++)lh(i[h]);Tm(e,e.transactionQueueTree_)}function eD(e,t){let n,i=e.transactionQueueTree_;for(n=Mt(t);n!==null&&lo(i)===void 0;)i=vm(i,n),t=le(t),n=Mt(t);return i}function nD(e,t){const n=[];return iD(e,t,n),n.sort((i,a)=>i.order-a.order),n}function iD(e,t,n){const i=lo(t);if(i)for(let a=0;a<i.length;a++)n.push(i[a]);Em(t,a=>{iD(e,a,n)})}function Sm(e,t){const n=lo(t);if(n){let i=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[i]=n[a],i++);n.length=i,uE(t,n.length>0?n:void 0)}Em(t,i=>{Sm(e,i)})}function vB(e,t){const n=hh(eD(e,t)),i=vm(e.transactionQueueTree_,t);return W5(i,a=>{Ay(e,a)}),Ay(e,i),Kx(i,a=>{Ay(e,a)}),n}function Ay(e,t){const n=lo(t);if(n){const i=[];let a=[],o=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(ot(o===u-1,"All SENT items should be at beginning of queue."),o=u,n[u].status=3,n[u].abortReason="set"):(ot(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),a=a.concat(gl(e.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));o===-1?uE(t,void 0):n.length=o+1,na(e.eventQueue_,hh(t),a);for(let u=0;u<i.length;u++)lh(i[u])}}function EB(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let a=n[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function TB(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zn(`Invalid query segment '${n}' in query '${e}'`)}return t}const e1=function(e,t){const n=SB(e),i=n.namespace;n.domain==="firebase.com"&&Xs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||O9();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lx(n.host,n.secure,i,a,t,"",i!==n.subdomain),path:new oe(n.pathString)}},SB=function(e){let t="",n="",i="",a="",o="",u=!0,h="https",d=443;if(typeof e=="string"){let m=e.indexOf("//");m>=0&&(h=e.substring(0,m-1),e=e.substring(m+2));let y=e.indexOf("/");y===-1&&(y=e.length);let _=e.indexOf("?");_===-1&&(_=e.length),t=e.substring(0,Math.min(y,_)),y<_&&(a=EB(e.substring(y,_)));const E=TB(e.substring(Math.min(e.length,_)));m=t.indexOf(":"),m>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(m+1),10)):m=t.length;const A=t.slice(0,m);if(A.toLowerCase()==="localhost")n="localhost";else if(A.split(".").length<=2)n=A;else{const R=t.indexOf(".");i=t.substring(0,R).toLowerCase(),n=t.substring(R+1),o=i}"ns"in E&&(o=E.ns)}return{host:t,port:d,domain:n,subdomain:i,secure:u,scheme:h,pathString:a,namespace:o}};class wB{constructor(t,n,i,a){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+sn(this.snapshot.exportVal())}}class AB{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bB{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ot(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class gE{constructor(t,n,i,a){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=a}get key(){return kt(this._path)?null:yx(this._path)}get ref(){return new er(this._repo,this._path)}get _queryIdentifier(){const t=Ub(this._queryParams),n=Bv(t);return n==="{}"?"default":n}get _queryObject(){return Ub(this._queryParams)}isEqual(t){if(t=Xe(t),!(t instanceof gE))return!1;const n=this._repo===t._repo,i=qv(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return n&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+yU(this._path)}}class er extends gE{constructor(t,n){super(t,n,new Kv,!1)}get parent(){const t=vx(this._path);return t===null?null:new er(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Gc{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new oe(t),i=w_(this.ref,t);return new Gc(this._node.getChild(n),i,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>t(new Gc(a,w_(this.ref,i),ve)))}hasChild(t){const n=new oe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function CB(e,t){return e=Xe(e),e._checkNotDeleted("ref"),w_(e._root,t)}function w_(e,t){return e=Xe(e),Mt(e._path)===null?nB("child","path",t):Wx("child","path",t),new er(e._repo,Qe(e._path,t))}class yE{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new wB("value",this,new Gc(t.snapshotNode,new er(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new AB(this,t,n):null}matches(t){return t instanceof yE?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function RB(e,t,n,i,a){let o;if(typeof i=="object"&&(o=void 0,a=i),typeof i=="function"&&(o=i),a&&a.onlyOnce){const d=n,m=(y,_)=>{t1(e._repo,e,h),d(y,_)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new bB(n,o||void 0),h=new yE(u);return mB(e._repo,e,h),()=>t1(e._repo,e,h)}function sD(e,t,n,i){return RB(e,"value",t,n,i)}R5(er);V5(er);const IB="FIREBASE_DATABASE_EMULATOR_HOST",A_={};let xB=!1;function DB(e,t,n,i){const a=t.lastIndexOf(":"),o=t.substring(0,a),u=Hl(o);e.repoInfo_=new lx(t,u,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function NB(e,t,n,i,a){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),En("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let u=e1(o,a),h=u.repoInfo,d;typeof process<"u"&&Eb&&(d=Eb[IB]),d?(o=`http://${d}?ns=${h.namespace}`,u=e1(o,a),h=u.repoInfo):u.repoInfo.secure;const m=new G9(e.name,e.options,t);sB("Invalid Firebase Database URL",u),kt(u.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const y=VB(h,e,m,new H9(e,n));return new OB(y,e)}function MB(e,t){const n=A_[t];(!n||n[e.key]!==e)&&Xs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),pB(e),delete n[e.key]}function VB(e,t,n,i){let a=A_[t.name];a||(a={},A_[t.name]=a);let o=a[e.toURLString()];return o&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uB(e,xB,n,i),a[e.toURLString()]=o,o}class OB{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new er(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xs("Cannot call "+t+" on a deleted database.")}}function PB(e=dm(),t){const n=ao(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const i=Nv("database");i&&kB(n,...i)}return n}function kB(e,t,n,i={}){e=Xe(e),e._checkNotDeleted("useEmulator");const a=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(a===e._repoInternal.repoInfo_.host&&Yr(i,o.repoInfo_.emulatorOptions))return;Xs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new fd(fd.OWNER);else if(i.mockUserToken){const h=typeof i.mockUserToken=="string"?i.mockUserToken:Vv(i.mockUserToken,e.app.options.projectId);u=new fd(h)}Hl(t)&&(Mv(t),Ov("Database",!0)),DB(o,a,i,u)}function LB(e){x9(Lv),Es(new zi("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return NB(i,a,o,n)},"PUBLIC").setMultipleInstances(!0)),Bn(Tb,Sb,e),Bn(Tb,Sb,"esm2020")}class UB{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function BB(e,t,n){if(e=Xe(e),iB("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=!0,a=new um,o=(h,d,m)=>{let y=null;h?a.reject(h):(y=new Gc(m,new er(e._repo,e._path),ve),a.resolve(new UB(d,y)))},u=sD(e,()=>{});return gB(e._repo,e._path,t,o,u,i),a.promise}Ks.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ks.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};LB();var zB="firebase",FB="12.8.0";Bn(zB,FB,"app");var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,rD;(function(){var e;function t(I,C){function x(){}x.prototype=C.prototype,I.F=C.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(k,O,z){for(var M=Array(arguments.length-2),re=2;re<arguments.length;re++)M[re-2]=arguments[re];return C.prototype[O].apply(k,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,x){x||(x=0);const k=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)k[O]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=I.g[0],x=I.g[1],O=I.g[2];let z=I.g[3],M;M=C+(z^x&(O^z))+k[0]+3614090360&4294967295,C=x+(M<<7&4294967295|M>>>25),M=z+(O^C&(x^O))+k[1]+3905402710&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(x^z&(C^x))+k[2]+606105819&4294967295,O=z+(M<<17&4294967295|M>>>15),M=x+(C^O&(z^C))+k[3]+3250441966&4294967295,x=O+(M<<22&4294967295|M>>>10),M=C+(z^x&(O^z))+k[4]+4118548399&4294967295,C=x+(M<<7&4294967295|M>>>25),M=z+(O^C&(x^O))+k[5]+1200080426&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(x^z&(C^x))+k[6]+2821735955&4294967295,O=z+(M<<17&4294967295|M>>>15),M=x+(C^O&(z^C))+k[7]+4249261313&4294967295,x=O+(M<<22&4294967295|M>>>10),M=C+(z^x&(O^z))+k[8]+1770035416&4294967295,C=x+(M<<7&4294967295|M>>>25),M=z+(O^C&(x^O))+k[9]+2336552879&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(x^z&(C^x))+k[10]+4294925233&4294967295,O=z+(M<<17&4294967295|M>>>15),M=x+(C^O&(z^C))+k[11]+2304563134&4294967295,x=O+(M<<22&4294967295|M>>>10),M=C+(z^x&(O^z))+k[12]+1804603682&4294967295,C=x+(M<<7&4294967295|M>>>25),M=z+(O^C&(x^O))+k[13]+4254626195&4294967295,z=C+(M<<12&4294967295|M>>>20),M=O+(x^z&(C^x))+k[14]+2792965006&4294967295,O=z+(M<<17&4294967295|M>>>15),M=x+(C^O&(z^C))+k[15]+1236535329&4294967295,x=O+(M<<22&4294967295|M>>>10),M=C+(O^z&(x^O))+k[1]+4129170786&4294967295,C=x+(M<<5&4294967295|M>>>27),M=z+(x^O&(C^x))+k[6]+3225465664&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^x&(z^C))+k[11]+643717713&4294967295,O=z+(M<<14&4294967295|M>>>18),M=x+(z^C&(O^z))+k[0]+3921069994&4294967295,x=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(x^O))+k[5]+3593408605&4294967295,C=x+(M<<5&4294967295|M>>>27),M=z+(x^O&(C^x))+k[10]+38016083&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^x&(z^C))+k[15]+3634488961&4294967295,O=z+(M<<14&4294967295|M>>>18),M=x+(z^C&(O^z))+k[4]+3889429448&4294967295,x=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(x^O))+k[9]+568446438&4294967295,C=x+(M<<5&4294967295|M>>>27),M=z+(x^O&(C^x))+k[14]+3275163606&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^x&(z^C))+k[3]+4107603335&4294967295,O=z+(M<<14&4294967295|M>>>18),M=x+(z^C&(O^z))+k[8]+1163531501&4294967295,x=O+(M<<20&4294967295|M>>>12),M=C+(O^z&(x^O))+k[13]+2850285829&4294967295,C=x+(M<<5&4294967295|M>>>27),M=z+(x^O&(C^x))+k[2]+4243563512&4294967295,z=C+(M<<9&4294967295|M>>>23),M=O+(C^x&(z^C))+k[7]+1735328473&4294967295,O=z+(M<<14&4294967295|M>>>18),M=x+(z^C&(O^z))+k[12]+2368359562&4294967295,x=O+(M<<20&4294967295|M>>>12),M=C+(x^O^z)+k[5]+4294588738&4294967295,C=x+(M<<4&4294967295|M>>>28),M=z+(C^x^O)+k[8]+2272392833&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^x)+k[11]+1839030562&4294967295,O=z+(M<<16&4294967295|M>>>16),M=x+(O^z^C)+k[14]+4259657740&4294967295,x=O+(M<<23&4294967295|M>>>9),M=C+(x^O^z)+k[1]+2763975236&4294967295,C=x+(M<<4&4294967295|M>>>28),M=z+(C^x^O)+k[4]+1272893353&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^x)+k[7]+4139469664&4294967295,O=z+(M<<16&4294967295|M>>>16),M=x+(O^z^C)+k[10]+3200236656&4294967295,x=O+(M<<23&4294967295|M>>>9),M=C+(x^O^z)+k[13]+681279174&4294967295,C=x+(M<<4&4294967295|M>>>28),M=z+(C^x^O)+k[0]+3936430074&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^x)+k[3]+3572445317&4294967295,O=z+(M<<16&4294967295|M>>>16),M=x+(O^z^C)+k[6]+76029189&4294967295,x=O+(M<<23&4294967295|M>>>9),M=C+(x^O^z)+k[9]+3654602809&4294967295,C=x+(M<<4&4294967295|M>>>28),M=z+(C^x^O)+k[12]+3873151461&4294967295,z=C+(M<<11&4294967295|M>>>21),M=O+(z^C^x)+k[15]+530742520&4294967295,O=z+(M<<16&4294967295|M>>>16),M=x+(O^z^C)+k[2]+3299628645&4294967295,x=O+(M<<23&4294967295|M>>>9),M=C+(O^(x|~z))+k[0]+4096336452&4294967295,C=x+(M<<6&4294967295|M>>>26),M=z+(x^(C|~O))+k[7]+1126891415&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~x))+k[14]+2878612391&4294967295,O=z+(M<<15&4294967295|M>>>17),M=x+(z^(O|~C))+k[5]+4237533241&4294967295,x=O+(M<<21&4294967295|M>>>11),M=C+(O^(x|~z))+k[12]+1700485571&4294967295,C=x+(M<<6&4294967295|M>>>26),M=z+(x^(C|~O))+k[3]+2399980690&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~x))+k[10]+4293915773&4294967295,O=z+(M<<15&4294967295|M>>>17),M=x+(z^(O|~C))+k[1]+2240044497&4294967295,x=O+(M<<21&4294967295|M>>>11),M=C+(O^(x|~z))+k[8]+1873313359&4294967295,C=x+(M<<6&4294967295|M>>>26),M=z+(x^(C|~O))+k[15]+4264355552&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~x))+k[6]+2734768916&4294967295,O=z+(M<<15&4294967295|M>>>17),M=x+(z^(O|~C))+k[13]+1309151649&4294967295,x=O+(M<<21&4294967295|M>>>11),M=C+(O^(x|~z))+k[4]+4149444226&4294967295,C=x+(M<<6&4294967295|M>>>26),M=z+(x^(C|~O))+k[11]+3174756917&4294967295,z=C+(M<<10&4294967295|M>>>22),M=O+(C^(z|~x))+k[2]+718787259&4294967295,O=z+(M<<15&4294967295|M>>>17),M=x+(z^(O|~C))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const x=C-this.blockSize,k=this.C;let O=this.h,z=0;for(;z<C;){if(O==0)for(;z<=x;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<C;)if(k[O++]=I.charCodeAt(z++),O==this.blockSize){a(this,k),O=0;break}}else for(;z<C;)if(k[O++]=I[z++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)I[C++]=this.g[x]>>>k&255;return I};function o(I,C){var x=h;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=C(I)}function u(I,C){this.h=C;const x=[];let k=!0;for(let O=I.length-1;O>=0;O--){const z=I[O]|0;k&&z==C||(x[O]=z,k=!1)}this.g=x}var h={};function d(I){return-128<=I&&I<128?o(I,function(C){return new u([C|0],C<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return N(m(-I));const C=[];let x=1;for(let k=0;I>=x;k++)C[k]=I/x|0,x*=4294967296;return new u(C,0)}function y(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return N(y(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=m(Math.pow(C,8));let k=_;for(let z=0;z<I.length;z+=8){var O=Math.min(8,I.length-z);const M=parseInt(I.substring(z,z+O),C);O<8?(O=m(Math.pow(C,O)),k=k.j(O).add(m(M))):(k=k.j(x),k=k.add(m(M)))}return k}var _=d(0),E=d(1),A=d(16777216);e=u.prototype,e.m=function(){if(D(this))return-N(this).m();let I=0,C=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);I+=(k>=0?k:4294967296+k)*C,C*=4294967296}return I},e.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(D(this))return"-"+N(this).toString(I);const C=m(Math.pow(I,6));var x=this;let k="";for(;;){const O=tt(x,C).g;x=F(x,O.j(C));let z=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=O,R(x))return z+k;for(;z.length<6;)z="0"+z;k=z+k}},e.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function D(I){return I.h==-1}e.l=function(I){return I=F(this,I),D(I)?-1:R(I)?0:1};function N(I){const C=I.g.length,x=[];for(let k=0;k<C;k++)x[k]=~I.g[k];return new u(x,~I.h).add(E)}e.abs=function(){return D(this)?N(this):this},e.add=function(I){const C=Math.max(this.g.length,I.g.length),x=[];let k=0;for(let O=0;O<=C;O++){let z=k+(this.i(O)&65535)+(I.i(O)&65535),M=(z>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=M>>>16,z&=65535,M&=65535,x[O]=M<<16|z}return new u(x,x[x.length-1]&-2147483648?-1:0)};function F(I,C){return I.add(N(C))}e.j=function(I){if(R(this)||R(I))return _;if(D(this))return D(I)?N(this).j(N(I)):N(N(this).j(I));if(D(I))return N(this.j(N(I)));if(this.l(A)<0&&I.l(A)<0)return m(this.m()*I.m());const C=this.g.length+I.g.length,x=[];for(var k=0;k<2*C;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const z=this.i(k)>>>16,M=this.i(k)&65535,re=I.i(O)>>>16,Se=I.i(O)&65535;x[2*k+2*O]+=M*Se,j(x,2*k+2*O),x[2*k+2*O+1]+=z*Se,j(x,2*k+2*O+1),x[2*k+2*O+1]+=M*re,j(x,2*k+2*O+1),x[2*k+2*O+2]+=z*re,j(x,2*k+2*O+2)}for(I=0;I<C;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=C;I<2*C;I++)x[I]=0;return new u(x,0)};function j(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function H(I,C){this.g=I,this.h=C}function tt(I,C){if(R(C))throw Error("division by zero");if(R(I))return new H(_,_);if(D(I))return C=tt(N(I),C),new H(N(C.g),N(C.h));if(D(C))return C=tt(I,N(C)),new H(N(C.g),C.h);if(I.g.length>30){if(D(I)||D(C))throw Error("slowDivide_ only works with positive integers.");for(var x=E,k=C;k.l(I)<=0;)x=rt(x),k=rt(k);var O=ut(x,1),z=ut(k,1);for(k=ut(k,2),x=ut(x,2);!R(k);){var M=z.add(k);M.l(I)<=0&&(O=O.add(x),z=M),k=ut(k,1),x=ut(x,1)}return C=F(I,O.j(C)),new H(O,C)}for(O=_;I.l(C)>=0;){for(x=Math.max(1,Math.floor(I.m()/C.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),z=m(x),M=z.j(C);D(M)||M.l(I)>0;)x-=k,z=m(x),M=z.j(C);R(z)&&(z=E),O=O.add(z),I=F(I,M)}return new H(O,I)}e.B=function(I){return tt(this,I).h},e.and=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<C;k++)x[k]=this.i(k)&I.i(k);return new u(x,this.h&I.h)},e.or=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<C;k++)x[k]=this.i(k)|I.i(k);return new u(x,this.h|I.h)},e.xor=function(I){const C=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<C;k++)x[k]=this.i(k)^I.i(k);return new u(x,this.h^I.h)};function rt(I){const C=I.g.length+1,x=[];for(let k=0;k<C;k++)x[k]=I.i(k)<<1|I.i(k-1)>>>31;return new u(x,I.h)}function ut(I,C){const x=C>>5;C%=32;const k=I.g.length-x,O=[];for(let z=0;z<k;z++)O[z]=C>0?I.i(z+x)>>>C|I.i(z+x+1)<<32-C:I.i(z+x);return new u(O,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,rD=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Fr=u}).apply(typeof n1<"u"?n1:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aD,dc,oD,md,b_,lD,uD,cD;(function(){var e,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)t:{var S=i;f=f.split(".");for(var b=0;b<f.length-1;b++){var q=f[b];if(!(q in S))break t;S=S[q]}f=f[f.length-1],b=S[f],v=v(b),v!=b&&v!=null&&t(S,f,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(v){var S=[],b;for(b in v)Object.prototype.hasOwnProperty.call(v,b)&&S.push([b,v[b]]);return S}});var o=o||{},u=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function d(f,v,S){return f.call.apply(f.bind,arguments)}function m(f,v,S){return m=d,m.apply(null,arguments)}function y(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var b=S.slice();return b.push.apply(b,arguments),f.apply(this,b)}}function _(f,v){function S(){}S.prototype=v.prototype,f.Z=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Ob=function(b,q,Q){for(var lt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)lt[Rt-2]=arguments[Rt];return v.prototype[q].apply(b,lt)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const v=f.length;if(v>0){const S=Array(v);for(let b=0;b<v;b++)S[b]=f[b];return S}return[]}function R(f,v){for(let b=1;b<arguments.length;b++){const q=arguments[b];var S=typeof q;if(S=S!="object"?S:q?Array.isArray(q)?"array":S:"null",S=="array"||S=="object"&&typeof q.length=="number"){S=f.length||0;const Q=q.length||0;f.length=S+Q;for(let lt=0;lt<Q;lt++)f[S+lt]=q[lt]}else f.push(q)}}class D{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(f){u.setTimeout(()=>{throw f},0)}function F(){var f=I;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class j{constructor(){this.h=this.g=null}add(v,S){const b=H.get();b.set(v,S),this.h?this.h.next=b:this.g=b,this.h=b}}var H=new D(()=>new tt,f=>f.reset());class tt{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ut=!1,I=new j,C=()=>{const f=Promise.resolve(void 0);rt=()=>{f.then(x)}};function x(){for(var f;f=F();){try{f.h.call(f.g)}catch(S){N(S)}var v=H;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}ut=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function re(f,v){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}_(re,O),re.prototype.init=function(f,v){const S=this.type=f.type,b=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function at(f,v,S,b,q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!b,this.ha=q,this.key=++Z,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xt(f,v,S){for(const b in f)v.call(S,f[b],b,f)}function Lt(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function U(f){const v={};for(const S in f)v[S]=f[S];return v}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(f,v){let S,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(S in b)f[S]=b[S];for(let Q=0;Q<it.length;Q++)S=it[Q],Object.prototype.hasOwnProperty.call(b,S)&&(f[S]=b[S])}}function dt(f){this.src=f,this.g={},this.h=0}dt.prototype.add=function(f,v,S,b,q){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const lt=Dt(f,v,b,q);return lt>-1?(v=f[lt],S||(v.fa=!1)):(v=new at(v,this.src,Q,!!b,q),v.fa=S,f.push(v)),v};function wt(f,v){const S=v.type;if(S in f.g){var b=f.g[S],q=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(b,q,1),Q&&(pt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Dt(f,v,S,b){for(let q=0;q<f.length;++q){const Q=f[q];if(!Q.da&&Q.listener==v&&Q.capture==!!S&&Q.ha==b)return q}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Ge={};function pe(f,v,S,b,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)pe(f,v[Q],S,b,q);return null}return S=Jl(S),f&&f[Se]?f.J(v,S,h(b)?!!b.capture:!1,q):ra(f,v,S,!1,b,q)}function ra(f,v,S,b,q,Q){if(!v)throw Error("Invalid event type");const lt=h(q)?!!q.capture:!!q;let Rt=aa(f);if(Rt||(f[Ht]=Rt=new dt(f)),S=Rt.add(v,S,b,lt,Q),S.proxy)return S;if(b=po(),S.proxy=b,b.src=f,b.listener=S,f.addEventListener)z||(q=lt),q===void 0&&(q=!1),f.addEventListener(v.toString(),b,q);else if(f.attachEvent)f.attachEvent(qi(v.toString()),b);else if(f.addListener&&f.removeListener)f.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return S}function po(){function f(S){return v.call(f.src,f.listener,S)}const v=Xl;return f}function go(f,v,S,b,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)go(f,v[Q],S,b,q);else b=h(b)?!!b.capture:!!b,S=Jl(S),f&&f[Se]?(f=f.i,Q=String(v).toString(),Q in f.g&&(v=f.g[Q],S=Dt(v,S,b,q),S>-1&&(pt(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete f.g[Q],f.h--)))):f&&(f=aa(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Dt(v,S,b,q)),(S=f>-1?v[f]:null)&&yo(S))}function yo(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Se])wt(v.i,f);else{var S=f.type,b=f.proxy;v.removeEventListener?v.removeEventListener(S,b,f.capture):v.detachEvent?v.detachEvent(qi(S),b):v.addListener&&v.removeListener&&v.removeListener(b),(S=aa(v))?(wt(S,f),S.h==0&&(S.src=null,v[Ht]=null)):pt(f)}}}function qi(f){return f in Ge?Ge[f]:Ge[f]="on"+f}function Xl(f,v){if(f.da)f=!0;else{v=new re(v,this);const S=f.listener,b=f.ha||f.src;f.fa&&yo(f),f=S.call(b,v)}return f}function aa(f){return f=f[Ht],f instanceof dt?f:null}var Zl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jl(f){return typeof f=="function"?f:(f[Zl]||(f[Zl]=function(v){return f.handleEvent(v)}),f[Zl])}function Me(){k.call(this),this.i=new dt(this),this.M=this,this.G=null}_(Me,k),Me.prototype[Se]=!0,Me.prototype.removeEventListener=function(f,v,S,b){go(this,f,v,S,b)};function Ye(f,v){var S,b=f.G;if(b)for(S=[];b;b=b.G)S.push(b);if(f=f.M,b=v.type||v,typeof v=="string")v=new O(v,f);else if(v instanceof O)v.target=v.target||f;else{var q=v;v=new O(b,f),ct(v,q)}q=!0;let Q,lt;if(S)for(lt=S.length-1;lt>=0;lt--)Q=v.g=S[lt],q=nr(Q,b,!0,v)&&q;if(Q=v.g=f,q=nr(Q,b,!0,v)&&q,q=nr(Q,b,!1,v)&&q,S)for(lt=0;lt<S.length;lt++)Q=v.g=S[lt],q=nr(Q,b,!1,v)&&q}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const S=f.g[v];for(let b=0;b<S.length;b++)pt(S[b]);delete f.g[v],f.h--}}this.G=null},Me.prototype.J=function(f,v,S,b){return this.i.add(String(f),v,!1,S,b)},Me.prototype.K=function(f,v,S,b){return this.i.add(String(f),v,!0,S,b)};function nr(f,v,S,b){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const lt=v[Q];if(lt&&!lt.da&&lt.capture==S){const Rt=lt.listener,Re=lt.ha||lt.src;lt.fa&&wt(f.i,lt),q=Rt.call(Re,b)!==!1&&q}}return q&&!b.defaultPrevented}function qm(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(f,v||0)}function yh(f){f.g=qm(()=>{f.g=null,f.i&&(f.i=!1,yh(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class wn extends k{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(f){k.call(this),this.h=f,this.g={}}_(oa,k);var tu=[];function eu(f){xt(f.g,function(v,S){this.g.hasOwnProperty(S)&&yo(v)},f),f.g={}}oa.prototype.N=function(){oa.Z.N.call(this),eu(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=u.JSON.stringify,Hm=u.JSON.parse,_h=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function vh(){}function Eh(){}var _i={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){O.call(this,"d")}_(rn,O);function ti(){O.call(this,"c")}_(ti,O);var Ce={},Th=null;function _o(){return Th=Th||new Me}Ce.Ia="serverreachability";function Sh(f){O.call(this,Ce.Ia,f)}_(Sh,O);function Hi(f){const v=_o();Ye(v,new Sh(v))}Ce.STAT_EVENT="statevent";function la(f,v){O.call(this,Ce.STAT_EVENT,f),this.stat=v}_(la,O);function Ve(f){const v=_o();Ye(v,new la(v,f))}Ce.Ja="timingevent";function Gi(f,v){O.call(this,Ce.Ja,f),this.size=v}_(Gi,O);function Yi(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function Gm(f,v,S,b,q,Q){f.info(function(){if(f.g)if(Q){var lt="",Rt=Q.split("&");for(let $t=0;$t<Rt.length;$t++){var Re=Rt[$t].split("=");if(Re.length>1){const ge=Re[0];Re=Re[1];const si=ge.split("_");lt=si.length>=2&&si[1]=="type"?lt+(ge+"="+Re+"&"):lt+(ge+"=redacted&")}}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+v+`
`+S+`
`+lt})}function wh(f,v,S,b,q,Q,lt){f.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+v+`
`+S+`
`+Q+" "+lt})}function Ki(f,v,S,b){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ym(f,S)+(b?" "+b:"")})}function ua(f,v){f.info(function(){return"TIMEOUT: "+v})}vi.prototype.info=function(){};function Ym(f,v){if(!f.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var S=Q[f];if(!(S.length<2)){var b=S[1];if(Array.isArray(b)&&!(b.length<1)){var q=b[0];if(q!="noop"&&q!="stop"&&q!="close")for(let lt=1;lt<b.length;lt++)b[lt]=""}}}}return ir(Q)}catch{return v}}var ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},iu;function ha(){}_(ha,vh),ha.prototype.g=function(){return new XMLHttpRequest},iu=new ha;function bs(f){return encodeURIComponent(String(f))}function Ah(f){var v=1;f=f.split(":");const S=[];for(;v>0&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function Ei(f,v,S,b){this.j=f,this.i=v,this.l=S,this.S=b||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Oe={},Ze={};function $i(f,v,S){f.M=1,f.A=fa(ke(v)),f.u=S,f.R=!0,vo(f,null)}function vo(f,v){f.F=Date.now(),Qi(f),f.B=ke(f.A);var S=f.B,b=f.S;Array.isArray(b)||(b=[String(b)]),wo(S.i,"t",b),f.C=0,S=f.j.L,f.h=new Ti,f.g=Bh(f.j,S?v:null,!f.u),f.P>0&&(f.O=new wn(m(f.Y,f,f.g),f.P)),v=f.V,S=f.g,b=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(tu[0]=q.toString()),q=tu);for(let Q=0;Q<q.length;Q++){const lt=pe(S,q[Q],b||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),Hi(),Gm(f.i,f.v,f.B,f.l,f.S,f.u)}Ei.prototype.ba=function(f){f=f.target;const v=this.O;v&&Ai(f)==3?v.j():this.Y(f)},Ei.prototype.Y=function(f){try{if(f==this.g)t:{const Rt=Ai(this.g),Re=this.g.ya(),$t=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Rt!=4||Re==7||(Re==8||$t<=0?Hi(3):Hi(2)),Wi(this);var v=this.g.ca();this.X=v;var S=Km(this);if(this.o=v==200,wh(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var b,q=this.g;if((b=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(b)){var Q=b;break e}}Q=null}if(f=Q)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,f);else{this.o=!1,this.m=3,Ve(12),Fn(this),ei(this);break t}}if(this.R){f=!0;let ge;for(;!this.K&&this.C<S.length;)if(ge=Ch(this,S),ge==Ze){Rt==4&&(this.m=4,Ve(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Oe){this.m=4,Ve(15),Ki(this.i,this.l,S,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,ge,null),Xi(this,ge);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||S.length!=0||this.h.h||(this.m=1,Ve(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,S,"[Invalid Chunked Response]"),Fn(this),ei(this);else if(S.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),_u(lt),lt.P=!0,Ve(11))}}else Ki(this.i,this.l,S,null),Xi(this,S);Rt==4&&Fn(this),this.o&&!this.K&&(Rt==4?Ph(this.j,this):(this.o=!1,Qi(this)))}else Rs(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Fn(this),ei(this)}}}catch{}};function Km(f){if(!bh(f))return f.g.la();const v=an(f.g);if(v==="")return"";let S="";const b=v.length,q=Ai(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Fn(f),ei(f),"";f.h.i=new u.TextDecoder}for(let Q=0;Q<b;Q++)f.h.h=!0,S+=f.h.i.decode(v[Q],{stream:!(q&&Q==b-1)});return v.length=0,f.h.g+=S,f.C=0,f.h.g}function bh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ch(f,v){var S=f.C,b=v.indexOf(`
`,S);return b==-1?Ze:(S=Number(v.substring(S,b)),isNaN(S)?Oe:(b+=1,b+S>v.length?Ze:(v=v.slice(b,b+S),f.C=b+S,v)))}Ei.prototype.cancel=function(){this.K=!0,Fn(this)};function Qi(f){f.T=Date.now()+f.H,Eo(f,f.H)}function Eo(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Yi(m(f.aa,f),v)}function Wi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ua(this.i,this.B),this.M!=2&&(Hi(),Ve(17)),Fn(this),this.m=2,ei(this)):Eo(this,this.T-f)};function ei(f){f.j.I==0||f.K||Ph(f.j,f)}function Fn(f){Wi(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,eu(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function Xi(f,v){try{var S=f.j;if(S.I!=0&&(S.g==f||Ji(S.h,f))){if(!f.L&&Ji(S.h,f)&&S.I==3){try{var b=S.Ba.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<f.F)Io(S),hr(S);else break t;va(S),Ve(18)}}else S.xa=q[1],0<S.xa-S.K&&q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Yi(m(S.Va,S),6e3));Zi(S.h)<=1&&S.ta&&(S.ta=void 0)}else rs(S,11)}else if((f.L||S.g==f)&&Io(S),!M(v))for(q=S.Ba.g.parse(v),v=0;v<q.length;v++){let $t=q[v];const ge=$t[0];if(!(ge<=S.K))if(S.K=ge,$t=$t[1],S.I==2)if($t[0]=="c"){S.M=$t[1],S.ba=$t[2];const si=$t[3];si!=null&&(S.ka=si,S.j.info("VER="+S.ka));const as=$t[4];as!=null&&(S.za=as,S.j.info("SVER="+S.za));const bi=$t[5];bi!=null&&typeof bi=="number"&&bi>0&&(b=1.5*bi,S.O=b,S.j.info("backChannelRequestTimeoutMs_="+b)),b=S;const Ci=f.g;if(Ci){const Ea=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Q=b.h;Q.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(au(Q,Q.h),Q.h=null))}if(b.G){const xo=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(b.wa=xo,Zt(b.J,b.G,xo))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-f.F,S.j.info("Handshake RTT: "+S.T+"ms")),b=S;var lt=f;if(b.na=Uh(b,b.L?b.ba:null,b.W),lt.L){ou(b.h,lt);var Rt=lt,Re=b.O;Re&&(Rt.H=Re),Rt.D&&(Wi(Rt),Qi(Rt)),b.g=lt}else Vh(b);S.i.length>0&&ss(S)}else $t[0]!="stop"&&$t[0]!="close"||rs(S,7);else S.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?rs(S,7):gu(S):$t[0]!="noop"&&S.l&&S.l.qa($t),S.A=0)}}Hi(4)}catch{}}var Pe=class{constructor(f,v){this.g=f,this.map=v}};function su(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ru(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zi(f){return f.h?1:f.g?f.g.size:0}function Ji(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function au(f,v){f.g?f.g.add(v):f.h=v}function ou(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}su.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function lu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.G);return v}return A(f.i)}var Rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(f,v){if(f){f=f.split("&");for(let S=0;S<f.length;S++){const b=f[S].indexOf("=");let q,Q=null;b>=0?(q=f[S].substring(0,b),Q=f[S].substring(b+1)):q=f[S],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function jn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof jn?(this.l=f.l,Je(this,f.j),this.o=f.o,this.g=f.g,sr(this,f.u),this.h=f.h,uu(this,Nh(f.i)),this.m=f.m):f&&(v=String(f).match(Rh))?(this.l=!1,Je(this,v[1]||"",!0),this.o=ts(v[2]||""),this.g=ts(v[3]||"",!0),sr(this,v[4]),this.h=ts(v[5]||"",!0),uu(this,v[6]||"",!0),this.m=ts(v[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}jn.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(da(v,So,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(da(v,So,!0),"@"),f.push(bs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&f.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(da(S,S.charAt(0)=="/"?cu:Ih,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",da(S,xh)),f.join("")},jn.prototype.resolve=function(f){const v=ke(this);let S=!!f.j;S?Je(v,f.j):S=!!f.o,S?v.o=f.o:S=!!f.g,S?v.g=f.g:S=f.u!=null;var b=f.h;if(S)sr(v,f.u);else if(S=!!f.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var q=v.h.lastIndexOf("/");q!=-1&&(b=v.h.slice(0,q+1)+b)}if(q=b,q==".."||q==".")b="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){b=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let lt=0;lt<q.length;){const Rt=q[lt++];Rt=="."?b&&lt==q.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),b&&lt==q.length&&Q.push("")):(Q.push(Rt),b=!0)}b=Q.join("/")}else b=q}return S?v.h=b:S=f.i.toString()!=="",S?uu(v,Nh(f.i)):S=!!f.m,S&&(v.m=f.m),v};function ke(f){return new jn(f)}function Je(f,v,S){f.j=S?ts(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function sr(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function uu(f,v,S){v instanceof ar?(f.i=v,Ao(f.i,f.l)):(S||(v=da(v,rr)),f.i=new ar(v,f.l))}function Zt(f,v,S){f.i.set(v,S)}function fa(f){return Zt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ts(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function da(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,xn),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var So=/[#\/\?@]/g,Ih=/[#\?:]/g,cu=/[#\?]/g,rr=/[#\?@]/g,xh=/#/g;function ar(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&To(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}e=ar.prototype,e.add=function(f,v){Dn(this),this.i=null,f=or(this,f);let S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Dh(f,v){Dn(f),v=or(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function hu(f,v){return Dn(f),v=or(f,v),f.g.has(v)}e.forEach=function(f,v){Dn(this),this.g.forEach(function(S,b){S.forEach(function(q){f.call(v,q,b,this)},this)},this)};function fu(f,v){Dn(f);let S=[];if(typeof v=="string")hu(f,v)&&(S=S.concat(f.g.get(or(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)S=S.concat(f[v]);return S}e.set=function(f,v){return Dn(this),this.i=null,f=or(this,f),hu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=fu(this,f),f.length>0?String(f[0]):v):v};function wo(f,v,S){Dh(f,v),S.length>0&&(f.i=null,f.g.set(or(f,v),A(S)),f.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let b=0;b<v.length;b++){var S=v[b];const q=bs(S);S=fu(this,S);for(let Q=0;Q<S.length;Q++){let lt=q;S[Q]!==""&&(lt+="="+bs(S[Q])),f.push(lt)}}return this.i=f.join("&")};function Nh(f){const v=new ar;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function or(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Ao(f,v){v&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(S,b){const q=b.toLowerCase();b!=q&&(Dh(this,b),wo(this,q,S))},f)),f.j=v}function Si(f,v){const S=new vi;if(u.Image){const b=new Image;b.onload=y(ni,S,"TestLoadImage: loaded",!0,v,b),b.onerror=y(ni,S,"TestLoadImage: error",!1,v,b),b.onabort=y(ni,S,"TestLoadImage: abort",!1,v,b),b.ontimeout=y(ni,S,"TestLoadImage: timeout",!1,v,b),u.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=f}else v(!1)}function du(f,v){const S=new vi,b=new AbortController,q=setTimeout(()=>{b.abort(),ni(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?ni(S,"TestPingServer: ok",!0,v):ni(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),ni(S,"TestPingServer: error",!1,v)})}function ni(f,v,S,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(S)}catch{}}function lr(){this.g=new _h}function es(f){this.i=f.Sb||null,this.h=f.ab||!1}_(es,vh),es.prototype.g=function(){return new ma(this.i,this.h)};function ma(f,v){Me.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ma,Me),e=ma.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,wi(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},e.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}e.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ur(this):wi(this),this.readyState==3&&bo(this)}},e.Oa=function(f){this.g&&(this.response=this.responseText=f,ur(this))},e.Na=function(f){this.g&&(this.response=f,ur(this))},e.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.B=null,wi(f)}e.setRequestHeader=function(f,v){this.A.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function wi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ii(f){let v="";return xt(f,function(S,b){v+=b,v+=":",v+=S,v+=`\r
`}),v}function pa(f,v,S){t:{for(b in S){var b=!1;break t}b=!0}b||(S=ii(S),typeof f=="string"?S!=null&&bs(S):Zt(f,v,S))}function ee(f){Me.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ee,Me);var ns=/^https?$/i,mu=["POST","PUT"];e=ee.prototype,e.Fa=function(f){this.H=f},e.ea=function(f,v,S,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():iu.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Q){ga(this,Q);return}if(f=S||"",S=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)S.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())S.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(S.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(mu,v,void 0)>=0)||b||q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of S)this.g.setRequestHeader(Q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){ga(this,Q)}};function ga(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,pu(f),Cs(f)}function pu(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ye(this,"complete"),Ye(this,"abort"),Cs(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),ee.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ya(this):this.Xa())},e.Xa=function(){ya(this)};function ya(f){if(f.h&&typeof o<"u"){if(f.v&&Ai(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ye(f,"readystatechange"),Ai(f)==4){f.h=!1;try{const Q=f.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var S;if(!(S=v)){var b;if(b=Q===0){let lt=String(f.D).match(Rh)[1]||null;!lt&&u.self&&u.self.location&&(lt=u.self.location.protocol.slice(0,-1)),b=!ns.test(lt?lt.toLowerCase():"")}S=b}if(S)Ye(f,"complete"),Ye(f,"success");else{f.o=6;try{var q=Ai(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",pu(f)}}finally{Cs(f)}}}}function Cs(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const S=f.g;f.g=null,v||Ye(f,"ready");try{S.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ai(f){return f.g?f.g.readyState:0}e.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Hm(v)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(f){const v={};f=(f.g&&Ai(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<f.length;b++){if(M(f[b]))continue;var S=Ah(f[b]);const q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Q=v[q]||[];v[q]=Q,Q.push(S)}Lt(v,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function cr(f){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,f),this.Za=is("retryDelaySeedMs",1e4,f),this.Ta=is("forwardChannelMaxRetries",2,f),this.va=is("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new su(f&&f.concurrentRequestLimit),this.Ba=new lr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=cr.prototype,e.ka=8,e.I=1,e.connect=function(f,v,S,b){Ve(0),this.W=f,this.H=v||{},S&&b!==void 0&&(this.H.OSID=S,this.H.OAID=b),this.F=this.X,this.J=Uh(this,null,this.W),ss(this)};function gu(f){if(Co(f),f.I==3){var v=f.V++,S=ke(f.J);if(Zt(S,"SID",f.M),Zt(S,"RID",v),Zt(S,"TYPE","terminate"),_a(f,S),v=new Ei(f,f.j,v),v.M=2,v.A=fa(ke(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.A,S=!0),S||(v.g=Bh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Qi(v)}Lh(f)}function hr(f){f.g&&(_u(f),f.g.cancel(),f.g=null)}function Co(f){hr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Io(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ss(f){if(!ru(f.h)&&!f.m){f.m=!0;var v=f.Ea;rt||C(),ut||(rt(),ut=!0),I.add(v,f),f.D=0}}function Ro(f,v){return Zi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Yi(m(f.Ea,f,v),kh(f,f.D)),f.D++,!0)}e.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new Ei(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ct(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,S=0;S<this.i.length;S++){e:{var b=this.i[S];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(v+=b,v>4096){v=S;break t}if(v===4096||S===this.i.length-1){v=S+1;break t}}v=1e3}else v=1e3;v=Mh(this,q,v),S=ke(this.J),Zt(S,"RID",f),Zt(S,"CVER",22),this.G&&Zt(S,"X-HTTP-Session-Id",this.G),_a(this,S),Q&&(this.R?v="headers="+bs(ii(Q))+"&"+v:this.u&&pa(S,this.u,Q)),au(this.h,q),this.Ra&&Zt(S,"TYPE","init"),this.S?(Zt(S,"$req",v),Zt(S,"SID","null"),q.U=!0,$i(q,S,null)):$i(q,S,v),this.I=2}}else this.I==3&&(f?yu(this,f):this.i.length==0||ru(this.h)||yu(this))};function yu(f,v){var S;v?S=v.l:S=f.V++;const b=ke(f.J);Zt(b,"SID",f.M),Zt(b,"RID",S),Zt(b,"AID",f.K),_a(f,b),f.u&&f.o&&pa(b,f.u,f.o),S=new Ei(f,f.j,S,f.D+1),f.u===null&&(S.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Mh(f,S,1e3),S.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),au(f.h,S),$i(S,b,v)}function _a(f,v){f.H&&xt(f.H,function(S,b){Zt(v,b,S)}),f.l&&xt({},function(S,b){Zt(v,b,S)})}function Mh(f,v,S){S=Math.min(f.i.length,S);const b=f.l?m(f.l.Ka,f.l,f):null;t:{var q=f.i;let Rt=-1;for(;;){const Re=["count="+S];Rt==-1?S>0?(Rt=q[0].g,Re.push("ofs="+Rt)):Rt=0:Re.push("ofs="+Rt);let $t=!0;for(let ge=0;ge<S;ge++){var Q=q[ge].g;const si=q[ge].map;if(Q-=Rt,Q<0)Rt=Math.max(0,q[ge].g-100),$t=!1;else try{Q="req"+Q+"_"||"";try{var lt=si instanceof Map?si:Object.entries(si);for(const[as,bi]of lt){let Ci=bi;h(bi)&&(Ci=ir(bi)),Re.push(Q+as+"="+encodeURIComponent(Ci))}}catch(as){throw Re.push(Q+"type="+encodeURIComponent("_badmap")),as}}catch{b&&b(si)}}if($t){lt=Re.join("&");break t}}lt=void 0}return f=f.i.splice(0,S),v.G=f,lt}function Vh(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;rt||C(),ut||(rt(),ut=!0),I.add(v,f),f.A=0}}function va(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Yi(m(f.Da,f),kh(f,f.A)),f.A++,!0)}e.Da=function(){if(this.v=null,Oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Yi(m(this.Wa,this),f)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),hr(this),Oh(this))};function _u(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Oh(f){f.g=new Ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=ke(f.na);Zt(v,"RID","rpc"),Zt(v,"SID",f.M),Zt(v,"AID",f.K),Zt(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&Zt(v,"TO",f.ia),Zt(v,"TYPE","xmlhttp"),_a(f,v),f.u&&f.o&&pa(v,f.u,f.o),f.O&&(f.g.H=f.O);var S=f.g;f=f.ba,S.M=1,S.A=fa(ke(v)),S.u=null,S.R=!0,vo(S,f)}e.Va=function(){this.C!=null&&(this.C=null,hr(this),va(this),Ve(19))};function Io(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Ph(f,v){var S=null;if(f.g==v){Io(f),_u(f),f.g=null;var b=2}else if(Ji(f.h,v))S=v.G,ou(f.h,v),b=1;else return;if(f.I!=0){if(v.o)if(b==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var q=f.D;b=_o(),Ye(b,new Gi(b,S)),ss(f)}else Vh(f);else if(q=v.m,q==3||q==0&&v.X>0||!(b==1&&Ro(f,v)||b==2&&va(f)))switch(S&&S.length>0&&(v=f.h,v.i=v.i.concat(S)),q){case 1:rs(f,5);break;case 4:rs(f,10);break;case 3:rs(f,6);break;default:rs(f,2)}}}function kh(f,v){let S=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(S*=2),S*v}function rs(f,v){if(f.j.info("Error code "+v),v==2){var S=m(f.bb,f),b=f.Ua;const q=!b;b=new jn(b||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Je(b,"https"),fa(b),q?Si(b.toString(),S):du(b.toString(),S)}else Ve(2);f.I=0,f.l&&f.l.pa(v),Lh(f),Co(f)}e.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Lh(f){if(f.I=0,f.ja=[],f.l){const v=lu(f.h);(v.length!=0||f.i.length!=0)&&(R(f.ja,v),R(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function Uh(f,v,S){var b=S instanceof jn?ke(S):new jn(S);if(b.g!="")v&&(b.g=v+"."+b.g),sr(b,b.u);else{var q=u.location;b=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new jn(null);b&&Je(Q,b),v&&(Q.g=v),q&&sr(Q,q),S&&(Q.h=S),b=Q}return S=f.G,v=f.wa,S&&v&&Zt(b,S,v),Zt(b,"VER",f.ka),_a(f,b),b}function Bh(f,v,S){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new ee(new es({ab:S})):new ee(f.ma),v.Fa(f.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zh(){}e=zh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function fr(){}fr.prototype.g=function(f,v){return new An(f,v)};function An(f,v){Me.call(this),this.g=new cr(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!M(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Is(this)}_(An,Me),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){gu(this.g)},An.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.v&&(S={},S.__data__=ir(f),f=S);v.i.push(new Pe(v.Ya++,f)),v.I==3&&ss(v)},An.prototype.N=function(){this.g.l=null,delete this.j,gu(this.g),delete this.g,An.Z.N.call(this)};function Fh(f){rn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const S in v){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}_(Fh,rn);function jh(){ti.call(this),this.status=1}_(jh,ti);function Is(f){this.g=f}_(Is,zh),Is.prototype.ra=function(){Ye(this.g,"a")},Is.prototype.qa=function(f){Ye(this.g,new Fh(f))},Is.prototype.pa=function(f){Ye(this.g,new jh)},Is.prototype.oa=function(){Ye(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,cD=function(){return new fr},uD=function(){return _o()},lD=Ce,b_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,md=ca,nu.COMPLETE="complete",oD=nu,Eh.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Me.prototype.listen=Me.prototype.J,dc=Eh,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,aD=ee}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Yl="12.8.0";function jB(e){Yl=e}const to=new fm("@firebase/firestore");function al(){return to.logLevel}function ft(e,...t){if(to.logLevel<=qt.DEBUG){const n=t.map(_E);to.debug(`Firestore (${Yl}): ${e}`,...n)}}function Zs(e,...t){if(to.logLevel<=qt.ERROR){const n=t.map(_E);to.error(`Firestore (${Yl}): ${e}`,...n)}}function xl(e,...t){if(to.logLevel<=qt.WARN){const n=t.map(_E);to.warn(`Firestore (${Yl}): ${e}`,...n)}}function _E(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function St(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,hD(e,i,n)}function hD(e,t,n){let i=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zs(i),new Error(i)}function Xt(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||hD(t,a,i)}function Ct(e,t){return e}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends tr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class fD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class HB{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GB{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}}),0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string",31837,{l:i}),new fD(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class YB{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KB{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new YB(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $B{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kv(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QB(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class vE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=QB(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<n&&(i+=t.charAt(a[o]%62))}return i}}function zt(e,t){return e<t?-1:e>t?1:0}function C_(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),o=t.charAt(i);if(a!==o)return by(a)===by(o)?zt(a,o):by(a)?1:-1}return zt(e.length,t.length)}const WB=55296,XB=57343;function by(e){const t=e.charCodeAt(0);return t>=WB&&t<=XB}function Dl(e,t,n){return e.length===t.length&&e.every(((i,a)=>n(i,t[a])))}const s1="__name__";class hs{constructor(t,n,i){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&St(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const o=hs.compareSegments(t.get(a),n.get(a));if(o!==0)return o}return zt(t.length,n.length)}static compareSegments(t,n){const i=hs.isNumericId(t),a=hs.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?hs.extractNumericId(t).compare(hs.extractNumericId(n)):C_(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class ue extends hs{construct(t,n,i){return new ue(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const ZB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends hs{construct(t,n,i){return new mn(t,n,i)}static isValidIdentifier(t){return ZB.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s1}static keyField(){return new mn([s1])}static fromServerFormat(t){const n=[];let i="",a=0;const o=()=>{if(i.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(n)}static emptyPath(){return new mn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}function dD(e,t,n){if(!n)throw new ht(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JB(e,t,n,i){if(t===!0&&i===!0)throw new ht(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function r1(e){if(!vt.isDocumentKey(e))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function a1(e){if(vt.isDocumentKey(e))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function He(e,t){const n={typeString:e};return t&&(n.value=t),n}function fh(e,t){if(!mD(e))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const u=e[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ht(et.INVALID_ARGUMENT,n);return!0}const o1=-62135596800,l1=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*l1);return new de(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o1)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fh(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:He("string",de._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new de(0,0))}static max(){return new At(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yc=-1;function tz(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=At.fromTimestamp(i===1e9?new de(n+1,0):new de(n,i));return new Qr(a,vt.empty(),t)}function ez(e){return new Qr(e.readTime,e.key,Yc)}class Qr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Qr(At.min(),vt.empty(),Yc)}static max(){return new Qr(At.max(),vt.empty(),Yc)}}function nz(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}const iz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Kl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==iz)throw e;ft("LocalStore","Unexpectedly lost primary lease")}class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,i)=>{n(t)}))}static reject(t){return new st(((n,i)=>{i(t)}))}static waitFor(t){return new st(((n,i)=>{let a=0,o=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&n()}),(d=>i(d)))})),u=!0,o===a&&n()}))}static or(t){let n=st.resolve(!1);for(const i of t)n=n.next((a=>a?st.resolve(a):i()));return n}static forEach(t,n){const i=[];return t.forEach(((a,o)=>{i.push(n.call(this,a,o))})),this.waitFor(i)}static mapArray(t,n){return new st(((i,a)=>{const o=t.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(t[m]).next((y=>{u[m]=y,++h,h===o&&i(u)}),(y=>a(y)))}}))}static doWhile(t,n){return new st(((i,a)=>{const o=()=>{t()===!0?n().next((()=>{o()}),a):i()};o()}))}}function rz(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(e){return e.name==="IndexedDbTransactionError"}class Am{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Am.ce=-1;const EE=-1;function bm(e){return e==null}function Hd(e){return e===0&&1/e==-1/0}function az(e){return typeof e=="number"&&Number.isInteger(e)&&!Hd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const pD="";function oz(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=u1(t)),t=lz(e.get(n),t);return u1(t)}function lz(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const o=e.charAt(a);switch(o){case"\0":n+="";break;case pD:n+="";break;default:n+=o}}return n}function u1(e){return e+pD+""}function c1(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ia(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Te{constructor(t,n){this.comparator=t,this.root=n||fn.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ed(this.root,t,this.comparator,!0)}}class ed{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,n,i,a,o){this.key=t,this.value=n,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=o??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,o){return new fn(t??this.key,n??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,n,i),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,i,a,o){return this}insert(t,n,i){return new fn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(t){return new h1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new We(this.comparator);return n.data=t,n}}class h1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Xn([])}unionWith(t){let n=new We(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Dl(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}class yD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yD("Invalid base64 string: "+o):o}})(t);return new pn(n)}static fromUint8Array(t){const n=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(t);return new pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const uz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(e){if(Xt(!!e,39018),typeof e=="string"){let t=0;const n=uz.exec(e);if(Xt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:De(e.seconds),nanos:De(e.nanos)}}function De(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Xr(e){return typeof e=="string"?pn.fromBase64String(e):pn.fromUint8Array(e)}const _D="server_timestamp",vD="__type__",ED="__previous_value__",TD="__local_write_time__";function TE(e){return(e?.mapValue?.fields||{})[vD]?.stringValue===_D}function Cm(e){const t=e.mapValue.fields[ED];return TE(t)?Cm(t):t}function Kc(e){const t=Wr(e.mapValue.fields[TD].timestampValue);return new de(t.seconds,t.nanos)}class cz{constructor(t,n,i,a,o,u,h,d,m,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const Gd="(default)";class $c{constructor(t,n){this.projectId=t,this.database=n||Gd}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===Gd}isEqual(t){return t instanceof $c&&t.projectId===this.projectId&&t.database===this.database}}function hz(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(e.options.projectId,t)}const SD="__type__",fz="__max__",nd={mapValue:{}},wD="__vector__",Yd="value";function Zr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?TE(e)?4:mz(e)?9007199254740991:dz(e)?10:11:St(28295,{value:e})}function Ts(e,t){if(e===t)return!0;const n=Zr(e);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kc(e).isEqual(Kc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Wr(a.timestampValue),h=Wr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,o){return Xr(a.bytesValue).isEqual(Xr(o.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,o){return De(a.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(a.geoPointValue.longitude)===De(o.geoPointValue.longitude)})(e,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return De(a.integerValue)===De(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=De(a.doubleValue),h=De(o.doubleValue);return u===h?Hd(u)===Hd(h):isNaN(u)&&isNaN(h)}return!1})(e,t);case 9:return Dl(e.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(c1(u)!==c1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ts(u[d],h[d])))return!1;return!0})(e,t);default:return St(52216,{left:e})}}function Qc(e,t){return(e.values||[]).find((n=>Ts(n,t)))!==void 0}function Nl(e,t){if(e===t)return 0;const n=Zr(e),i=Zr(t);if(n!==i)return zt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=De(o.integerValue||o.doubleValue),d=De(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(e,t);case 3:return f1(e.timestampValue,t.timestampValue);case 4:return f1(Kc(e),Kc(t));case 5:return C_(e.stringValue,t.stringValue);case 6:return(function(o,u){const h=Xr(o),d=Xr(u);return h.compareTo(d)})(e.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=zt(h[m],d[m]);if(y!==0)return y}return zt(h.length,d.length)})(e.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=zt(De(o.latitude),De(u.latitude));return h!==0?h:zt(De(o.longitude),De(u.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return d1(e.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},m=h[Yd]?.arrayValue,y=d[Yd]?.arrayValue,_=zt(m?.values?.length||0,y?.values?.length||0);return _!==0?_:d1(m,y)})(e.mapValue,t.mapValue);case 11:return(function(o,u){if(o===nd.mapValue&&u===nd.mapValue)return 0;if(o===nd.mapValue)return 1;if(u===nd.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const E=C_(d[_],y[_]);if(E!==0)return E;const A=Nl(h[d[_]],m[y[_]]);if(A!==0)return A}return zt(d.length,y.length)})(e.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function f1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=Wr(e),i=Wr(t),a=zt(n.seconds,i.seconds);return a!==0?a:zt(n.nanos,i.nanos)}function d1(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const o=Nl(n[a],i[a]);if(o)return o}return zt(n.length,i.length)}function Ml(e){return R_(e)}function R_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=Wr(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Xr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",a=!0;for(const o of n.values||[])a?a=!1:i+=",",i+=R_(o);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${R_(n.fields[u])}`;return a+"}"})(e.mapValue):St(61005,{value:e})}function pd(e){switch(Zr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cm(e);return t?16+pd(t):16;case 5:return 2*e.stringValue.length;case 6:return Xr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+pd(o)),0)})(e.arrayValue);case 10:case 11:return(function(i){let a=0;return ia(i.fields,((o,u)=>{a+=o.length+pd(u)})),a})(e.mapValue);default:throw St(13486,{value:e})}}function m1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function I_(e){return!!e&&"integerValue"in e}function SE(e){return!!e&&"arrayValue"in e}function p1(e){return!!e&&"nullValue"in e}function g1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gd(e){return!!e&&"mapValue"in e}function dz(e){return(e?.mapValue?.fields||{})[SD]?.stringValue===wD}function Rc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ia(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=Rc(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rc(e.arrayValue.values[n]);return t}return{...e}}function mz(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fz}class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!gd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rc(n)}setAll(t){let n=mn.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Rc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,a)}delete(t){const n=this.field(t.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ts(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];gd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){ia(n,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Ln(Rc(this.value))}}function AD(e){const t=[];return ia(e.fields,((n,i)=>{const a=new mn([n]);if(gd(i)){const o=AD(i.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)})),new Xn(t)}class Tn{constructor(t,n,i,a,o,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Tn(t,0,At.min(),At.min(),At.min(),Ln.empty(),0)}static newFoundDocument(t,n,i,a){return new Tn(t,1,n,At.min(),i,a,0)}static newNoDocument(t,n){return new Tn(t,2,n,At.min(),At.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new Tn(t,3,n,At.min(),At.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kd{constructor(t,n){this.position=t,this.inclusive=n}}function y1(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const o=t[a],u=e.position[a];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(u.referenceValue),n.key):i=Nl(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function _1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ts(e.position[n],t.position[n]))return!1;return!0}class Wc{constructor(t,n="asc"){this.field=t,this.dir=n}}function pz(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bD{}class qe extends bD{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new yz(t,n,i):n==="array-contains"?new Ez(t,i):n==="in"?new Tz(t,i):n==="not-in"?new Sz(t,i):n==="array-contains-any"?new wz(t,i):new qe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new _z(t,i):new vz(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends bD{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Fi(t,n)}matches(t){return CD(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CD(e){return e.op==="and"}function RD(e){return gz(e)&&CD(e)}function gz(e){for(const t of e.filters)if(t instanceof Fi)return!1;return!0}function x_(e){if(e instanceof qe)return e.field.canonicalString()+e.op.toString()+Ml(e.value);if(RD(e))return e.filters.map((t=>x_(t))).join(",");{const t=e.filters.map((n=>x_(n))).join(",");return`${e.op}(${t})`}}function ID(e,t){return e instanceof qe?(function(i,a){return a instanceof qe&&i.op===a.op&&i.field.isEqual(a.field)&&Ts(i.value,a.value)})(e,t):e instanceof Fi?(function(i,a){return a instanceof Fi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,u,h)=>o&&ID(u,a.filters[h])),!0):!1})(e,t):void St(19439)}function xD(e){return e instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ml(n.value)}`})(e):e instanceof Fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(xD).join(" ,")+"}"})(e):"Filter"}class yz extends qe{constructor(t,n,i){super(t,n,i),this.key=vt.fromName(i.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _z extends qe{constructor(t,n){super(t,"in",n),this.keys=DD("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class vz extends qe{constructor(t,n){super(t,"not-in",n),this.keys=DD("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function DD(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class Ez extends qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return SE(n)&&Qc(n.arrayValue,this.value)}}class Tz extends qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class Sz extends qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qc(this.value.arrayValue,n)}}class wz extends qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!SE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Qc(this.value.arrayValue,i)))}}class Az{constructor(t,n=null,i=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function v1(e,t=null,n=[],i=[],a=null,o=null,u=null){return new Az(e,t,n,i,a,o,u)}function wE(e){const t=Ct(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>x_(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),bm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Ml(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Ml(i))).join(",")),t.Te=n}return t.Te}function AE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pz(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ID(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_1(e.startAt,t.startAt)&&_1(e.endAt,t.endAt)}function D_(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Ql{constructor(t,n=null,i=[],a=[],o=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bz(e,t,n,i,a,o,u,h){return new Ql(e,t,n,i,a,o,u,h)}function Rm(e){return new Ql(e)}function E1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Cz(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function ND(e){return e.collectionGroup!==null}function Ic(e){const t=Ct(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new We(mn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Wc(o,i))})),n.has(mn.keyField().canonicalString())||t.Ie.push(new Wc(mn.keyField(),i))}return t.Ie}function gs(e){const t=Ct(e);return t.Ee||(t.Ee=Rz(t,Ic(e))),t.Ee}function Rz(e,t){if(e.limitType==="F")return v1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Wc(a.field,o)}));const n=e.endAt?new Kd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Kd(e.startAt.position,e.startAt.inclusive):null;return v1(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function N_(e,t){const n=e.filters.concat([t]);return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Iz(e,t){const n=e.explicitOrderBy.concat([t]);return new Ql(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function M_(e,t,n){return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Im(e,t){return AE(gs(e),gs(t))&&e.limitType===t.limitType}function MD(e){return`${wE(gs(e))}|lt:${e.limitType}`}function ol(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>xD(a))).join(", ")}]`),bm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Ml(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Ml(a))).join(",")),`Target(${i})`})(gs(e))}; limitType=${e.limitType})`}function xm(e,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(e,t)&&(function(i,a){for(const o of Ic(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(e,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(e,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,d){const m=y1(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,Ic(i),a)||i.endAt&&!(function(u,h,d){const m=y1(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,Ic(i),a))})(e,t)}function xz(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function VD(e){return(t,n)=>{let i=!1;for(const a of Ic(e)){const o=Dz(a,t,n);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function Dz(e,t,n){const i=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Nl(d,m):St(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:e.dir})}}class uo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,((n,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return gD(this.inner)}size(){return this.innerSize}}const Nz=new Te(vt.comparator);function Js(){return Nz}const OD=new Te(vt.comparator);function mc(...e){let t=OD;for(const n of e)t=t.insert(n.key,n);return t}function PD(e){let t=OD;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function Ga(){return xc()}function kD(){return xc()}function xc(){return new uo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Mz=new Te(vt.comparator),Vz=new We(vt.comparator);function Ft(...e){let t=Vz;for(const n of e)t=t.add(n);return t}const Oz=new We(zt);function Pz(){return Oz}function bE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(t)?"-0":t}}function LD(e){return{integerValue:""+e}}function UD(e,t){return az(t)?LD(t):bE(e,t)}class Dm{constructor(){this._=void 0}}function kz(e,t,n){return e instanceof Xc?(function(a,o){const u={fields:{[vD]:{stringValue:_D},[TD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&TE(o)&&(o=Cm(o)),o&&(u.fields[ED]=o),{mapValue:u}})(n,t):e instanceof Vl?zD(e,t):e instanceof Ol?FD(e,t):(function(a,o){const u=BD(a,o),h=T1(u)+T1(a.Ae);return I_(u)&&I_(a.Ae)?LD(h):bE(a.serializer,h)})(e,t)}function Lz(e,t,n){return e instanceof Vl?zD(e,t):e instanceof Ol?FD(e,t):n}function BD(e,t){return e instanceof Zc?(function(i){return I_(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Xc extends Dm{}class Vl extends Dm{constructor(t){super(),this.elements=t}}function zD(e,t){const n=jD(t);for(const i of e.elements)n.some((a=>Ts(a,i)))||n.push(i);return{arrayValue:{values:n}}}class Ol extends Dm{constructor(t){super(),this.elements=t}}function FD(e,t){let n=jD(t);for(const i of e.elements)n=n.filter((a=>!Ts(a,i)));return{arrayValue:{values:n}}}class Zc extends Dm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function T1(e){return De(e.integerValue||e.doubleValue)}function jD(e){return SE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Nm{constructor(t,n){this.field=t,this.transform=n}}function Uz(e,t){return e.field.isEqual(t.field)&&(function(i,a){return i instanceof Vl&&a instanceof Vl||i instanceof Ol&&a instanceof Ol?Dl(i.elements,a.elements,Ts):i instanceof Zc&&a instanceof Zc?Ts(i.Ae,a.Ae):i instanceof Xc&&a instanceof Xc})(e.transform,t.transform)}class Bz{constructor(t,n){this.version=t,this.transformResults=n}}class Li{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mm{}function qD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new CE(e.key,Li.none()):new dh(e.key,e.data,Li.none());{const n=e.data,i=Ln.empty();let a=new We(mn.comparator);for(let o of t.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new sa(e.key,i,new Xn(a.toArray()),Li.none())}}function zz(e,t,n){e instanceof dh?(function(a,o,u){const h=a.value.clone(),d=w1(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(e,t,n):e instanceof sa?(function(a,o,u){if(!yd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=w1(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(HD(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(e,t,n):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,n)}function Dc(e,t,n,i){return e instanceof dh?(function(o,u,h,d){if(!yd(o.precondition,u))return h;const m=o.value.clone(),y=A1(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(e,t,n,i):e instanceof sa?(function(o,u,h,d){if(!yd(o.precondition,u))return h;const m=A1(o.fieldTransforms,d,u),y=u.data;return y.setAll(HD(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(e,t,n,i):(function(o,u,h){return yd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(e,t,n)}function Fz(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),o=BD(i.transform,a||null);o!=null&&(n===null&&(n=Ln.empty()),n.set(i.field,o))}return n||null}function S1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Dl(i,a,((o,u)=>Uz(o,u)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dh extends Mm{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sa extends Mm{constructor(t,n,i,a,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HD(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function w1(e,t,n){const i=new Map;Xt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const o=e[a],u=o.transform,h=t.data.field(o.field);i.set(o.field,Lz(u,h,n[a]))}return i}function A1(e,t,n){const i=new Map;for(const a of e){const o=a.transform,u=n.data.field(a.field);i.set(a.field,kz(o,u,t))}return i}class CE extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jz extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qz{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&zz(o,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Dc(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Dc(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=kD();return this.mutations.forEach((a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=qD(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Dl(this.mutations,t.mutations,((n,i)=>S1(n,i)))&&Dl(this.baseMutations,t.baseMutations,((n,i)=>S1(n,i)))}}class RE{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){Xt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return Mz})();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new RE(t,n,i,a)}}class Hz{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gz{constructor(t,n){this.count=t,this.unchangedNames=n}}var Fe,Gt;function Yz(e){switch(e){case et.OK:return St(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function GD(e){if(e===void 0)return Zs("GRPC error has no .code"),et.UNKNOWN;switch(e){case Fe.OK:return et.OK;case Fe.CANCELLED:return et.CANCELLED;case Fe.UNKNOWN:return et.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return et.INTERNAL;case Fe.UNAVAILABLE:return et.UNAVAILABLE;case Fe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Fe.NOT_FOUND:return et.NOT_FOUND;case Fe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Fe.ABORTED:return et.ABORTED;case Fe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Fe.DATA_LOSS:return et.DATA_LOSS;default:return St(39323,{code:e})}}(Gt=Fe||(Fe={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function Kz(){return new TextEncoder}const $z=new Fr([4294967295,4294967295],0);function b1(e){const t=Kz().encode(e),n=new rD;return n.update(t),new Uint8Array(n.digest())}function C1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Fr([n,i],0),new Fr([a,o],0)]}class IE{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(i<0)throw new pc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Fr.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(Fr.fromNumber(i)));return a.compare($z)===1&&(a=new Fr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=b1(t),[i,a]=C1(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);if(!this.we(u))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new IE(o,a,n);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const n=b1(t),[i,a]=C1(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,a,o);this.be(u)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vm{constructor(t,n,i,a,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,mh.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Vm(At.min(),a,new Te(zt),Js(),Ft())}}class mh{constructor(t,n,i,a,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new mh(i,n,Ft(),Ft(),Ft())}}class _d{constructor(t,n,i,a){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=a}}class YD{constructor(t,n){this.targetId=t,this.Ce=n}}class KD{constructor(t,n,i=pn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class R1{constructor(){this.ve=0,this.Fe=I1(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),n=Ft(),i=Ft();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:St(38017,{changeType:o})}})),new mh(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=I1()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qz{constructor(t){this.Ge=t,this.ze=new Map,this.je=Js(),this.He=id(),this.Je=id(),this.Ze=new Te(zt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const o=a.target;if(D_(o))if(i===0){const u=new vt(o.path);this.et(n,u,Tn.newNoDocument(u,At.min()))}else Xt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Xr(i).toUint8Array()}catch(d){if(d instanceof yD)return xl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new IE(u,a,o)}catch(d){return xl(d instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(n,o,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&D_(h.target)){const d=new vt(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,Tn.newNoDocument(d,t))}o.Be&&(n.set(u,o.ke()),o.Ke())}}));let i=Ft();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const a=new Vm(t,n,this.Ze,this.je,i);return this.je=Js(),this.He=id(),this.Je=id(),this.Ze=new Te(zt),a}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new R1,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new We(zt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new We(zt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new R1),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function id(){return new Te(vt.comparator)}function I1(){return new Te(vt.comparator)}const Wz={asc:"ASCENDING",desc:"DESCENDING"},Xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zz={and:"AND",or:"OR"};class Jz{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function V_(e,t){return e.useProto3Json||bm(t)?t:{value:t}}function $d(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $D(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tF(e,t){return $d(e,t.toTimestamp())}function ys(e){return Xt(!!e,49232),At.fromTimestamp((function(n){const i=Wr(n);return new de(i.seconds,i.nanos)})(e))}function xE(e,t){return O_(e,t).canonicalString()}function O_(e,t){const n=(function(a){return new ue(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function QD(e){const t=ue.fromString(e);return Xt(tN(t),10190,{key:t.toString()}),t}function P_(e,t){return xE(e.databaseId,t.path)}function Cy(e,t){const n=QD(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(XD(n))}function WD(e,t){return xE(e.databaseId,t)}function eF(e){const t=QD(e);return t.length===4?ue.emptyPath():XD(t)}function k_(e){return new ue(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function XD(e){return Xt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function x1(e,t,n){return{name:P_(e,t),fields:n.value.mapValue.fields}}function nF(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:St(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Xt(y===void 0||typeof y=="string",58123),pn.fromBase64String(y||"")):(Xt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),pn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?et.UNKNOWN:GD(m.code);return new ht(y,m.message||"")})(u);n=new KD(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Cy(e,i.document.name),o=ys(i.document.updateTime),u=i.document.createTime?ys(i.document.createTime):At.min(),h=new Ln({mapValue:{fields:i.document.fields}}),d=Tn.newFoundDocument(a,o,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new _d(m,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Cy(e,i.document),o=i.readTime?ys(i.readTime):At.min(),u=Tn.newNoDocument(a,o),h=i.removedTargetIds||[];n=new _d([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Cy(e,i.document),o=i.removedTargetIds||[];n=new _d([],o,a,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new Gz(a,o),h=i.targetId;n=new YD(h,u)}}return n}function iF(e,t){let n;if(t instanceof dh)n={update:x1(e,t.key,t.value)};else if(t instanceof CE)n={delete:P_(e,t.key)};else if(t instanceof sa)n={update:x1(e,t.key,t.data),updateMask:fF(t.fieldMask)};else{if(!(t instanceof jz))return St(16599,{dt:t.type});n={verify:P_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:tF(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(e,t.precondition)),n}function sF(e,t){return e&&e.length>0?(Xt(t!==void 0,14353),e.map((n=>(function(a,o){let u=a.updateTime?ys(a.updateTime):ys(o);return u.isEqual(At.min())&&(u=ys(o)),new Bz(u,a.transformResults||[])})(n,t)))):[]}function rF(e,t){return{documents:[WD(e,t.path)]}}function aF(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=WD(e,a);const o=(function(m){if(m.length!==0)return JD(Fi.create(m,"and"))})(t.filters);o&&(n.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(E){return{field:ll(E.field),direction:uF(E.dir)}})(y)))})(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=V_(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:n,parent:a}}function oF(e){let t=eF(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Xt(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];n.where&&(o=(function(_){const E=ZD(_);return E instanceof Fi&&RD(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((E=>(function(R){return new Wc(ul(R.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,bm(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(_){const E=!!_.before,A=_.values||[];return new Kd(A,E)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const E=!_.before,A=_.values||[];return new Kd(A,E)})(n.endAt)),bz(t,a,u,o,h,"F",d,m)}function lF(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ZD(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ul(n.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(n.unaryFilter.field);return qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ul(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(n.unaryFilter.field);return qe.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(e):e.fieldFilter!==void 0?(function(n){return qe.create(ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Fi.create(n.compositeFilter.filters.map((i=>ZD(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(e):St(30097,{filter:e})}function uF(e){return Wz[e]}function cF(e){return Xz[e]}function hF(e){return Zz[e]}function ll(e){return{fieldPath:e.canonicalString()}}function ul(e){return mn.fromServerFormat(e.fieldPath)}function JD(e){return e instanceof qe?(function(n){if(n.op==="=="){if(g1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(p1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(p1(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:cF(n.op),value:n.value}}})(e):e instanceof Fi?(function(n){const i=n.getFilters().map((a=>JD(a)));return i.length===1?i[0]:{compositeFilter:{op:hF(n.op),filters:i}}})(e):St(54877,{filter:e})}function fF(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function tN(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function eN(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Lr{constructor(t,n,i,a,o=At.min(),u=At.min(),h=pn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class dF{constructor(t){this.yt=t}}function mF(e){const t=oF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?M_(t,t.limit,"L"):t}class pF{constructor(){this.Sn=new gF}addToCollectionParentIndex(t,n){return this.Sn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Qr.min())}updateCollectionGroup(t,n,i){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class gF{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new We(ue.comparator),o=!a.has(i);return this.index[n]=a.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new We(ue.comparator)).toArray()}}const D1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nN=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(nN,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Pl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Pl(0)}static ar(){return new Pl(-1)}}const N1="LruGarbageCollector",yF=1048576;function M1([e,t],[n,i]){const a=zt(e,n);return a===0?zt(t,i):a}class _F{constructor(t){this.Pr=t,this.buffer=new We(M1),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();M1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vF{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ft(N1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?ft(N1,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Ar(3e5)}))}}class EF{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(Am.ce);const i=new _F(n);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(D1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D1):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,n)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(m=Date.now(),al()<=qt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function TF(e,t){return new EF(e,t)}class SF{constructor(){this.changes=new uo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?st.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wF{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class AF{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(i!==null&&Dc(i.mutation,a,Xn.empty(),de.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,Ft()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=Ft()){const a=Ga();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,i).next((o=>{let u=mc();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,n){const i=Ga();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,Ft())))}populateOverlays(t,n,i){const a=[];return i.forEach((o=>{n.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(t,n,i,a){let o=Js();const u=xc(),h=(function(){return xc()})();return n.forEach(((d,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof sa)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Dc(y.mutation,m,y.mutation.getFieldMask(),de.now())):u.set(m.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),n.forEach(((m,y)=>h.set(m,new wF(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,n){const i=xc();let a=new Te(((u,h)=>u-h)),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||Xn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const _=(a.get(h.batchId)||Ft()).add(d);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,_=kD();y.forEach((E=>{if(!o.has(E)){const A=qD(n.get(E),i.get(E));A!==null&&_.set(E,A),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,m,_))}return st.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,a){return Cz(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ND(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-o.size):st.resolve(Ga());let h=Yc,d=o;return u.next((m=>st.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,Ft()))).next((y=>({batchId:h,changes:PD(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((i=>{let a=mc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const o=n.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(t,o).next((h=>st.forEach(h,(d=>{const m=(function(_,E){return new Ql(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,n,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,a)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Tn.newInvalidDocument(y)))}));let h=mc();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&Dc(y.mutation,m,Xn.empty(),de.now()),xm(n,m)&&(h=h.insert(d,m))})),h}))}}class bF{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return st.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ys(a.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:mF(a.bundledQuery),readTime:ys(a.readTime)}})(n)),st.resolve()}}class CF{constructor(){this.overlays=new Te(vt.comparator),this.Lr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ga();return st.forEach(n,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((a,o)=>{this.bt(t,n,o)})),st.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),st.resolve()}getOverlaysForCollection(t,n,i){const a=Ga(),o=n.length+1,u=new vt(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&a.set(d.getKey(),d)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let o=new Te(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Ga(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ga(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return st.resolve(h)}bt(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Hz(n,i));let o=this.Lr.get(n);o===void 0&&(o=Ft(),this.Lr.set(n,o)),this.Lr.set(n,o.add(i.key))}}class RF{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}class DE{constructor(){this.kr=new We(nn.Kr),this.qr=new We(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new nn(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Wr(new nn(t,n))}Qr(t,n){t.forEach((i=>this.removeReference(i,n)))}Gr(t){const n=new vt(new ue([])),i=new nn(n,t),a=new nn(n,t+1),o=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new ue([])),i=new nn(n,t),a=new nn(n,t+1);let o=Ft();return this.qr.forEachInRange([i,a],(u=>{o=o.add(u.key)})),o}containsKey(t){const n=new nn(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class nn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||zt(t.Hr,n.Hr)}static Ur(t,n){return zt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}class IF{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new We(nn.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qz(o,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new nn(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return st.resolve(u)}lookupMutationBatch(t,n){return st.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.Xr(i),o=a<0?0:a;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?EE:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);o.push(h)})),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new We(zt);return n.forEach((a=>{const o=new nn(a,0),u=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{i=i.add(h.Hr)}))})),st.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const u=new nn(new vt(o),0);let h=new We(zt);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),u),st.resolve(this.Yr(h))}Yr(t){const n=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Xt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return st.forEach(n.mutations,(a=>{const o=new nn(a.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,n){const i=new nn(n,0),a=this.Jr.firstAfterOrEqual(i);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xF{constructor(t){this.ti=t,this.docs=(function(){return new Te(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),o=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return st.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(t,n){let i=Js();return n.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Tn.newInvalidDocument(a))})),st.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let o=Js();const u=n.path,h=new vt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||nz(ez(y),i)<=0||(a.has(y.key)||xm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,n,i,a){St(9500)}ni(t,n){return st.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new DF(this)}getSize(t){return st.resolve(this.size)}}class DF extends SF{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),st.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class NF{constructor(t){this.persistence=t,this.ri=new uo((n=>wE(n)),AE),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new DE,this.targetCount=0,this.oi=Pl._r()}forEachTarget(t,n){return this.ri.forEach(((i,a)=>n(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),st.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Pl(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.lr(n),st.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,i){let a=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),st.waitFor(o).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return st.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),st.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach((u=>{o.push(a.markPotentiallyOrphaned(t,u))})),st.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return st.resolve(i)}containsKey(t,n){return st.resolve(this.si.containsKey(n))}}class iN{constructor(t,n){this._i={},this.overlays={},this.ai=new Am(0),this.ui=!1,this.ui=!0,this.ci=new RF,this.referenceDelegate=t(this),this.li=new NF(this),this.indexManager=new pF,this.remoteDocumentCache=(function(a){return new xF(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new dF(n),this.Pi=new bF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CF,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new IF(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){ft("MemoryPersistence","Starting transaction:",t);const a=new MF(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(t,n){return st.or(Object.values(this._i).map((i=>()=>i.containsKey(t,n))))}}class MF extends sz{constructor(t){super(),this.currentSequenceNumber=t}}class NE{constructor(t){this.persistence=t,this.Ri=new DE,this.Ai=null}static Vi(t){return new NE(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),st.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(i=>{const a=vt.fromPath(i);return this.mi(t,a).next((o=>{o||n.removeEntry(a,At.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Qd{constructor(t,n){this.persistence=t,this.fi=new uo((i=>oz(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=TF(this,n)}static Vi(t,n){return new Qd(t,n)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((a=>i+a))))}pr(t){let n=0;return this.mr(t,(i=>{n++})).next((()=>n))}mr(t,n){return st.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((o=>o?st.resolve():n(a)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,n).next((h=>{h||(i++,o.removeEntry(u,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=pd(t.data.value)),n}wr(t,n,i){return st.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return st.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ME{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=a}static Es(t,n){let i=Ft(),a=Ft();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ME(t,n.fromCache,i,a)}}class VF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class OF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return l6()?8:rz(PI())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const o={result:null};return this.gs(t,n).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(t,n,a,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new VF;return this.ys(t,n,u).next((h=>{if(o.result=h,this.As)return this.ws(t,n,u,h.size)}))})).next((()=>o.result))}ws(t,n,i,a){return i.documentReadCount<this.Vs?(al()<=qt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(al()<=qt.DEBUG&&ft("QueryEngine","Query:",ol(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(al()<=qt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gs(n))):st.resolve())}gs(t,n){if(E1(n))return st.resolve(null);let i=gs(n);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=M_(n,null,"F"),i=gs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const u=Ft(...o);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,u,d.readTime)?this.gs(t,M_(n,null,"F")):this.Ds(t,m,n,d)}))))})))))}ps(t,n,i,a){return E1(n)||a.isEqual(At.min())?st.resolve(null):this.fs.getDocuments(t,i).next((o=>{const u=this.bs(n,o);return this.Ss(n,u,i,a)?st.resolve(null):(al()<=qt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(n)),this.Ds(t,u,n,tz(a,Yc)).next((h=>h)))}))}bs(t,n){let i=new We(VD(t));return n.forEach(((a,o)=>{xm(t,o)&&(i=i.add(o))})),i}Ss(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(t,n,i){return al()<=qt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",ol(n)),this.fs.getDocumentsMatchingQuery(t,n,Qr.min(),i)}Ds(t,n,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((o=>(n.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const VE="LocalStore",PF=3e8;class kF{constructor(t,n,i,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new Te(zt),this.Fs=new uo((o=>wE(o)),AE),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function LF(e,t,n,i){return new kF(e,t,n,i)}async function sN(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,n.Os(t),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Ft();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function UF(e,t){const n=Ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const _=m.batch,E=_.keys();let A=st.resolve();return E.forEach((R=>{A=A.next((()=>y.getEntry(d,R))).next((D=>{const N=m.docVersions.get(R);Xt(N!==null,48541),D.version.compareTo(N)<0&&(_.applyToRemoteDocument(D,m),D.isValidDocument()&&(D.setReadTime(m.commitVersion),y.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(n,i,t,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Ft();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(t)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function rN(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function BF(e,t){const n=Ct(e),i=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;h.push(n.li.removeMatchingKeys(o,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(o,y.addedDocuments,_))));let A=E.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(pn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),(function(D,N,F){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=PF?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,A,y)&&h.push(n.li.updateTargetData(o,A))}));let d=Js(),m=Ft();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(zF(o,u,t.documentUpdates).next((y=>{d=y.Bs,m=y.Ls}))),!i.isEqual(At.min())){const y=n.li.getLastRemoteSnapshotVersion(o).next((_=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return st.waitFor(h).next((()=>u.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(n.vs=a,o)))}function zF(e,t,n){let i=Ft(),a=Ft();return n.forEach((o=>i=i.add(o))),t.getEntries(e,i).next((o=>{let u=Js();return n.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(At.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):ft(VE,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:u,Ls:a}}))}function FF(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=EE),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function jF(e,t){const n=Ct(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,t).next((o=>o?(a=o,st.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Lr(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i}))}async function L_(e,t,n){const i=Ct(e),a=i.vs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!$l(u))throw u;ft(VE,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function V1(e,t,n){const i=Ct(e);let a=At.min(),o=Ft();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const _=Ct(d),E=_.Fs.get(y);return E!==void 0?st.resolve(_.vs.get(E)):_.li.getTargetData(m,y)})(i,u,gs(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,n?a:At.min(),n?o:Ft()))).next((h=>(qF(i,xz(t),h),{documents:h,ks:o})))))}function qF(e,t,n){let i=e.Ms.get(t)||At.min();n.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),e.Ms.set(t,i)}class O1{constructor(){this.activeTargetIds=Pz()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HF{constructor(){this.vo=new O1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new O1,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class GF{Mo(t){}shutdown(){}}const P1="ConnectivityMonitor";class k1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ft(P1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ft(P1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sd=null;function U_(){return sd===null?sd=(function(){return 268435456+Math.round(2147483648*Math.random())})():sd++,"0x"+sd.toString(16)}const Ry="RestConnection",YF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KF{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Gd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,n,i,a,o){const u=U_(),h=this.Qo(t,n.toUriEncodedString());ft(Ry,`Sending RPC '${t}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,o);const{host:m}=new URL(h),y=Hl(m);return this.zo(t,h,d,i,y).then((_=>(ft(Ry,`Received RPC '${t}' ${u}: `,_),_)),(_=>{throw xl(Ry,`RPC '${t}' ${u} failed with error: `,_,"url: ",h,"request:",i),_}))}jo(t,n,i,a,o,u){return this.Wo(t,n,i,a,o)}Go(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}Qo(t,n){const i=YF[t];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $F{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const _n="WebChannelConnection",uc=(e,t,n)=>{e.listen(t,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Tl extends KF{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Tl.c_){const t=uD();uc(t,lD.STAT_EVENT,(n=>{n.stat===b_.PROXY?ft(_n,"STAT_EVENT: detected buffering proxy"):n.stat===b_.NOPROXY&&ft(_n,"STAT_EVENT: detected no buffering proxy")})),Tl.c_=!0}}zo(t,n,i,a,o){const u=U_();return new Promise(((h,d)=>{const m=new aD;m.setWithCredentials(!0),m.listenOnce(oD.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case md.NO_ERROR:const _=m.getResponseJson();ft(_n,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case md.TIMEOUT:ft(_n,`RPC '${t}' ${u} timed out`),d(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const E=m.getStatus();if(ft(_n,`RPC '${t}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const D=(function(F){const j=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(j)>=0?j:et.UNKNOWN})(R.status);d(new ht(D,R.message))}else d(new ht(et.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ht(et.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ft(_n,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);ft(_n,`RPC '${t}' ${u} sending request:`,a),m.send(n,"POST",y,i,15)}))}T_(t,n,i){const a=U_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ft(_n,`Creating RPC '${t}' stream ${a}: ${m}`,h);const y=u.createWebChannel(m,h);this.I_(y);let _=!1,E=!1;const A=new $F({Ho:R=>{E?ft(_n,`Not sending because RPC '${t}' stream ${a} is closed:`,R):(_||(ft(_n,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),ft(_n,`RPC '${t}' stream ${a} sending:`,R),y.send(R))},Jo:()=>y.close()});return uc(y,dc.EventType.OPEN,(()=>{E||(ft(_n,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),uc(y,dc.EventType.CLOSE,(()=>{E||(E=!0,ft(_n,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),uc(y,dc.EventType.ERROR,(R=>{E||(E=!0,xl(_n,`RPC '${t}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),A.o_(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),uc(y,dc.EventType.MESSAGE,(R=>{if(!E){const D=R.data[0];Xt(!!D,16349);const N=D,F=N?.error||N[0]?.error;if(F){ft(_n,`RPC '${t}' stream ${a} received error:`,F);const j=F.status;let H=(function(ut){const I=Fe[ut];if(I!==void 0)return GD(I)})(j),tt=F.message;H===void 0&&(H=et.INTERNAL,tt="Unknown error status: "+j+" with message "+F.message),E=!0,A.o_(new ht(H,tt)),y.close()}else ft(_n,`RPC '${t}' stream ${a} received:`,D),A.__(D)}})),Tl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return cD()}}function QF(e){return new Tl(e)}function Iy(){return typeof document<"u"?document:null}function Om(e){return new Jz(e,!0)}Tl.c_=!1;class aN{constructor(t,n,i=1e3,a=1.5,o=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const L1="PersistentStream";class oN{constructor(t,n,i,a,o,u,h,d){this.Ci=t,this.b_=i,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aN(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Zs(n.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{t((()=>{const a=new ht(et.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(L1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ft(L1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WF extends oN{constructor(t,n,i,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=nF(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?At.min():u.readTime?ys(u.readTime):At.min()})(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=k_(this.serializer),n.addTarget=(function(o,u){let h;const d=u.target;if(h=D_(d)?{documents:rF(o,d)}:{query:aF(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$D(o,u.resumeToken);const m=V_(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(At.min())>0){h.readTime=$d(o,u.snapshotVersion.toTimestamp());const m=V_(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=lF(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=k_(this.serializer),n.removeTarget=t,this.K_(n)}}class XF extends oN{constructor(t,n,i,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=sF(t.writeResults,t.commitTime),i=ys(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=k_(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>iF(this.serializer,i)))};this.K_(n)}}class ZF{}class JF extends ZF{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(t,O_(n,i),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(et.UNKNOWN,o.toString())}))}jo(t,n,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,O_(n,i),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(et.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tj(e,t,n,i){return new JF(e,t,n,i)}class ej{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zs(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class nj{constructor(t,n,i,a,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{co(this)&&(ft(eo,"Restarting streams for network reachability change."),await(async function(d){const m=Ct(d);m.Ea.add(4),await ph(m),m.Va.set("Unknown"),m.Ea.delete(4),await Pm(m)})(this))}))})),this.Va=new ej(i,a)}}async function Pm(e){if(co(e))for(const t of e.Ra)await t(!0)}async function ph(e){for(const t of e.Ra)await t(!1)}function lN(e,t){const n=Ct(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),LE(n)?kE(n):Wl(n).O_()&&PE(n,t))}function OE(e,t){const n=Ct(e),i=Wl(n);n.Ia.delete(t),i.O_()&&uN(n,t),n.Ia.size===0&&(i.O_()?i.L_():co(n)&&n.Va.set("Unknown"))}function PE(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wl(e).Z_(t)}function uN(e,t){e.da.$e(t),Wl(e).X_(t)}function kE(e){e.da=new Qz({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Wl(e).start(),e.Va.ua()}function LE(e){return co(e)&&!Wl(e).x_()&&e.Ia.size>0}function co(e){return Ct(e).Ea.size===0}function cN(e){e.da=void 0}async function ij(e){e.Va.set("Online")}async function sj(e){e.Ia.forEach(((t,n)=>{PE(e,t)}))}async function rj(e,t){cN(e),LE(e)?(e.Va.ha(t),kE(e)):e.Va.set("Unknown")}async function aj(e,t,n){if(e.Va.set("Online"),t instanceof KD&&t.state===2&&t.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(e,t)}catch(i){ft(eo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Wd(e,i)}else if(t instanceof _d?e.da.Xe(t):t instanceof YD?e.da.st(t):e.da.tt(t),!n.isEqual(At.min()))try{const i=await rN(e.localStore);n.compareTo(i)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(pn.EMPTY_BYTE_STRING,y.snapshotVersion)),uN(o,d);const _=new Lr(y.target,d,m,y.sequenceNumber);PE(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(i){ft(eo,"Failed to raise snapshot:",i),await Wd(e,i)}}async function Wd(e,t,n){if(!$l(t))throw t;e.Ea.add(1),await ph(e),e.Va.set("Offline"),n||(n=()=>rN(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ft(eo,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Pm(e)}))}function hN(e,t){return t().catch((n=>Wd(e,n,t)))}async function km(e){const t=Ct(e),n=Jr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:EE;for(;oj(t);)try{const a=await FF(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,lj(t,a)}catch(a){await Wd(t,a)}fN(t)&&dN(t)}function oj(e){return co(e)&&e.Ta.length<10}function lj(e,t){e.Ta.push(t);const n=Jr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function fN(e){return co(e)&&!Jr(e).x_()&&e.Ta.length>0}function dN(e){Jr(e).start()}async function uj(e){Jr(e).ra()}async function cj(e){const t=Jr(e);for(const n of e.Ta)t.ea(n.mutations)}async function hj(e,t,n){const i=e.Ta.shift(),a=RE.from(i,t,n);await hN(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await km(e)}async function fj(e,t){t&&Jr(e).Y_&&await(async function(i,a){if((function(u){return Yz(u)&&u!==et.ABORTED})(a.code)){const o=i.Ta.shift();Jr(i).B_(),await hN(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await km(i)}})(e,t),fN(e)&&dN(e)}async function U1(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),ft(eo,"RemoteStore received new credentials");const i=co(n);n.Ea.add(3),await ph(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Pm(n)}async function dj(e,t){const n=Ct(e);t?(n.Ea.delete(2),await Pm(n)):t||(n.Ea.add(2),await ph(n),n.Va.set("Unknown"))}function Wl(e){return e.ma||(e.ma=(function(n,i,a){const o=Ct(n);return o.sa(),new WF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(e.datastore,e.asyncQueue,{Zo:ij.bind(null,e),Yo:sj.bind(null,e),t_:rj.bind(null,e),J_:aj.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),LE(e)?kE(e):e.Va.set("Unknown")):(await e.ma.stop(),cN(e))}))),e.ma}function Jr(e){return e.fa||(e.fa=(function(n,i,a){const o=Ct(n);return o.sa(),new XF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uj.bind(null,e),t_:fj.bind(null,e),ta:cj.bind(null,e),na:hj.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await km(e)):(await e.fa.stop(),e.Ta.length>0&&(ft(eo,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class UE{constructor(t,n,i,a,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,o){const u=Date.now()+i,h=new UE(t,n,u,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BE(e,t){if(Zs("AsyncQueue",`${t}: ${e}`),$l(e))return new ht(et.UNAVAILABLE,`${t}: ${e}`);throw e}class Sl{static emptySet(t){return new Sl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=mc(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Sl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Sl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}class B1{constructor(){this.ga=new Te(vt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class kl{constructor(t,n,i,a,o,u,h,d,m){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,n,i,a,o){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new kl(t,n,Sl.emptySet(n),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Im(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class mj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class pj{constructor(){this.queries=z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ct(n),o=a.queries;a.queries=z1(),o.forEach(((u,h)=>{for(const d of h.ba)d.onError(i)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function z1(){return new uo((e=>MD(e)),Im)}async function mN(e,t){const n=Ct(e);let i=3;const a=t.query;let o=n.queries.get(a);o?!o.Sa()&&t.Da()&&(i=2):(o=new mj,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(a,!0);break;case 1:o.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=BE(u,`Initialization of query '${ol(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,o),o.ba.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&zE(n)}async function pN(e,t){const n=Ct(e),i=t.query;let a=3;const o=n.queries.get(i);if(o){const u=o.ba.indexOf(t);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=t.Da()?0:1:!o.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function gj(e,t){const n=Ct(e);let i=!1;for(const a of t){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&zE(n)}function yj(e,t,n){const i=Ct(e),a=i.queries.get(t);if(a)for(const o of a.ba)o.onError(n);i.queries.delete(t)}function zE(e){e.Ca.forEach((t=>{t.next()}))}var B_,F1;(F1=B_||(B_={})).Ma="default",F1.Cache="cache";class gN{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new kl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=kl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==B_.Cache}}class yN{constructor(t){this.key=t}}class _N{constructor(t){this.key=t}}class _j{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=VD(t),this.tu=new Sl(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new B1,a=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),A=xm(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;E&&A?E.data.isEqual(A.data)?R!==D&&(i.track({type:3,doc:A}),N=!0):this.su(E,A)||(i.track({type:2,doc:A}),N=!0,(d&&this.eu(A,d)>0||m&&this.eu(A,m)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),N=!0):E&&!A&&(i.track({type:1,doc:E}),N=!0,(d||m)&&(h=!0)),N&&(A?(u=u.add(A),o=D?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,_)=>(function(A,R){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:N})}};return D(A)-D(R)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,u.length!==0||m?{snapshot:new kl(this.query,t.tu,o,u,t.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new B1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ft(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return t.forEach((i=>{this.Ya.has(i)||n.push(new _N(i))})),this.Ya.forEach((i=>{t.has(i)||n.push(new yN(i))})),n}cu(t){this.Za=t.ks,this.Ya=Ft();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const FE="SyncEngine";class vj{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Ej{constructor(t){this.key=t,this.hu=!1}}class Tj{constructor(t,n,i,a,o,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new uo((h=>MD(h)),Im),this.Iu=new Map,this.Eu=new Set,this.Ru=new Te(vt.comparator),this.Au=new Map,this.Vu=new DE,this.du={},this.mu=new Map,this.fu=Pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sj(e,t,n=!0){const i=AN(e);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await vN(i,t,n,!0),a}async function wj(e,t){const n=AN(e);await vN(n,t,!0,!1)}async function vN(e,t,n,i){const a=await jF(e.localStore,gs(t)),o=a.targetId,u=e.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await Aj(e,t,o,u==="current",a.resumeToken)),e.isPrimaryClient&&n&&lN(e.remoteStore,a),h}async function Aj(e,t,n,i,a){e.pu=(_,E,A)=>(async function(D,N,F,j){let H=N.view.ru(F);H.Ss&&(H=await V1(D.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,H))));const tt=j&&j.targetChanges.get(N.targetId),rt=j&&j.targetMismatches.get(N.targetId)!=null,ut=N.view.applyChanges(H,D.isPrimaryClient,tt,rt);return q1(D,N.targetId,ut.au),ut.snapshot})(e,_,E,A);const o=await V1(e.localStore,t,!0),u=new _j(t,o.ks),h=u.ru(o.documents),d=mh.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),m=u.applyChanges(h,e.isPrimaryClient,d);q1(e,n,m.au);const y=new vj(t,n,u);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),m.snapshot}async function bj(e,t,n){const i=Ct(e),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((u=>!Im(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await L_(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&OE(i.remoteStore,a.targetId),z_(i,a.targetId)})).catch(Kl)):(z_(i,a.targetId),await L_(i.localStore,a.targetId,!0))}async function Cj(e,t){const n=Ct(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),OE(n.remoteStore,i.targetId))}async function Rj(e,t,n){const i=Oj(e);try{const a=await(function(u,h){const d=Ct(u),m=de.now(),y=h.reduce(((A,R)=>A.add(R.key)),Ft());let _,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let R=Js(),D=Ft();return d.xs.getEntries(A,y).next((N=>{R=N,R.forEach(((F,j)=>{j.isValidDocument()||(D=D.add(F))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,R))).next((N=>{_=N;const F=[];for(const j of h){const H=Fz(j,_.get(j.key).overlayedDocument);H!=null&&F.push(new sa(j.key,H,AD(H.value.mapValue),Li.exists(!0)))}return d.mutationQueue.addMutationBatch(A,m,F,h)})).next((N=>{E=N;const F=N.applyToLocalDocumentSet(_,D);return d.documentOverlayCache.saveOverlays(A,N.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:PD(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let m=u.du[u.currentUser.toKey()];m||(m=new Te(zt)),m=m.insert(h,d),u.du[u.currentUser.toKey()]=m})(i,a.batchId,n),await gh(i,a.changes),await km(i.remoteStore)}catch(a){const o=BE(a,"Failed to persist write");n.reject(o)}}async function EN(e,t){const n=Ct(e);try{const i=await BF(n.localStore,t);t.targetChanges.forEach(((a,o)=>{const u=n.Au.get(o);u&&(Xt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xt(u.hu,14607):a.removedDocuments.size>0&&(Xt(u.hu,42227),u.hu=!1))})),await gh(n,i,t)}catch(i){await Kl(i)}}function j1(e,t,n){const i=Ct(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ct(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(h)&&(m=!0)})),m&&zE(d)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ij(e,t,n){const i=Ct(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),o=a&&a.key;if(o){let u=new Te(vt.comparator);u=u.insert(o,Tn.newNoDocument(o,At.min()));const h=Ft().add(o),d=new Vm(At.min(),new Map,new Te(zt),u,h);await EN(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(t),jE(i)}else await L_(i.localStore,t,!1).then((()=>z_(i,t,n))).catch(Kl)}async function xj(e,t){const n=Ct(e),i=t.batch.batchId;try{const a=await UF(n.localStore,t);SN(n,i,null),TN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gh(n,a)}catch(a){await Kl(a)}}async function Dj(e,t,n){const i=Ct(e);try{const a=await(function(u,h){const d=Ct(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((_=>(Xt(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);SN(i,t,n),TN(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gh(i,a)}catch(a){await Kl(a)}}function TN(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function SN(e,t,n){const i=Ct(e);let a=i.du[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(n?o.reject(n):o.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function z_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((i=>{e.Vu.containsKey(i)||wN(e,i)}))}function wN(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(OE(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),jE(e))}function q1(e,t,n){for(const i of n)i instanceof yN?(e.Vu.addReference(i.key,t),Nj(e,i)):i instanceof _N?(ft(FE,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||wN(e,i.key)):St(19791,{wu:i})}function Nj(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(ft(FE,"New document in limbo: "+n),e.Eu.add(i),jE(e))}function jE(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ue.fromString(t)),i=e.fu.next();e.Au.set(i,new Ej(n)),e.Ru=e.Ru.insert(n,i),lN(e.remoteStore,new Lr(gs(Rm(n.path)),i,"TargetPurposeLimboResolution",Am.ce))}}async function gh(e,t,n){const i=Ct(e),a=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,t,n).then((m=>{if((m||n)&&i.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(m){a.push(m);const y=ME.Es(d.targetId,m);o.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(d,m){const y=Ct(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(m,(E=>st.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>st.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!$l(_))throw _;ft(VE,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const A=y.vs.get(E),R=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(R);y.vs=y.vs.insert(E,D)}}})(i.localStore,o))}async function Mj(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){ft(FE,"User change. New user:",t.toKey());const i=await sN(n.localStore,t);n.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new ht(et.CANCELLED,u))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gh(n,i.Ns)}}function Vj(e,t){const n=Ct(e),i=n.Au.get(t);if(i&&i.hu)return Ft().add(i.key);{let a=Ft();const o=n.Iu.get(t);if(!o)return a;for(const u of o){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function AN(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=EN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ij.bind(null,t),t.Pu.J_=gj.bind(null,t.eventManager),t.Pu.yu=yj.bind(null,t.eventManager),t}function Oj(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dj.bind(null,t),t}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Om(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return LF(this.persistence,new OF,t.initialUser,this.serializer)}Cu(t){return new iN(NE.Vi,this.serializer)}Du(t){return new HF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class Pj extends Xd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Xt(this.persistence.referenceDelegate instanceof Qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vF(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new iN((i=>Qd.Vi(i,n)),this.serializer)}}class F_{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),await dj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pj})()}createDatastore(t){const n=Om(t.databaseInfo.databaseId),i=QF(t.databaseInfo);return tj(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,a,o,u,h){return new nj(i,a,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>j1(this.syncEngine,n,0)),(function(){return k1.v()?new k1:new GF})())}createSyncEngine(t,n){return(function(a,o,u,h,d,m,y){const _=new Tj(a,o,u,h,d,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ct(n);ft(eo,"RemoteStore shutting down."),i.Ea.add(5),await ph(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}F_.provider={build:()=>new F_};class bN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ta="FirestoreClient";class kj{constructor(t,n,i,a,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=vE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{ft(ta,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ft(ta,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=BE(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function xy(e,t){e.asyncQueue.verifyOperationInProgress(),ft(ta,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async a=>{i.isEqual(a)||(await sN(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function H1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lj(e);ft(ta,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>U1(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,a)=>U1(t.remoteStore,a))),e._onlineComponents=t}async function Lj(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(ta,"Using user provided OfflineComponentProvider");try{await xy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await xy(e,new Xd)}}else ft(ta,"Using default OfflineComponentProvider"),await xy(e,new Pj(void 0));return e._offlineComponents}async function CN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(ta,"Using user provided OnlineComponentProvider"),await H1(e,e._uninitializedComponentsProvider._online)):(ft(ta,"Using default OnlineComponentProvider"),await H1(e,new F_))),e._onlineComponents}function Uj(e){return CN(e).then((t=>t.syncEngine))}async function j_(e){const t=await CN(e),n=t.eventManager;return n.onListen=Sj.bind(null,t.syncEngine),n.onUnlisten=bj.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wj.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Cj.bind(null,t.syncEngine),n}function Bj(e,t,n,i){const a=new bN(i),o=new gN(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>mN(await j_(e),o))),()=>{a.Nu(),e.asyncQueue.enqueueAndForget((async()=>pN(await j_(e),o)))}}function zj(e,t,n={}){const i=new jr;return e.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new bN({next:E=>{y.Nu(),u.enqueueAndForget((()=>pN(o,_)));const A=E.docs.has(h);!A&&E.fromCache?m.reject(new ht(et.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&d.source==="server"?m.reject(new ht(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new gN(Rm(h.path),y,{includeMetadataChanges:!0,Ka:!0});return mN(o,_)})(await j_(e),e.asyncQueue,t,n,i))),i.promise}function Fj(e,t){const n=new jr;return e.asyncQueue.enqueueAndForget((async()=>Rj(await Uj(e),t,n))),n.promise}function RN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const jj="ComponentProvider",G1=new Map;function qj(e,t,n,i,a){return new cz(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,RN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const IN="firestore.googleapis.com",Y1=!0;class K1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IN,this.ssl=Y1}else this.host=t.host,this.ssl=t.ssl??Y1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nN;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yF)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RN(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qB;switch(i.type){case"firstParty":return new KB(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=G1.get(n);i&&(ft(jj,"Removing Datastore"),G1.delete(n),i.terminate())})(this),Promise.resolve()}}function Hj(e,t,n,i={}){e=ps(e,Lm);const a=Hl(t),o=e._getSettings(),u={...o,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(Mv(`https://${h}`),Ov("Firestore",!0)),o.host!==IN&&o.host!==h&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:i};if(!Yr(d,u)&&(e._setSettings(d),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=vn.MOCK_USER;else{m=Vv(i.mockUserToken,e._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new vn(_)}e._authCredentials=new HB(new fD(m,y))}}class ho{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ho(this.firestore,t,this._query)}}class Ne{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(fh(n,Ne._jsonSchema))return new Ne(t,i||null,new vt(ue.fromString(n.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:He("string",Ne._jsonSchemaVersion),referencePath:He("string")};class qr extends ho{constructor(t,n,i){super(t,n,Rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new vt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function $1(e,t,...n){if(e=Xe(e),dD("collection","path",t),e instanceof Lm){const i=ue.fromString(t,...n);return a1(i),new qr(e,null,i)}{if(!(e instanceof Ne||e instanceof qr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ue.fromString(t,...n));return a1(i),new qr(e.firestore,null,i)}}function cl(e,t,...n){if(e=Xe(e),arguments.length===1&&(t=vE.newId()),dD("doc","path",t),e instanceof Lm){const i=ue.fromString(t,...n);return r1(i),new Ne(e,null,new vt(i))}{if(!(e instanceof Ne||e instanceof qr))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ue.fromString(t,...n));return r1(i),new Ne(e.firestore,e instanceof qr?e.converter:null,new vt(i))}}const Q1="AsyncQueue";class W1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aN(this,"async_queue_retry"),this._c=()=>{const i=Iy();i&&ft(Q1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Iy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!$l(t))throw t;ft(Q1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Zs("INTERNAL UNHANDLED ERROR: ",X1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=UE.createAndSchedule(this,t,n,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&St(47125,{Pc:X1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function X1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class no extends Lm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new W1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new W1(t),this._firestoreClient=void 0,await t}}}function Gj(e,t){const n=typeof e=="object"?e:dm(),i=typeof e=="string"?e:Gd,a=ao(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=Nv("firestore");o&&Hj(a,...o)}return a}function qE(e){if(e._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Yj(e),e._firestoreClient}function Yj(e){const t=e._freezeSettings(),n=qj(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new kj(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(e._componentsProvider))}class mi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mi(pn.fromBase64String(t))}catch(n){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mi(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fh(t,mi._jsonSchema))return mi.fromBase64String(t.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:He("string",mi._jsonSchemaVersion),bytes:He("string")};class HE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fo{constructor(t){this._methodName=t}}class _s{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(t){if(fh(t,_s._jsonSchema))return new _s(t.latitude,t.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:He("string",_s._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Ui{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fh(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ui(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:He("string",Ui._jsonSchemaVersion),vectorValues:He("object")};const Kj=/^__.*__$/;class $j{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new sa(t,this.data,this.fieldMask,n,this.fieldTransforms):new dh(t,this.data,n,this.fieldTransforms)}}class xN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new sa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function DN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:e})}}class Um{constructor(t,n,i,a,o,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const n=this.path?.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Zd(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(DN(this.dataSource)&&Kj.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Qj{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Om(t)}createContext(t,n,i,a=!1){return new Um({dataSource:t,methodName:n,targetDoc:i,path:mn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GE(e){const t=e._freezeSettings(),n=Om(e._databaseId);return new Qj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Wj(e,t,n,i,a,o={}){const u=e.createContext(o.merge||o.mergeFields?2:0,t,n,a);WE("Data must be an object, but it was:",u,i);const h=MN(i,u);let d,m;if(o.merge)d=new Xn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const E=Ll(t,_,n);if(!u.contains(E))throw new ht(et.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);PN(y,E)||y.push(E)}d=new Xn(y),m=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=u.fieldTransforms;return new $j(new Ln(h),d,m)}class Bm extends fo{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bm}}function NN(e,t,n){return new Um({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class YE extends fo{_toFieldTransform(t){return new Nm(t.path,new Xc)}isEqual(t){return t instanceof YE}}class KE extends fo{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=NN(this,t,!0),i=this.Ac.map((o=>mo(o,n))),a=new Vl(i);return new Nm(t.path,a)}isEqual(t){return t instanceof KE&&Yr(this.Ac,t.Ac)}}class $E extends fo{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=NN(this,t,!0),i=this.Ac.map((o=>mo(o,n))),a=new Ol(i);return new Nm(t.path,a)}isEqual(t){return t instanceof $E&&Yr(this.Ac,t.Ac)}}class QE extends fo{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Zc(t.serializer,UD(t.serializer,this.Vc));return new Nm(t.path,n)}isEqual(t){return t instanceof QE&&this.Vc===t.Vc}}function Xj(e,t,n,i){const a=e.createContext(1,t,n);WE("Data must be an object, but it was:",a,i);const o=[],u=Ln.empty();ia(i,((d,m)=>{const y=ON(t,d,n);m=Xe(m);const _=a.childContextForFieldPath(y);if(m instanceof Bm)o.push(y);else{const E=mo(m,_);E!=null&&(o.push(y),u.set(y,E))}}));const h=new Xn(o);return new xN(u,h,a.fieldTransforms)}function Zj(e,t,n,i,a,o){const u=e.createContext(1,t,n),h=[Ll(t,i,n)],d=[a];if(o.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Ll(t,o[E])),d.push(o[E+1]);const m=[],y=Ln.empty();for(let E=h.length-1;E>=0;--E)if(!PN(m,h[E])){const A=h[E];let R=d[E];R=Xe(R);const D=u.childContextForFieldPath(A);if(R instanceof Bm)m.push(A);else{const N=mo(R,D);N!=null&&(m.push(A),y.set(A,N))}}const _=new Xn(m);return new xN(y,_,u.fieldTransforms)}function Jj(e,t,n,i=!1){return mo(n,e.createContext(i?4:3,t))}function mo(e,t){if(VN(e=Xe(e)))return WE("Unsupported field value:",t,e),MN(e,t);if(e instanceof fo)return(function(i,a){if(!DN(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const o=[];let u=0;for(const h of i){let d=mo(h,a.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(e,t)}return(function(i,a){if((i=Xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return UD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=de.fromDate(i);return{timestampValue:$d(a.serializer,o)}}if(i instanceof de){const o=new de(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$d(a.serializer,o)}}if(i instanceof _s)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mi)return{bytesValue:$D(a.serializer,i._byteString)};if(i instanceof Ne){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xE(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ui)return(function(u,h){const d=u instanceof Ui?u.toArray():u;return{mapValue:{fields:{[SD]:{stringValue:wD},[Yd]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return bE(h.serializer,y)}))}}}}}})(i,a);if(eN(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${wm(i)}`)})(e,t)}function MN(e,t){const n={};return gD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(e,((i,a)=>{const o=mo(a,t.childContextForField(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function VN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof de||e instanceof _s||e instanceof mi||e instanceof Ne||e instanceof fo||e instanceof Ui||eN(e))}function WE(e,t,n){if(!VN(n)||!mD(n)){const i=wm(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Ll(e,t,n){if((t=Xe(t))instanceof HE)return t._internalPath;if(typeof t=="string")return ON(e,t);throw Zd("Field path arguments must be of type string or ",e,!1,void 0,n)}const t8=new RegExp("[~\\*/\\[\\]]");function ON(e,t,n){if(t.search(t8)>=0)throw Zd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new HE(...t.split("."))._internalPath}catch{throw Zd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zd(e,t,n,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new ht(et.INVALID_ARGUMENT,h+e+d)}function PN(e,t){return e.some((n=>n.isEqual(t)))}class e8{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ia(t,((a,o)=>{i[a]=this.convertValue(o,n)})),i}convertVectorValue(t){const n=t.fields?.[Yd].arrayValue?.values?.map((i=>De(i.doubleValue)));return new Ui(n)}convertGeoPoint(t){return new _s(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Cm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Kc(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=ue.fromString(t);Xt(tN(i),9688,{name:t});const a=new $c(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return a.isEqual(n)||Zs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class kN extends e8{constructor(t){super(),this.firestore=t}convertBytes(t){return new mi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,n)}}function n8(){return new YE("serverTimestamp")}function Z1(...e){return new KE("arrayUnion",e)}function i8(...e){return new $E("arrayRemove",e)}function s8(e){return new QE("increment",e)}const J1="@firebase/firestore",tC="4.10.0";function eC(e){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(e,["next","error","complete"])}class LN{constructor(t,n,i,a,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new r8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Ll("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r8 extends LN{data(){return super.data()}}function a8(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XE{}class UN extends XE{}function o8(e,t,...n){let i=[];t instanceof XE&&i.push(t),i=i.concat(n),(function(o){const u=o.filter((d=>d instanceof JE)).length,h=o.filter((d=>d instanceof ZE)).length;if(u>1||u>0&&h>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)e=a._apply(e);return e}class ZE extends UN{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new ZE(t,n,i)}_apply(t){const n=this._parse(t);return BN(t._query,n),new ho(t.firestore,t.converter,N_(t._query,n))}_parse(t){const n=GE(t.firestore);return(function(o,u,h,d,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){iC(_,y);const R=[];for(const D of _)R.push(nC(d,o,D));E={arrayValue:{values:R}}}else E=nC(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||iC(_,y),E=Jj(h,u,_,y==="in"||y==="not-in");return qe.create(m,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class JE extends XE{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new JE(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)BN(u,d),u=N_(u,d)})(t._query,n),new ho(t.firestore,t.converter,N_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tT extends UN{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new tT(t,n)}_apply(t){const n=(function(a,o,u){if(a.startAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wc(o,u)})(t._query,this._field,this._direction);return new ho(t.firestore,t.converter,Iz(t._query,n))}}function l8(e,t="asc"){const n=t,i=Ll("orderBy",e);return tT._create(i,n)}function nC(e,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ND(t)&&n.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(i))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return m1(e,new vt(i))}if(n instanceof Ne)return m1(e,n._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function iC(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BN(e,t){const n=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function u8(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class gc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $a extends LN{constructor(t,n,i,a,o,u){super(t,n,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Ll("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:He("string",$a._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class vd extends $a{data(t={}){return super.data(t)}}class wl{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new gc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new vd(this._firestore,this._userDataWriter,i.key,i,new gc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new vd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new vd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:c8(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function c8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:He("string",wl._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};function h8(e){e=ps(e,Ne);const t=ps(e.firestore,no),n=qE(t);return zj(n,e._key).then((i=>zN(t,e,i)))}function Dy(e,t,n,...i){e=ps(e,Ne);const a=ps(e.firestore,no),o=GE(a);let u;return u=typeof(t=Xe(t))=="string"||t instanceof HE?Zj(o,"updateDoc",e._key,t,n,i):Xj(o,"updateDoc",e._key,t),eT(a,[u.toMutation(e._key,Li.exists(!0))])}function f8(e){return eT(ps(e.firestore,no),[new CE(e._key,Li.none())])}function d8(e,t){const n=ps(e.firestore,no),i=cl(e),a=u8(e.converter,t),o=GE(e.firestore);return eT(n,[Wj(o,"addDoc",i._key,a,e.converter!==null,{}).toMutation(i._key,Li.exists(!1))]).then((()=>i))}function m8(e,...t){e=Xe(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||eC(t[i])||(n=t[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eC(t[i])){const m=t[i];t[i]=m.next?.bind(m),t[i+1]=m.error?.bind(m),t[i+2]=m.complete?.bind(m)}let o,u,h;if(e instanceof Ne)u=ps(e.firestore,no),h=Rm(e._key.path),o={next:m=>{t[i]&&t[i](zN(u,e,m))},error:t[i+1],complete:t[i+2]};else{const m=ps(e,ho);u=ps(m.firestore,no),h=m._query;const y=new kN(u);o={next:_=>{t[i]&&t[i](new wl(u,y,m,_))},error:t[i+1],complete:t[i+2]},a8(e._query)}const d=qE(u);return Bj(d,h,a,o)}function eT(e,t){const n=qE(e);return Fj(n,t)}function zN(e,t,n){const i=n.docs.get(t._key),a=new kN(e);return new $a(e,a,t._key,i,new gc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){jB(Lv),Es(new zi("firestore",((i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new no(new GB(i.getProvider("auth-internal")),new $B(u,i.getProvider("app-check-internal")),hz(u,a),u);return o={useFetchStreams:n,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Bn(J1,tC,t),Bn(J1,tC,"esm2020")})();const FN="firebasestorage.googleapis.com",p8="storageBucket",g8=120*1e3,y8=600*1e3;class As extends tr{constructor(t,n,i=0){super(Ny(t),`Firebase Storage: ${n} (${Ny(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,As.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ny(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ss;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ss||(Ss={}));function Ny(e){return"storage/"+e}function _8(){const e="An unknown error occurred, please check the error payload for server response.";return new As(Ss.UNKNOWN,e)}function v8(){return new As(Ss.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E8(){return new As(Ss.CANCELED,"User canceled the upload/download.")}function T8(e){return new As(Ss.INVALID_URL,"Invalid URL '"+e+"'.")}function S8(e){return new As(Ss.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function sC(e){return new As(Ss.INVALID_ARGUMENT,e)}function jN(){return new As(Ss.APP_DELETED,"The Firebase app was deleted.")}function w8(e){return new As(Ss.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Pi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Pi.makeFromUrl(t,n)}catch{return new Pi(t,"")}if(i.path==="")return i;throw S8(t)}static makeFromUrl(t,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function o(tt){tt.path.charAt(tt.path.length-1)==="/"&&(tt.path_=tt.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(tt){tt.path_=decodeURIComponent(tt.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),R={bucket:1,path:3},D=n===FN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",F=new RegExp(`^https?://${D}/${a}/${N}`,"i"),H=[{regex:h,indices:d,postModify:o},{regex:A,indices:R,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let tt=0;tt<H.length;tt++){const rt=H[tt],ut=rt.regex.exec(t);if(ut){const I=ut[rt.indices.bucket];let C=ut[rt.indices.path];C||(C=""),i=new Pi(I,C),rt.postModify(i);break}}if(i==null)throw T8(t);return i}}class A8{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function b8(e,t,n){let i=1,a=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function y(...N){m||(m=!0,t.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,e(A,d())},N)}function E(){o&&clearTimeout(o)}function A(N,...F){if(m){E();return}if(N){E(),y.call(null,N,...F);return}if(d()||u){E(),y.call(null,N,...F);return}i<64&&(i*=2);let H;h===1?(h=2,H=0):H=(i+Math.random())*1e3,_(H)}let R=!1;function D(N){R||(R=!0,E(),!m&&(a!==null?(N||(h=2),clearTimeout(a),_(0)):N||(h=1)))}return _(0),o=setTimeout(()=>{u=!0,D(!0)},n),D}function C8(e){e(!1)}function R8(e){return e!==void 0}function rC(e,t,n,i){if(i<t)throw sC(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw sC(`Invalid value for '${e}'. Expected ${n} or less.`)}function I8(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const a=t(i)+"="+t(e[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Jd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Jd||(Jd={}));function x8(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||a||o}class D8{constructor(t,n,i,a,o,u,h,d,m,y,_,E=!0,A=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,D)=>{this.resolve_=R,this.reject_=D,this.start_()})}start_(){const t=(i,a)=>{if(a){i(!1,new rd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Jd.NO_ERROR,d=o.getStatus();if(!h||x8(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Jd.ABORT;i(!1,new rd(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new rd(m,o))})},n=(i,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());R8(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=_8();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?jN():E8();u(d)}else{const d=v8();u(d)}};this.canceled_?n(!1,new rd(!1,null,!0)):this.backoffId_=b8(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&C8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rd{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function N8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function M8(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function V8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function O8(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function P8(e,t,n,i,a,o,u=!0,h=!1){const d=I8(e.urlParams),m=e.url+d,y=Object.assign({},e.headers);return V8(y,t),N8(y,n),M8(y,o),O8(y,i),new D8(m,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,u,h)}function k8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function L8(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class tm{constructor(t,n){this._service=t,n instanceof Pi?this._location=n:this._location=Pi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new tm(t,n)}get root(){const t=new Pi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L8(this._location.path)}get storage(){return this._service}get parent(){const t=k8(this._location.path);if(t===null)return null;const n=new Pi(this._location.bucket,t);return new tm(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw w8(t)}}function aC(e,t){const n=t?.[p8];return n==null?null:Pi.makeFromBucketSpec(n,e)}function U8(e,t,n,i={}){e.host=`${t}:${n}`;const a=Hl(t);a&&(Mv(`https://${e.host}/b`),Ov("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:o}=i;o&&(e._overrideAuthToken=typeof o=="string"?o:Vv(o,e.app.options.projectId))}class B8{constructor(t,n,i,a,o,u=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=FN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g8,this._maxUploadRetryTime=y8,this._requests=new Set,a!=null?this._bucket=Pi.makeFromBucketSpec(a,this._host):this._bucket=aC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Pi.makeFromBucketSpec(this._url,t):this._bucket=aC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new tm(this,t)}_makeRequest(t,n,i,a,o=!0){if(this._deleted)return new A8(jN());{const u=P8(t,this._appId,i,a,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,a).getPromise()}}const oC="@firebase/storage",lC="0.14.0";const qN="storage";function z8(e=dm(),t){e=Xe(e);const i=ao(e,qN).getImmediate({identifier:t}),a=Nv("storage");return a&&F8(i,...a),i}function F8(e,t,n,i={}){U8(e,t,n,i)}function j8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new B8(n,i,a,t,Lv)}function q8(){Es(new zi(qN,j8,"PUBLIC").setMultipleInstances(!0)),Bn(oC,lC,""),Bn(oC,lC,"esm2020")}q8();const HN="@firebase/installations",nT="0.6.19";const GN=1e4,YN=`w:${nT}`,KN="FIS_v2",H8="https://firebaseinstallations.googleapis.com/v1",G8=3600*1e3,Y8="installations",K8="Installations";const $8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},io=new cm(Y8,K8,$8);function $N(e){return e instanceof tr&&e.code.includes("request-failed")}function QN({projectId:e}){return`${H8}/projects/${e}/installations`}function WN(e){return{token:e.token,requestStatus:2,expiresIn:W8(e.expiresIn),creationTime:Date.now()}}async function XN(e,t){const i=(await t.json()).error;return io.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ZN({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Q8(e,{refreshToken:t}){const n=ZN(e);return n.append("Authorization",X8(t)),n}async function JN(e){const t=await e();return t.status>=500&&t.status<600?e():t}function W8(e){return Number(e.replace("s","000"))}function X8(e){return`${KN} ${e}`}async function Z8({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=QN(e),a=ZN(e),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:n,authVersion:KN,appId:e.appId,sdkVersion:YN},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await JN(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:WN(m.authToken)}}else throw await XN("Create Installation",d)}function t2(e){return new Promise(t=>{setTimeout(t,e)})}function J8(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const t7=/^[cdef][\w-]{21}$/,q_="";function e7(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=n7(e);return t7.test(n)?n:q_}catch{return q_}}function n7(e){return J8(e).substr(0,22)}function zm(e){return`${e.appName}!${e.appId}`}const e2=new Map;function n2(e,t){const n=zm(e);i2(n,t),i7(n,t)}function i2(e,t){const n=e2.get(e);if(n)for(const i of n)i(t)}function i7(e,t){const n=s7();n&&n.postMessage({key:e,fid:t}),r7()}let Ya=null;function s7(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=e=>{i2(e.data.key,e.data.fid)}),Ya}function r7(){e2.size===0&&Ya&&(Ya.close(),Ya=null)}const a7="firebase-installations-database",o7=1,so="firebase-installations-store";let My=null;function iT(){return My||(My=qI(a7,o7,{upgrade:(e,t)=>{t===0&&e.createObjectStore(so)}})),My}async function em(e,t){const n=zm(e),a=(await iT()).transaction(so,"readwrite"),o=a.objectStore(so),u=await o.get(n);return await o.put(t,n),await a.done,(!u||u.fid!==t.fid)&&n2(e,t.fid),t}async function s2(e){const t=zm(e),i=(await iT()).transaction(so,"readwrite");await i.objectStore(so).delete(t),await i.done}async function Fm(e,t){const n=zm(e),a=(await iT()).transaction(so,"readwrite"),o=a.objectStore(so),u=await o.get(n),h=t(u);return h===void 0?await o.delete(n):await o.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&n2(e,h.fid),h}async function sT(e){let t;const n=await Fm(e.appConfig,i=>{const a=l7(i),o=u7(e,a);return t=o.registrationPromise,o.installationEntry});return n.fid===q_?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function l7(e){const t=e||{fid:e7(),registrationStatus:0};return r2(t)}function u7(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(io.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=c7(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:h7(e)}:{installationEntry:t}}async function c7(e,t){try{const n=await Z8(e,t);return em(e.appConfig,n)}catch(n){throw $N(n)&&n.customData.serverCode===409?await s2(e.appConfig):await em(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function h7(e){let t=await uC(e.appConfig);for(;t.registrationStatus===1;)await t2(100),t=await uC(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await sT(e);return i||n}return t}function uC(e){return Fm(e,t=>{if(!t)throw io.create("installation-not-found");return r2(t)})}function r2(e){return f7(e)?{fid:e.fid,registrationStatus:0}:e}function f7(e){return e.registrationStatus===1&&e.registrationTime+GN<Date.now()}async function d7({appConfig:e,heartbeatServiceProvider:t},n){const i=m7(e,n),a=Q8(e,n),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:YN,appId:e.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await JN(()=>fetch(i,h));if(d.ok){const m=await d.json();return WN(m)}else throw await XN("Generate Auth Token",d)}function m7(e,{fid:t}){return`${QN(e)}/${t}/authTokens:generate`}async function rT(e,t=!1){let n;const i=await Fm(e.appConfig,o=>{if(!a2(o))throw io.create("not-registered");const u=o.authToken;if(!t&&y7(u))return o;if(u.requestStatus===1)return n=p7(e,t),o;{if(!navigator.onLine)throw io.create("app-offline");const h=v7(o);return n=g7(e,h),h}});return n?await n:i.authToken}async function p7(e,t){let n=await cC(e.appConfig);for(;n.authToken.requestStatus===1;)await t2(100),n=await cC(e.appConfig);const i=n.authToken;return i.requestStatus===0?rT(e,t):i}function cC(e){return Fm(e,t=>{if(!a2(t))throw io.create("not-registered");const n=t.authToken;return E7(n)?{...t,authToken:{requestStatus:0}}:t})}async function g7(e,t){try{const n=await d7(e,t),i={...t,authToken:n};return await em(e.appConfig,i),n}catch(n){if($N(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await s2(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await em(e.appConfig,i)}throw n}}function a2(e){return e!==void 0&&e.registrationStatus===2}function y7(e){return e.requestStatus===2&&!_7(e)}function _7(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+G8}function v7(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function E7(e){return e.requestStatus===1&&e.requestTime+GN<Date.now()}async function T7(e){const t=e,{installationEntry:n,registrationPromise:i}=await sT(t);return i?i.catch(console.error):rT(t).catch(console.error),n.fid}async function S7(e,t=!1){const n=e;return await w7(n),(await rT(n,t)).token}async function w7(e){const{registrationPromise:t}=await sT(e);t&&await t}function A7(e){if(!e||!e.options)throw Vy("App Configuration");if(!e.name)throw Vy("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Vy(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Vy(e){return io.create("missing-app-config-values",{valueName:e})}const o2="installations",b7="installations-internal",C7=e=>{const t=e.getProvider("app").getImmediate(),n=A7(t),i=ao(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},R7=e=>{const t=e.getProvider("app").getImmediate(),n=ao(t,o2).getImmediate();return{getId:()=>T7(n),getToken:a=>S7(n,a)}};function I7(){Es(new zi(o2,C7,"PUBLIC")),Es(new zi(b7,R7,"PRIVATE"))}I7();Bn(HN,nT);Bn(HN,nT,"esm2020");const nm="analytics",x7="firebase_id",D7="origin",N7=60*1e3,M7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aT="https://www.googletagmanager.com/gtag/js";const In=new fm("@firebase/analytics");const V7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new cm("analytics","Analytics",V7);function O7(e){if(!e.startsWith(aT)){const t=Jn.create("invalid-gtag-resource",{gtagURL:e});return In.warn(t.message),""}return e}function l2(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function P7(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function k7(e,t){const n=P7("firebase-js-sdk-policy",{createScriptURL:O7}),i=document.createElement("script"),a=`${aT}?l=${e}&id=${t}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function L7(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function U7(e,t,n,i,a,o){const u=i[a];try{if(u)await t[u];else{const d=(await l2(n)).find(m=>m.measurementId===a);d&&await t[d.appId]}}catch(h){In.error(h)}e("config",a,o)}async function B7(e,t,n,i,a){try{let o=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await l2(n);for(const d of u){const m=h.find(_=>_.measurementId===d),y=m&&t[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",i,a||{})}catch(o){In.error(o)}}function z7(e,t,n,i){async function a(o,...u){try{if(o==="event"){const[h,d]=u;await B7(e,t,n,h,d)}else if(o==="config"){const[h,d]=u;await U7(e,t,n,i,h,d)}else if(o==="consent"){const[h,d]=u;e("consent",h,d)}else if(o==="get"){const[h,d,m]=u;e("get",h,d,m)}else if(o==="set"){const[h]=u;e("set",h)}else e(o,...u)}catch(h){In.error(h)}}return a}function F7(e,t,n,i,a){let o=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=z7(o,e,t,n),{gtagCore:o,wrappedGtag:window[a]}}function j7(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(aT)&&n.src.includes(e))return n;return null}const q7=30,H7=1e3;class G7{constructor(t={},n=H7){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const u2=new G7;function Y7(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function K7(e){const{appId:t,apiKey:n}=e,i={method:"GET",headers:Y7(n)},a=M7.replace("{app-id}",t),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();h.error?.message&&(u=h.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function $7(e,t=u2,n){const{appId:i,apiKey:a,measurementId:o}=e.options;if(!i)throw Jn.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:i};throw Jn.create("no-api-key")}const u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new X7;return setTimeout(async()=>{h.abort()},N7),c2({appId:i,apiKey:a,measurementId:o},u,h,t)}async function c2(e,{throttleEndTimeMillis:t,backoffCount:n},i,a=u2){const{appId:o,measurementId:u}=e;try{await Q7(i,t)}catch(h){if(u)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw h}try{const h=await K7(e);return a.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!W7(d)){if(a.deleteThrottleMetadata(o),u)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:u};throw h}const m=Number(d?.customData?.httpStatus)===503?hb(n,a.intervalMillis,q7):hb(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return a.setThrottleMetadata(o,y),In.debug(`Calling attemptFetch again in ${m} millis`),c2(e,y,i,a)}}function Q7(e,t){return new Promise((n,i)=>{const a=Math.max(t-Date.now(),0),o=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(o),i(Jn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function W7(e){if(!(e instanceof tr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class X7{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Z7(e,t,n,i,a){if(a&&a.global){e("event",n,i);return}else{const o=await t,u={...i,send_to:o};e("event",n,u)}}async function J7(e,t,n,i){if(i&&i.global){const a={};for(const o of Object.keys(n))a[`user_properties.${o}`]=n[o];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:n})}}async function tq(){if(LI())try{await UI()}catch(e){return In.warn(Jn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return In.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eq(e,t,n,i,a,o,u){const h=$7(e);h.then(E=>{n[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>In.error(E)),t.push(h);const d=tq().then(E=>{if(E)return i.getId()}),[m,y]=await Promise.all([h,d]);j7(o)||k7(o,m.measurementId),a("js",new Date);const _=u?.config??{};return _[D7]="firebase",_.update=!0,y!=null&&(_[x7]=y),a("config",m.measurementId,_),m.measurementId}class nq{constructor(t){this.app=t}_delete(){return delete Al[this.app.options.appId],Promise.resolve()}}let Al={},hC=[];const fC={};let Oy="dataLayer",iq="gtag",dC,oT,mC=!1;function sq(){const e=[];if(r6()&&e.push("This is a browser extension environment."),u6()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=Jn.create("invalid-analytics-context",{errorInfo:t});In.warn(n.message)}}function rq(e,t,n){sq();const i=e.options.appId;if(!i)throw Jn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(Al[i]!=null)throw Jn.create("already-exists",{id:i});if(!mC){L7(Oy);const{wrappedGtag:o,gtagCore:u}=F7(Al,hC,fC,Oy,iq);oT=o,dC=u,mC=!0}return Al[i]=eq(e,hC,fC,t,dC,Oy,n),new nq(e)}function aq(e=dm()){e=Xe(e);const t=ao(e,nm);return t.isInitialized()?t.getImmediate():oq(e)}function oq(e,t={}){const n=ao(e,nm);if(n.isInitialized()){const a=n.getImmediate();if(Yr(t,n.getOptions()))return a;throw Jn.create("already-initialized")}return n.initialize({options:t})}function lq(e,t,n){e=Xe(e),J7(oT,Al[e.app.options.appId],t,n).catch(i=>In.error(i))}function uq(e,t,n,i){e=Xe(e),Z7(oT,Al[e.app.options.appId],t,n,i).catch(a=>In.error(a))}const pC="@firebase/analytics",gC="0.10.19";function cq(){Es(new zi(nm,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return rq(i,a,n)},"PUBLIC")),Es(new zi("analytics-internal",e,"PRIVATE")),Bn(pC,gC),Bn(pC,gC,"esm2020");function e(t){try{const n=t.getProvider(nm).getImmediate();return{logEvent:(i,a,o)=>uq(n,i,a,o),setUserProperties:(i,a)=>lq(n,i,a)}}catch(n){throw Jn.create("interop-component-reg-failed",{reason:n})}}}cq();const hq={apiKey:"AIzaSyDTiQkeej7Dzbbtt8ML2GYNQ4JZlq0akfY",authDomain:"izmirdestek-2c198.firebaseapp.com",databaseURL:"https://izmirdestek-2c198-default-rtdb.europe-west1.firebasedatabase.app",projectId:"izmirdestek-2c198",storageBucket:"izmirdestek-2c198.firebasestorage.app",messagingSenderId:"860366741704",appId:"1:860366741704:web:7aa75bd58f3b3ba7f4c5fd",measurementId:"G-Q4PEZYZ07Q"},jm=HI(hq),La=Gj(jm);z8(jm);const fq=PB(jm);aq(jm);const dq=({onSearch:e,theme:t,onToggleTheme:n})=>{const[i,a]=qg.useState(!1),[o,u]=qg.useState(0);return qg.useEffect(()=>{const h=CB(fq,"live_views");try{BB(h,m=>(m||0)+1)}catch(m){console.warn("RTDB Transaction failed (check rules):",m)}const d=sD(h,m=>{u(m.val()||0)},m=>{console.warn("RTDB Subscription failed (check rules):",m)});return()=>d()},[]),$.jsx("header",{className:"header glass",children:$.jsxs("div",{className:"header-content",children:[$.jsxs("h1",{className:"logo",children:["zmir",$.jsx("span",{children:"Destek"})]}),$.jsxs("div",{className:"search-bar",children:[$.jsx(JO,{size:18,className:"search-icon"}),$.jsx("input",{type:"text",placeholder:"Mesajlarda ara...",onChange:h=>e(h.target.value)})]}),$.jsxs("div",{className:"header-actions",children:[$.jsxs("div",{className:"live-badge glass",children:[$.jsx(GC,{size:14}),$.jsx("span",{children:o})]}),$.jsx("button",{className:`settings-toggle ${i?"active":""}`,onClick:()=>a(!i),children:$.jsx(nP,{size:22})}),$.jsx(Cv,{children:i&&$.jsxs(Id.div,{className:"settings-menu glass",initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},children:[$.jsx("p",{className:"menu-title",children:"Grnm"}),$.jsxs("div",{className:"menu-item",onClick:()=>{n(),a(!1)},children:[$.jsx("div",{className:"item-info",children:$.jsxs("span",{children:["Mod: ",t==="dark"?"Gece Mavisi":"Aydnlk"]})}),t==="dark"?$.jsx(aP,{size:18}):$.jsx(QO,{size:18})]})]})})]})]})})},mq=()=>$.jsx("footer",{className:"footer",children:$.jsxs("div",{className:"footer-content",children:[$.jsxs("p",{children:[" ",new Date().getFullYear()," zmir Destek - Tm haklar sakldr."]}),$.jsxs("p",{className:"attribution",children:["Bu site ",$.jsx("span",{className:"highlight",children:"pargusz"})," tarafndan yaplmtr."]})]})}),Ua="posts",pq=e=>new Promise((t,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=a=>n(a)}),fs={createPost:async(e,t,n,i=null)=>{let a=null,o=null,u=null;if(n)try{if(n.size>95e4)throw new Error("Dosya ok byk! Ltfen 1MB'dan kk bir dosya sein.");a=await pq(n),o=n.type,u=n.name}catch(h){throw console.error("Base64 Conversion Error:",h),h}try{return await d8($1(La,Ua),{content:e,username:t||"Anonim",imageUrl:a,fileUrl:a,fileType:o,fileName:u,mediaUrl:i,likes:[],comments:[],views:0,createdAt:n8()})}catch(h){throw console.error("Firestore Error:",h),h}},incrementView:async e=>{try{const t=cl(La,Ua,e);await Dy(t,{views:s8(1)})}catch(t){console.error("Increment View Error:",t)}},getPost:async e=>{try{const t=cl(La,Ua,e),n=await h8(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){throw console.error("Get Post Error:",t),t}},subscribeToPosts:e=>{const t=o8($1(La,Ua),l8("createdAt","desc"));return m8(t,n=>{const i=n.docs.map(a=>({id:a.id,...a.data()}));e(i)},n=>{console.error("Firestore Subscription Error:",n)})},toggleLike:async(e,t,n)=>{try{const i=cl(La,Ua,e);await Dy(i,{likes:n?i8(t):Z1(t)})}catch(i){throw console.error("Like Error:",i),i}},addComment:async(e,t,n)=>{try{const i=cl(La,Ua,e),a={content:t,username:n||"Anonim",createdAt:new Date().toISOString()};await Dy(i,{comments:Z1(a)})}catch(i){throw console.error("Comment Error:",i),i}},deletePost:async e=>{try{await f8(cl(La,Ua,e))}catch(t){throw console.error("Delete Post Error:",t),t}}},h2=({post:e,onLike:t,onComment:n,currentUserId:i})=>{const[a,o]=P.useState(!1),[u,h]=P.useState(""),d=e.likes?.includes(i),m=P.useRef(null),y=()=>{u.trim()&&(n(e.id,u),h(""))};P.useEffect(()=>{const tt=new IntersectionObserver(rt=>{rt.forEach(ut=>{if(ut.isIntersecting){const I=`viewed_post_${e.id}`;localStorage.getItem(I)||(fs.incrementView(e.id),localStorage.setItem(I,"true")),tt.disconnect()}})},{threshold:.5});return m.current&&tt.observe(m.current),()=>{m.current&&tt.unobserve(m.current)}},[e.id]);const _=tt=>{if(!tt)return null;const rt=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,ut=tt.match(rt);return ut&&ut[2].length===11?ut[2]:null},E=tt=>{if(!tt)return null;const rt=tt.match(/open\.spotify\.com\/(track|album|playlist)\/([a-zA-Z0-9]+)/);return rt?`https://open.spotify.com/embed/${rt[1]}/${rt[2]}`:null},A=tt=>{if(!tt)return null;const rt=tt.match(/instagram\.com\/(p|reel)\/([a-zA-Z0-9_-]+)/);return rt?rt[2]:null},R=tt=>tt&&tt.match(/(twitter|x)\.com\/\w+\/status\/\d+/)?`https://twitframe.com/show?url=${encodeURIComponent(tt)}`:null,D=_(e.mediaUrl),N=E(e.mediaUrl),F=A(e.mediaUrl),j=R(e.mediaUrl),H=()=>{const tt="/izmirdestek/".endsWith("/")?"/izmirdestek/":"/izmirdestek//",rt=`${window.location.origin}${tt}post/${e.id}`;navigator.clipboard.writeText(rt),alert("Balant kopyaland!")};return $.jsxs(Id.div,{ref:m,className:"post-card glass animate-fade",initial:{opacity:0,y:20},animate:{opacity:1,y:0},layout:!0,children:[$.jsxs("div",{className:"post-header",children:[$.jsx("div",{className:"user-icon",children:$.jsx(lP,{size:20})}),$.jsxs("div",{className:"user-info",children:[$.jsx("span",{className:"username",children:e.username}),$.jsx("span",{className:"timestamp",children:e.createdAt?.toDate?e.createdAt.toDate().toLocaleDateString("tr-TR"):"imdi"})]})]}),$.jsxs("div",{className:"post-content",children:[$.jsx("p",{children:e.content}),(e.fileUrl||e.imageUrl)&&$.jsx("div",{className:"post-asset",children:e.fileType?.startsWith("video/")?$.jsx("div",{className:"video-player-container",children:$.jsxs("video",{controls:!0,width:"100%",className:"native-video",children:[$.jsx("source",{src:e.fileUrl||e.imageUrl,type:e.fileType}),"Taraycnz video etiketini desteklemiyor."]})}):e.fileType?.startsWith("image/")||!e.fileType&&e.imageUrl?$.jsx("div",{className:"post-image",children:$.jsx("img",{src:e.fileUrl||e.imageUrl,alt:"Post"})}):$.jsxs("div",{className:"file-attachment glass",children:[$.jsx("div",{className:"file-icon",children:e.fileType?.includes("pdf")?$.jsx(Xg,{size:32,color:"#e74c3c"}):e.fileType?.includes("sheet")||e.fileType?.includes("excel")?$.jsx(Xg,{size:32,color:"#27ae60"}):$.jsx(Xg,{size:32,color:"#3498db"})}),$.jsxs("div",{className:"file-info",children:[$.jsx("span",{className:"file-name",children:e.fileName||"Dosya Eki"}),$.jsxs("a",{href:e.fileUrl||e.imageUrl,download:e.fileType?.includes("pdf")||e.fileType?.includes("image")?void 0:e.fileName||"download",target:"_blank",rel:"noopener noreferrer",className:"download-btn",children:[$.jsx(LO,{size:16})," ",e.fileType?.includes("pdf")||e.fileType?.includes("image")?"Dosyay Grntle":"ndir"]})]})]})}),e.mediaUrl&&$.jsx("div",{className:"post-media",children:D?$.jsx("div",{className:"video-container",children:$.jsx("iframe",{src:`https://www.youtube.com/embed/${D}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):N?$.jsx("div",{className:"spotify-embed",children:$.jsx("iframe",{src:N,width:"100%",height:"80",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"})}):F?$.jsx("div",{className:"instagram-embed",children:$.jsx("iframe",{src:`https://www.instagram.com/p/${F}/embed`,width:"100%",height:"450",frameBorder:"0",allowtransparency:"true"})}):j?$.jsx("div",{className:"twitter-embed",children:$.jsx("iframe",{src:j,width:"100%",height:"400",frameBorder:"0",allowtransparency:"true"})}):$.jsx("a",{href:e.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"link-preview glass",children:$.jsxs("span",{children:[" Linke Git: ",e.mediaUrl]})})})]}),$.jsxs("div",{className:"post-actions",children:[$.jsxs("button",{className:`action-btn like ${d?"active":""}`,onClick:()=>t(e.id,d),children:[$.jsx(FO,{size:20,fill:d?"currentColor":"none"}),$.jsx("span",{children:e.likes?.length||0})]}),$.jsxs("button",{className:"action-btn comment",onClick:()=>o(!a),children:[$.jsx(KO,{size:20}),$.jsx("span",{children:e.comments?.length||0})]}),$.jsx("button",{className:"action-btn share",onClick:H,children:$.jsx(sP,{size:20})}),$.jsxs("div",{className:"view-count glass",children:[$.jsx(GC,{size:16}),$.jsx("span",{children:e.views||0})]})]}),$.jsx(Cv,{children:a&&$.jsxs(Id.div,{className:"comments-section",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[$.jsx("div",{className:"comments-list",children:e.comments?.map((tt,rt)=>$.jsxs("div",{className:"comment-item",children:[$.jsx("span",{className:"comment-user",children:tt.username}),$.jsx("p",{className:"comment-text",children:tt.content})]},rt))}),$.jsxs("div",{className:"add-comment glass",children:[$.jsx("input",{type:"text",placeholder:"Yorum yap...",value:u,onChange:tt=>h(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&u.trim()&&y()}}),$.jsx("button",{className:"send-comment-btn",onClick:y,disabled:!u.trim(),children:$.jsx(YC,{size:18})})]})]})})]})},yC=localStorage.getItem("izmir_destek_uid"),gq=()=>{const{postId:e}=PV(),t=PC(),[n,i]=P.useState(null),[a,o]=P.useState(!0);P.useEffect(()=>{(async()=>{try{const m=await fs.getPost(e);i(m)}catch(m){console.error("Error fetching post:",m)}finally{o(!1)}})()},[e]);const u=async(d,m)=>{try{await fs.toggleLike(d,yC,m);const y=await fs.getPost(d);i(y)}catch(y){console.error("Error toggling like:",y)}},h=async(d,m)=>{try{await fs.addComment(d,m,"Anonim");const y=await fs.getPost(d);i(y)}catch(y){console.error("Error adding comment:",y)}};return a?$.jsx("div",{className:"post-view-loading",children:$.jsx(GO,{className:"animate-spin",size:40})}):n?$.jsxs("div",{className:"post-view-container animate-fade",children:[$.jsxs("button",{className:"back-btn-top",onClick:()=>t("/"),children:[$.jsx(Gw,{size:18})," Geri Dn"]}),$.jsx(h2,{post:n,onLike:u,onComment:h,currentUserId:yC})]}):$.jsxs("div",{className:"post-view-error glass",children:[$.jsx("h2",{children:"Mesaj bulunamad."}),$.jsxs("button",{className:"back-btn",onClick:()=>t("/"),children:[$.jsx(Gw,{size:18})," Ana Sayfaya Dn"]})]})},_C=["amk","aq","sik","sikim","sikerim","yarrak","yarak","o","pic","pi","gt","orosbu","orospu","kahpe","yavak","amck","anan","bacn","srtk","ibne","gavat","kaltak","kaar","skm","amq","sie","fuck","shit","bitch","asshole","cunt","dick","bastard","whore","slut","fucking","motherfucker","cock","pussy"],vC=e=>{if(e.length<=1)return e;if(e.length===2)return e[0]+"*";const t=e[0],n=e[e.length-1],i="*".repeat(e.length-2);return`${t}${i}${n}`},EC=e=>e&&e.split(/\s+/).map(t=>{const n=t.toLowerCase().replace(/[^a-z]/g,"");return _C.includes(n)||_C.find(a=>a.length<4?n===a:n.includes(a))?vC(t):t}).join(" "),yq=({isOpen:e,onClose:t,onSubmit:n})=>{const[i,a]=P.useState(""),[o,u]=P.useState(""),[h,d]=P.useState(""),[m,y]=P.useState(null),[_,E]=P.useState(!1),A=async D=>{if(D.preventDefault(),!i.trim())return;E(!0);const N=EC(i),F=o?EC(o):"";let j=h.trim();j.toLowerCase().includes("example site")&&(j=j.replace(/example\s*site/gi,"").trim()),j&&!j.match(/^https?:\/\//)&&(j=`https://${j}`),await n(N,F,m,j||null),E(!1),a(""),u(""),d(""),y(null),t()},R=D=>{D.target.files[0]&&y(D.target.files[0])};return $.jsx(Cv,{children:e&&$.jsx("div",{className:"modal-overlay",children:$.jsxs(Id.div,{className:"modal-content glass",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[$.jsxs("div",{className:"modal-header",children:[$.jsx("h2",{children:"Yeni Mesaj Payla"}),$.jsx("button",{className:"close-btn",onClick:t,children:$.jsx(cP,{size:24})})]}),$.jsxs("form",{onSubmit:A,children:[$.jsx("div",{className:"input-group",children:$.jsx("input",{type:"text",placeholder:"Kullanc Ad (Opsiyonel)",value:o,onChange:D=>u(D.target.value)})}),$.jsx("div",{className:"input-group",children:$.jsx("textarea",{placeholder:"Ne anlatmak istersin?",rows:"4",value:i,onChange:D=>a(D.target.value),required:!0})}),$.jsx("div",{className:"input-group",children:$.jsx("input",{type:"url",placeholder:"Video veya Link Ekle (https://...)",value:h,onChange:D=>d(D.target.value),className:"media-input"})}),$.jsxs("div",{className:"form-actions",children:[$.jsxs("label",{className:"image-upload-label",children:[$.jsx(qO,{size:20}),$.jsx("span",{children:m?m.name.length>20?m.name.substring(0,20)+"...":m.name:"Dosya/Grsel Ekle"}),$.jsx("input",{type:"file",accept:"image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,video/mp4",onChange:R,hidden:!0})]}),$.jsx("button",{type:"submit",className:"submit-btn",disabled:_||!i.trim(),children:_?"Gnderiliyor...":$.jsxs($.Fragment,{children:[$.jsx("span",{children:"Payla"}),$.jsx(YC,{size:18})]})})]})]})]})})})},TC=localStorage.getItem("izmir_destek_uid")||(()=>{const e=Math.random().toString(36).substring(2,11);return localStorage.setItem("izmir_destek_uid",e),e})();function _q(){const[e,t]=P.useState([]),[n,i]=P.useState([]),[a,o]=P.useState(""),[u,h]=P.useState(!1),[d,m]=P.useState(localStorage.getItem("izmir_destek_theme")||"dark");P.useEffect(()=>{document.documentElement.setAttribute("data-theme",d),localStorage.setItem("izmir_destek_theme",d)},[d]);const y=()=>{m(R=>R==="dark"?"light":"dark")};P.useEffect(()=>{const R=fs.subscribeToPosts(D=>{t(D)});return()=>R()},[]),P.useEffect(()=>{if(!a)i(e);else{const R=e.filter(D=>D.content.toLowerCase().includes(a.toLowerCase())||D.username.toLowerCase().includes(a.toLowerCase()));i(R)}},[a,e]);const _=async(R,D,N,F)=>{try{await fs.createPost(R,D,N,F)}catch(j){console.error("Error creating post:",j),alert("Gnderi oluturulurken bir hata olutu.")}},E=async(R,D)=>{try{await fs.toggleLike(R,TC,D)}catch(N){console.error("Error toggling like:",N)}},A=async(R,D)=>{try{await fs.addComment(R,D,"Anonim")}catch(N){console.error("Error adding comment:",N)}};return $.jsxs("div",{className:"app-container",children:[$.jsx(dq,{onSearch:o,theme:d,onToggleTheme:y}),$.jsx("main",{className:"main-content",children:$.jsxs(WV,{children:[$.jsx(ky,{path:"/",element:$.jsxs($.Fragment,{children:[n.length>0?n.map(R=>$.jsx(h2,{post:R,onLike:E,onComment:A,currentUserId:TC},R.id)):$.jsx("div",{className:"empty-state glass",children:$.jsx("p",{children:"Henz mesaj yok veya aramanzla eleen sonu bulunamad."})}),$.jsx("button",{className:"fab-btn",onClick:()=>h(!0),children:$.jsx(XO,{size:32})})]})}),$.jsx(ky,{path:"/post/:postId",element:$.jsx(gq,{})})]})}),$.jsx(yq,{isOpen:u,onClose:()=>h(!1),onSubmit:_}),$.jsx(mq,{})]})}ZM.createRoot(document.getElementById("root")).render($.jsx(P.StrictMode,{children:$.jsx(EO,{basename:"/izmirdestek",children:$.jsx(_q,{})})}));
